{"version":3,"file":"sim-8ac7f2e3.chunk.js","sources":["../../../ui/feral_druid/inputs.ts","../../../ui/feral_druid/presets.ts","../../../ui/feral_druid/sim.ts"],"sourcesContent":["import { FeralDruid_Rotation_FinishingMove as FinishingMove } from '../core/proto/druid.js';\nimport { FeralDruid_Options as DruidOptions } from '../core/proto/druid.js';\nimport { RaidTarget } from '../core/proto/common.js';\nimport { Spec } from '../core/proto/common.js';\nimport { NO_TARGET } from '../core/proto_utils/utils.js';\nimport { ActionId } from '../core/proto_utils/action_id.js';\nimport { Player } from '../core/player.js';\nimport { Sim } from '../core/sim.js';\nimport { EventID, TypedEvent } from '../core/typed_event.js';\nimport { IndividualSimUI } from '../core/individual_sim_ui.js';\nimport { Target } from '../core/target.js';\nimport { getEnumValues } from '../core/utils.js';\nimport { ItemSlot } from '../core/proto/common.js';\n\nimport * as InputHelpers from '../core/components/input_helpers.js';\n\n// Helper function for identifying whether 2pT6 is equipped, which impacts allowed rotation options\nfunction numThunderheartPieces(player: Player<Spec.SpecFeralDruid>): number {\n\tconst gear = player.getGear();\n\tconst itemIds = [31048, 31042, 31034, 31044, 31039, 34556, 34444, 34573];\n\treturn gear.asArray().map(equippedItem => equippedItem?.item.id).filter(id => itemIds.includes(id!)).length\n}\n\n// Configuration for spec-specific UI elements on the settings tab.\n// These don't need to be in a separate file but it keeps things cleaner.\n\nexport const SelfInnervate = InputHelpers.makeSpecOptionsBooleanIconInput<Spec.SpecFeralDruid>({\n\tfieldName: 'innervateTarget',\n\tid: ActionId.fromSpellId(29166),\n\textraCssClasses: [\n\t\t'within-raid-sim-hide',\n\t],\n\tgetValue: (player: Player<Spec.SpecFeralDruid>) => player.getSpecOptions().innervateTarget?.targetIndex != NO_TARGET,\n\tsetValue: (eventID: EventID, player: Player<Spec.SpecFeralDruid>, newValue: boolean) => {\n\t\tconst newOptions = player.getSpecOptions();\n\t\tnewOptions.innervateTarget = RaidTarget.create({\n\t\t\ttargetIndex: newValue ? 0 : NO_TARGET,\n\t\t});\n\t\tplayer.setSpecOptions(eventID, newOptions);\n\t},\n});\n\nexport const LatencyMs = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecFeralDruid>({\n\tfieldName: 'latencyMs',\n\tlabel: 'Latency',\n\tlabelTooltip: 'Player latency, in milliseconds. Adds a delay to actions that cannot be spell queued.',\n});\n\nexport const FeralDruidRotationConfig = {\n\tinputs: [\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecFeralDruid, FinishingMove>({\n\t\t\tfieldName: 'finishingMove',\n\t\t\tlabel: 'Finishing Move',\n\t\t\tlabelTooltip: 'Specify whether Rip or Ferocious Bite should be used as the primary finisher in the DPS rotation.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Rip', value: FinishingMove.Rip },\n\t\t\t\t{ name: 'Ferocious Bite', value: FinishingMove.Bite },\n\t\t\t\t{ name: 'None', value: FinishingMove.None },\n\t\t\t],\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecFeralDruid>({\n\t\t\tfieldName: 'biteweave',\n\t\t\tlabel: 'Enable Bite-weaving',\n\t\t\tlabelTooltip: 'Spend Combo Points on Ferocious Bite when Rip is already applied on the target.',\n\t\t\tenableWhen: (player: Player<Spec.SpecFeralDruid>) => player.getRotation().finishingMove == FinishingMove.Rip,\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecFeralDruid>({\n\t\t\tfieldName: 'ripweave',\n\t\t\tlabel: 'Enable Rip-weaving',\n\t\t\tlabelTooltip: 'Spend Combo Points on Rip when at 52 Energy or above.',\n\t\t\tenableWhen: (player: Player<Spec.SpecFeralDruid>) => player.getRotation().finishingMove == FinishingMove.Bite,\n\t\t}),\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecFeralDruid, number>({\n\t\t\tfieldName: 'ripMinComboPoints',\n\t\t\tlabel: 'Rip CP Threshold',\n\t\t\tlabelTooltip: 'Minimum Combo Points to accumulate before casting Rip as a finisher.',\n\t\t\tvalues: [\n\t\t\t\t{ name: '4', value: 4 },\n\t\t\t\t{ name: '5', value: 5 },\n\t\t\t],\n\t\t\tenableWhen: (player: Player<Spec.SpecFeralDruid>) => (player.getRotation().finishingMove == FinishingMove.Rip) || (player.getRotation().ripweave && (player.getRotation().finishingMove != FinishingMove.None)),\n\t\t}),\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecFeralDruid, number>({\n\t\t\tfieldName: 'biteMinComboPoints',\n\t\t\tlabel: 'Bite CP Threshold',\n\t\t\tlabelTooltip: 'Minimum Combo Points to accumulate before casting Ferocious Bite as a finisher.',\n\t\t\tvalues: [\n\t\t\t\t{ name: '4', value: 4 },\n\t\t\t\t{ name: '5', value: 5 },\n\t\t\t],\n\t\t\tenableWhen: (player: Player<Spec.SpecFeralDruid>) => (player.getRotation().finishingMove == FinishingMove.Bite) || (player.getRotation().biteweave && (player.getRotation().finishingMove != FinishingMove.None)),\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecFeralDruid>({\n\t\t\tfieldName: 'mangleTrick',\n\t\t\tlabel: 'Use Mangle trick',\n\t\t\tlabelTooltip: 'Cast Mangle rather than Shred when between 50-56 Energy with 2pT6, or 60-61 Energy without 2pT6, and with less than 1 second remaining until the next Energy tick.',\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecFeralDruid>({\n\t\t\tfieldName: 'rakeTrick',\n\t\t\tlabel: 'Use Rake/Bite tricks',\n\t\t\tlabelTooltip: 'Cast Rake or Ferocious Bite rather than powershifting when between 35-39 Energy without 2pT6, and with more than 1 second remaining until the next Energy tick.',\n\t\t\tenableWhen: (player: Player<Spec.SpecFeralDruid>) => numThunderheartPieces(player) < 2,\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecFeralDruid>({\n\t\t\tfieldName: 'maintainFaerieFire',\n\t\t\tlabel: 'Maintain Faerie Fire',\n\t\t\tlabelTooltip: 'Use Faerie Fire whenever it is not active on the target.',\n\t\t}),\n\t],\n};\n","import { Consumes } from '../core/proto/common.js';\nimport { BattleElixir } from '../core/proto/common.js';\nimport { Food } from '../core/proto/common.js';\nimport { EquipmentSpec } from '../core/proto/common.js';\nimport { Potions } from '../core/proto/common.js';\nimport { Conjured } from '../core/proto/common.js';\nimport { SavedTalents } from '../core/proto/ui.js';\n\nimport { FeralDruid_Rotation as FeralDruidRotation, FeralDruid_Options as FeralDruidOptions } from '../core/proto/druid.js';\nimport { FeralDruid_Rotation_FinishingMove as FinishingMove } from '../core/proto/druid.js';\n\nimport * as Tooltips from '../core/constants/tooltips.js';\n\n// Preset options for this spec.\n// Eventually we will import these values for the raid sim too, so its good to\n// keep them in a separate file.\n\n// Default talents. Uses the wowhead calculator format, make the talents on\n// https://wowhead.com/wotlk/talent-calc and copy the numbers in the url.\nexport const StandardTalents = {\n\tname: 'Standard',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '-503202132322010053120230310511-205503012',\n\t}),\n};\n\n\nexport const DefaultRotation = FeralDruidRotation.create({\n\tfinishingMove: FinishingMove.Rip,\n\tmangleTrick: true,\n\tbiteweave: true,\n\tripMinComboPoints: 5,\n\tbiteMinComboPoints: 5,\n\trakeTrick: false,\n\tripweave: false,\n\tmaintainFaerieFire: true,\n});\n\nexport const DefaultOptions = FeralDruidOptions.create({\n});\n\nexport const DefaultConsumes = Consumes.create({\n\tbattleElixir: BattleElixir.ElixirOfMajorAgility,\n\tfood: Food.FoodGrilledMudfish,\n\tdefaultPotion: Potions.HastePotion,\n\tdefaultConjured: Conjured.ConjuredDarkRune,\n});\n\nexport const P1_PRESET = {\n\tname: 'P1 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\n\t\t\t\"id\": 8345,\n\t\t\t\"enchant\": 29192\n\t\t},\n\t\t{\n\t\t\t\"id\": 29381\n\t\t},\n\t\t{\n\t\t\t\"id\": 29100,\n\t\t\t\"enchant\": 28888,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 28672,\n\t\t\t\"enchant\": 34004\n\t\t},\n\t\t{\n\t\t\t\"id\": 29096,\n\t\t\t\"enchant\": 24003,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29246,\n\t\t\t\"enchant\": 27899\n\t\t},\n\t\t{\n\t\t\t\"id\": 28506,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 28750,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 28741,\n\t\t\t\"enchant\": 29535,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 28545,\n\t\t\t\"enchant\": 28279,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 28649,\n\t\t\t\"enchant\": 22535\n\t\t},\n\t\t{\n\t\t\t\"id\": 30834,\n\t\t\t\"enchant\": 22535\n\t\t},\n\t\t{\n\t\t\t\"id\": 28830\n\t\t},\n\t\t{\n\t\t\t\"id\": 29383\n\t\t},\n\t\t{\n\t\t\t\"id\": 28658,\n\t\t\t\"enchant\": 22556\n\t\t},\n\t\t{\n\t\t\t\"id\": 29390\n\t\t}\n\t]}`),\n};\n\nexport const P2_PRESET = {\n\tname: 'P2 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\n\t\t\t\"id\": 8345,\n\t\t\t\"enchant\": 29192\n\t\t},\n\t\t{\n\t\t\t\"id\": 30017\n\t\t},\n\t\t{\n\t\t\t\"id\": 29100,\n\t\t\t\"enchant\": 28888,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29994,\n\t\t\t\"enchant\": 34004\n\t\t},\n\t\t{\n\t\t\t\"id\": 29096,\n\t\t\t\"enchant\": 24003,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29966,\n\t\t\t\"enchant\": 27899,\n\t\t\t\"gems\": [\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29947,\n\t\t\t\"enchant\": 19445\n\t\t},\n\t\t{\n\t\t\t\"id\": 30106,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t30549\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29995,\n\t\t\t\"enchant\": 29535\n\t\t},\n\t\t{\n\t\t\t\"id\": 28545,\n\t\t\t\"enchant\": 28279,\n\t\t\t\"gems\": [\n\t\t\t\t24028,\n\t\t\t\t24028\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 30052,\n\t\t\t\"enchant\": 22535\n\t\t},\n\t\t{\n\t\t\t\"id\": 29997,\n\t\t\t\"enchant\": 22535\n\t\t},\n\t\t{\n\t\t\t\"id\": 30627\n\t\t},\n\t\t{\n\t\t\t\"id\": 29383\n\t\t},\n\t\t{\n\t\t\t\"id\": 32014,\n\t\t\t\"enchant\": 22556\n\t\t},\n\t\t{\n\t\t\t\"id\": 29390\n\t\t}\n\t]}`),\n};\n\nexport const P3_PRESET = {\n\tname: 'P3 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\n\t\t\t\"id\": 8345,\n\t\t\t\"enchant\": 29192\n\t\t},\n\t\t{\n\t\t\t\"id\": 32260\n\t\t},\n\t\t{\n\t\t\t\"id\": 31048,\n\t\t\t\"enchant\": 23548,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29994,\n\t\t\t\"enchant\": 34004\n\t\t},\n\t\t{\n\t\t\t\"id\": 31042,\n\t\t\t\"enchant\": 24003,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 33881,\n\t\t\t\"enchant\": 27899,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 31034,\n\t\t\t\"enchant\": 19445,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 30106,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 31044,\n\t\t\t\"enchant\": 29535,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 32366,\n\t\t\t\"enchant\": 28279,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 32335,\n\t\t\t\"enchant\": 22538\n\t\t},\n\t\t{\n\t\t\t\"id\": 29301,\n\t\t\t\"enchant\": 22538\n\t\t},\n\t\t{\n\t\t\t\"id\": 30627\n\t\t},\n\t\t{\n\t\t\t\"id\": 29383\n\t\t},\n\t\t{\n\t\t\t\"id\": 33716,\n\t\t\t\"enchant\": 22556\n\t\t},\n\t\t{\n\t\t\t\"id\": 32387\n\t\t}\n\t]}`),\n};\n\nexport const P4_PRESET = {\n\tname: 'P4 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\n\t\t\t\"id\": 8345,\n\t\t\t\"enchant\": 29192\n\t\t},\n\t\t{\n\t\t\t\"id\": 24114\n\t\t},\n\t\t{\n\t\t\t\"id\": 31048,\n\t\t\t\"enchant\": 23548,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29994,\n\t\t\t\"enchant\": 34004\n\t\t},\n\t\t{\n\t\t\t\"id\": 31042,\n\t\t\t\"enchant\": 24003,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 33881,\n\t\t\t\"enchant\": 27899,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 31034,\n\t\t\t\"enchant\": 33152,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 30106,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 31044,\n\t\t\t\"enchant\": 29535,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 32366,\n\t\t\t\"enchant\": 28279,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 29301,\n\t\t\t\"enchant\": 22538\n\t\t},\n\t\t{\n\t\t\t\"id\": 33496,\n\t\t\t\"enchant\": 22538\n\t\t},\n\t\t{\n\t\t\t\"id\": 30627\n\t\t},\n\t\t{\n\t\t\t\"id\": 33831\n\t\t},\n\t\t{\n\t\t\t\"id\": 33716,\n\t\t\t\"enchant\": 22556\n\t\t},\n\t\t{\n\t\t\t\"id\": 32387\n\t\t}\n\t]}`),\n};\n\nexport const P5_PRESET = {\n\tname: 'P5 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\n\t\t\t\"id\": 32235,\n\t\t\t\"enchant\": 29192,\n\t\t\t\"gems\": [\n\t\t\t\t32409,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34177\n\t\t},\n\t\t{\n\t\t\t\"id\": 31048,\n\t\t\t\"enchant\": 23548,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34241,\n\t\t\t\"enchant\": 34004,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34397,\n\t\t\t\"enchant\": 24003,\n\t\t\t\"gems\": [\n\t\t\t\t32226,\n\t\t\t\t32226,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34444,\n\t\t\t\"enchant\": 27899,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34370,\n\t\t\t\"enchant\": 19445,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34556,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34188,\n\t\t\t\"enchant\": 29535,\n\t\t\t\"gems\": [\n\t\t\t\t32194,\n\t\t\t\t32194,\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34573,\n\t\t\t\"enchant\": 28279,\n\t\t\t\"gems\": [\n\t\t\t\t32194\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": 34887,\n\t\t\t\"enchant\": 22538\n\t\t},\n\t\t{\n\t\t\t\"id\": 34189,\n\t\t\t\"enchant\": 22538\n\t\t},\n\t\t{\n\t\t\t\"id\": 34472\n\t\t},\n\t\t{\n\t\t\t\"id\": 34427\n\t\t},\n\t\t{\n\t\t\t\"id\": 34198,\n\t\t\t\"enchant\": 22556\n\t\t},\n\t\t{\n\t\t\t\"id\": 32387\n\t\t}\n\t]}`),\n};\n","import { RaidBuffs } from '../core/proto/common.js';\nimport { PartyBuffs } from '../core/proto/common.js';\nimport { IndividualBuffs } from '../core/proto/common.js';\nimport { Debuffs } from '../core/proto/common.js';\nimport { Class } from '../core/proto/common.js';\nimport { Consumes } from '../core/proto/common.js';\nimport { Encounter } from '../core/proto/common.js';\nimport { ItemSlot } from '../core/proto/common.js';\nimport { MobType } from '../core/proto/common.js';\nimport { RaidTarget } from '../core/proto/common.js';\nimport { Spec } from '../core/proto/common.js';\nimport { NO_TARGET } from '../core/proto_utils/utils.js';\nimport { Stat } from '../core/proto/common.js';\nimport { TristateEffect } from '../core/proto/common.js'\nimport { Stats } from '../core/proto_utils/stats.js';\nimport { Player } from '../core/player.js';\nimport { Sim } from '../core/sim.js';\nimport { IndividualSimUI } from '../core/individual_sim_ui.js';\nimport { TypedEvent } from '../core/typed_event.js';\n\nimport { FeralDruid, FeralDruid_Rotation as FeralDruidRotation, DruidTalents as DruidTalents, FeralDruid_Options as FeralDruidOptions } from '../core/proto/druid.js';\nimport { FeralDruid_Rotation_FinishingMove as FinishingMove } from '../core/proto/druid.js';\n\nimport * as IconInputs from '../core/components/icon_inputs.js';\nimport * as OtherInputs from '../core/components/other_inputs.js';\nimport * as Tooltips from '../core/constants/tooltips.js';\n\nimport * as DruidInputs from './inputs.js';\nimport * as Presets from './presets.js';\n\nexport class FeralDruidSimUI extends IndividualSimUI<Spec.SpecFeralDruid> {\n\tconstructor(parentElem: HTMLElement, player: Player<Spec.SpecFeralDruid>) {\n\t\tsuper(parentElem, player, {\n\t\t\tcssClass: 'feral-druid-sim-ui',\n\t\t\t// List any known bugs / issues here and they'll be shown on the site.\n\t\t\tknownIssues: [\n\t\t\t\t\"Most Sets / new items aren't functional\",\n\t\t\t\t\"Rotations need updating\",\n\t\t\t\t\"Lacerate doesn't snapshot correctly\",\n\t\t\t],\n\t\t\twarnings: [\n\t\t\t\t// Warning that a frontal rotation is not implemented.\n\t\t\t\t(simUI: IndividualSimUI<Spec.SpecFeralDruid>) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tupdateOn: simUI.player.inFrontOfTargetChangeEmitter,\n\t\t\t\t\t\tgetContent: () => simUI.player.getInFrontOfTarget() ? 'Frontal rotation (without Shred) is not implemented.' : '',\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t],\n\n\t\t\t// All stats for which EP should be calculated.\n\t\t\tepStats: [\n\t\t\t\tStat.StatStrength,\n\t\t\t\tStat.StatAgility,\n\t\t\t\tStat.StatAttackPower,\n\t\t\t\tStat.StatMeleeHit,\n\t\t\t\tStat.StatMeleeCrit,\n\t\t\t\tStat.StatMeleeHaste,\n\t\t\t\tStat.StatArmorPenetration,\n\t\t\t\tStat.StatExpertise,\n\t\t\t],\n\t\t\t// Reference stat against which to calculate EP. I think all classes use either spell power or attack power.\n\t\t\tepReferenceStat: Stat.StatAttackPower,\n\t\t\t// Which stats to display in the Character Stats section, at the bottom of the left-hand sidebar.\n\t\t\tdisplayStats: [\n\t\t\t\tStat.StatHealth,\n\t\t\t\tStat.StatStrength,\n\t\t\t\tStat.StatAgility,\n\t\t\t\tStat.StatIntellect,\n\t\t\t\tStat.StatSpirit,\n\t\t\t\tStat.StatAttackPower,\n\t\t\t\tStat.StatMeleeHit,\n\t\t\t\tStat.StatMeleeCrit,\n\t\t\t\tStat.StatMeleeHaste,\n\t\t\t\tStat.StatArmorPenetration,\n\t\t\t\tStat.StatExpertise,\n\t\t\t\tStat.StatMana,\n\t\t\t\tStat.StatMP5,\n\t\t\t],\n\n\t\t\tdefaults: {\n\t\t\t\t// Default equipped gear.\n\t\t\t\tgear: Presets.P4_PRESET.gear,\n\t\t\t\t// Default EP weights for sorting gear in the gear picker.\n\t\t\t\tepWeights: Stats.fromMap({\n\t\t\t\t\t[Stat.StatStrength]: 2.266,\n\t\t\t\t\t[Stat.StatAgility]: 3.5,\n\t\t\t\t\t[Stat.StatAttackPower]: 1,\n\t\t\t\t\t[Stat.StatMeleeHit]: 3.2,\n\t\t\t\t\t[Stat.StatMeleeCrit]: 2.37,\n\t\t\t\t\t[Stat.StatMeleeHaste]: 1.36,\n\t\t\t\t\t[Stat.StatArmorPenetration]: 0.47,\n\t\t\t\t\t[Stat.StatExpertise]: 3.2,\n\t\t\t\t}),\n\t\t\t\t// Default consumes settings.\n\t\t\t\tconsumes: Presets.DefaultConsumes,\n\t\t\t\t// Default rotation settings.\n\t\t\t\trotation: Presets.DefaultRotation,\n\t\t\t\t// Default talents.\n\t\t\t\ttalents: Presets.StandardTalents.data,\n\t\t\t\t// Default spec-specific settings.\n\t\t\t\tspecOptions: FeralDruidOptions.create({\n\t\t\t\t\tinnervateTarget: RaidTarget.create({\n\t\t\t\t\t\ttargetIndex: NO_TARGET, // In an individual sim the 0-indexed player is ourself.\n\t\t\t\t\t}),\n\t\t\t\t\tlatencyMs: 100,\n\t\t\t\t}),\n\t\t\t\t// Default raid/party buffs settings.\n\t\t\t\traidBuffs: RaidBuffs.create({\n\t\t\t\t\tarcaneBrilliance: true,\n\t\t\t\t\tgiftOfTheWild: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tbloodlust: true,\n\t\t\t\t\tmanaSpringTotem: TristateEffect.TristateEffectRegular,\n\t\t\t\t\tstrengthOfEarthTotem: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tbattleShout: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tunleashedRage: true,\n\t\t\t\t}),\n\t\t\t\tpartyBuffs: PartyBuffs.create({\n\t\t\t\t\tbraidedEterniumChain: true,\n\t\t\t\t}),\n\t\t\t\tindividualBuffs: IndividualBuffs.create({\n\t\t\t\t\tblessingOfKings: true,\n\t\t\t\t\tblessingOfMight: TristateEffect.TristateEffectImproved,\n\t\t\t\t}),\n\t\t\t\tdebuffs: Debuffs.create({\n\t\t\t\t\tjudgementOfWisdom: true,\n\t\t\t\t\tbloodFrenzy: true,\n\t\t\t\t\tgiftOfArthas: true,\n\t\t\t\t\texposeArmor: true,\n\t\t\t\t\tfaerieFire: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tsunderArmor: true,\n\t\t\t\t\tcurseOfWeakness: TristateEffect.TristateEffectRegular,\n\t\t\t\t}),\n\t\t\t},\n\n\t\t\t// IconInputs to include in the 'Player' section on the settings tab.\n\t\t\tplayerIconInputs: [\n\t\t\t\tDruidInputs.SelfInnervate,\n\t\t\t],\n\t\t\t// Inputs to include in the 'Rotation' section on the settings tab.\n\t\t\trotationInputs: DruidInputs.FeralDruidRotationConfig,\n\t\t\t// Buff and Debuff inputs to include/exclude, overriding the EP-based defaults.\n\t\t\tincludeBuffDebuffInputs: [\n\t\t\t],\n\t\t\texcludeBuffDebuffInputs: [\n\t\t\t],\n\t\t\t// Inputs to include in the 'Other' section on the settings tab.\n\t\t\totherInputs: {\n\t\t\t\tinputs: [\n\t\t\t\t\tDruidInputs.LatencyMs,\n\t\t\t\t\tOtherInputs.TankAssignment,\n\t\t\t\t\tOtherInputs.InFrontOfTarget,\n\t\t\t\t],\n\t\t\t},\n\t\t\tencounterPicker: {\n\t\t\t\t// Whether to include 'Execute Duration (%)' in the 'Encounter' section of the settings tab.\n\t\t\t\tshowExecuteProportion: false,\n\t\t\t},\n\n\t\t\tpresets: {\n\t\t\t\t// Preset talents that the user can quickly select.\n\t\t\t\ttalents: [\n\t\t\t\t\tPresets.StandardTalents,\n\t\t\t\t],\n\t\t\t\t// Preset gear configurations that the user can quickly select.\n\t\t\t\tgear: [\n\t\t\t\t\tPresets.P1_PRESET,\n\t\t\t\t\tPresets.P2_PRESET,\n\t\t\t\t\tPresets.P3_PRESET,\n\t\t\t\t\tPresets.P4_PRESET,\n\t\t\t\t\tPresets.P5_PRESET,\n\t\t\t\t],\n\t\t\t},\n\t\t});\n\t}\n}\n"],"names":["SelfInnervate","InputHelpers.makeSpecOptionsBooleanIconInput","fieldName","id","ActionId","fromSpellId","extraCssClasses","getValue","player","getSpecOptions","innervateTarget","targetIndex","NO_TARGET","setValue","eventID","newValue","newOptions","RaidTarget","create","setSpecOptions","LatencyMs","InputHelpers.makeSpecOptionsNumberInput","label","labelTooltip","FeralDruidRotationConfig","inputs","InputHelpers.makeRotationEnumInput","values","name","value","FinishingMove","Rip","Bite","None","InputHelpers.makeRotationBooleanInput","enableWhen","getRotation","finishingMove","ripweave","biteweave","gear","getGear","itemIds","asArray","map","equippedItem","item","filter","includes","length","numThunderheartPieces","StandardTalents","data","SavedTalents","talentsString","DefaultRotation","FeralDruidRotation","mangleTrick","ripMinComboPoints","biteMinComboPoints","rakeTrick","maintainFaerieFire","DefaultOptions","FeralDruidOptions","DefaultConsumes","Consumes","battleElixir","BattleElixir","ElixirOfMajorAgility","food","Food","FoodGrilledMudfish","defaultPotion","Potions","HastePotion","defaultConjured","Conjured","ConjuredDarkRune","P1_PRESET","tooltip","Tooltips.BASIC_BIS_DISCLAIMER","EquipmentSpec","fromJsonString","P2_PRESET","P3_PRESET","P4_PRESET","P5_PRESET","FeralDruidSimUI","IndividualSimUI","constructor","parentElem","super","cssClass","knownIssues","warnings","simUI","updateOn","inFrontOfTargetChangeEmitter","getContent","getInFrontOfTarget","epStats","Stat","StatStrength","StatAgility","StatAttackPower","StatMeleeHit","StatMeleeCrit","StatMeleeHaste","StatArmorPenetration","StatExpertise","epReferenceStat","displayStats","StatHealth","StatIntellect","StatSpirit","StatMana","StatMP5","defaults","Presets.P4_PRESET","epWeights","Stats","fromMap","consumes","Presets.DefaultConsumes","rotation","Presets.DefaultRotation","talents","Presets.StandardTalents","specOptions","latencyMs","raidBuffs","RaidBuffs","arcaneBrilliance","giftOfTheWild","TristateEffect","TristateEffectImproved","bloodlust","manaSpringTotem","TristateEffectRegular","strengthOfEarthTotem","battleShout","unleashedRage","partyBuffs","PartyBuffs","braidedEterniumChain","individualBuffs","IndividualBuffs","blessingOfKings","blessingOfMight","debuffs","Debuffs","judgementOfWisdom","bloodFrenzy","giftOfArthas","exposeArmor","faerieFire","sunderArmor","curseOfWeakness","playerIconInputs","DruidInputs.SelfInnervate","rotationInputs","DruidInputs.FeralDruidRotationConfig","includeBuffDebuffInputs","excludeBuffDebuffInputs","otherInputs","DruidInputs.LatencyMs","OtherInputs.TankAssignment","OtherInputs.InFrontOfTarget","encounterPicker","showExecuteProportion","presets","Presets.P1_PRESET","Presets.P2_PRESET","Presets.P3_PRESET","Presets.P5_PRESET"],"mappings":"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"}
{"version":3,"file":"individual_sim_ui-2f0e86c1.chunk.js","sources":["../../../ui/core/proto_utils/gear.ts","../../../ui/core/constants/mechanics.ts","../../../ui/core/target.ts","../../../ui/core/encounter.ts","../../../ui/core/talents/talents_picker.ts","../../../ui/core/talents/druid.ts","../../../ui/core/talents/hunter.ts","../../../ui/core/talents/mage.ts","../../../ui/core/talents/paladin.ts","../../../ui/core/talents/priest.ts","../../../ui/core/talents/rogue.ts","../../../ui/core/talents/shaman.ts","../../../ui/core/talents/warlock.ts","../../../ui/core/talents/warrior.ts","../../../ui/core/talents/deathknight.ts","../../../ui/core/css_utils.ts","../../../ui/core/components/close_button.ts","../../../ui/core/components/popup.ts","../../../ui/core/talents/glyphs_picker.ts","../../../ui/core/talents/factory.ts","../../../ui/core/player.ts","../../../ui/core/party.ts","../../../ui/core/raid.ts","../../../ui/core/worker_pool.ts","../../../ui/core/sim.ts","../../../ui/core/components/number_picker.ts","../../../ui/core/components/bonus_stats_picker.ts","../../../ui/core/components/boolean_picker.ts","../../../ui/core/components/character_stats.ts","../../../ui/core/components/icon_enum_picker.ts","../../../ui/core/components/number_list_picker.ts","../../../ui/core/components/cooldowns_picker.ts","../../../ui/core/components/detailed_results.ts","../../../ui/core/components/list_picker.ts","../../../ui/core/components/custom_rotation_picker.ts","../../../ui/core/components/enum_picker.ts","../../../ui/core/components/encounter_picker.ts","../../../ui/core/proto_utils/enchants.ts","../../../ui/core/components/other_inputs.ts","../../../ui/core/components/gear_picker.ts","../../../ui/core/components/saved_data_manager.ts","../../../ui/core/components/input_helpers.ts","../../../ui/core/talents/hunter_pet.ts","../../../ui/core/components/icon_picker.ts","../../../ui/core/components/log_runner.ts","../../../ui/core/components/multi_icon_picker.ts","../../../ui/core/components/settings_menu.ts","../../../ui/core/components/results_viewer.ts","../../../ui/core/launched_sims.ts","../../../ui/core/components/title.ts","../../../ui/core/sim_ui.ts","../../../ui/core/components/stat_weights_action.ts","../../../ui/core/components/exporters.ts","../../../ui/core/components/importers.ts","../../../ui/core/components/icon_inputs.ts","../../../ui/core/constants/tooltips.ts","../../../ui/core/individual_sim_ui.ts"],"sourcesContent":["import { Enchant } from '../proto/common.js';\nimport { EquipmentSpec } from '../proto/common.js';\nimport { Gem } from '../proto/common.js';\nimport { GemColor } from '../proto/common.js';\nimport { Item } from '../proto/common.js';\nimport { ItemSlot } from '../proto/common.js';\nimport { ItemSpec } from '../proto/common.js';\nimport { Profession } from '../proto/common.js';\nimport { WeaponType } from '../proto/common.js';\nimport { equalsOrBothNull } from '../utils.js';\nimport { getEnumValues } from '../utils.js';\nimport { isBluntWeaponType, isSharpWeaponType } from '../proto_utils/utils.js';\n\nimport { isMetaGemActive } from './gems.js';\nimport { gemMatchesSocket } from './gems.js';\nimport { EquippedItem } from './equipped_item.js';\nimport { validWeaponCombo } from './utils.js';\nimport { Stats } from './stats.js';\n\ntype InternalGear = Record<ItemSlot, EquippedItem | null>;\n\n/**\n * Represents a full gear set, including items/enchants/gems for every slot.\n *\n * This is an immutable type.\n */\nexport class Gear {\n    private readonly gear: InternalGear;\n\n    constructor(gear: Partial<InternalGear>) {\n        getEnumValues(ItemSlot).forEach(slot => {\n            if (!gear[slot as ItemSlot])\n                gear[slot as ItemSlot] = null;\n        });\n        this.gear = gear as InternalGear;\n    }\n\n    equals(other: Gear): boolean {\n        return this.asArray().every((thisItem, slot) => equalsOrBothNull(thisItem, other.getEquippedItem(slot), (a, b) => a.equals(b)));\n    }\n\n    /**\n     * Returns a new Gear set with the item equipped.\n     *\n     * Checks for validity and removes/exchanges items/gems as needed.\n     */\n    withEquippedItem(newSlot: ItemSlot, newItem: EquippedItem | null, canDualWield2H: boolean): Gear {\n        // Create a new identical set of gear\n        const newInternalGear = this.asMap();\n\n        if (newItem) {\n            // If the new item has unique gems, remove matching.\n            newItem.gems\n                .filter(gem => gem?.unique)\n                .forEach(gem => {\n                    getEnumValues(ItemSlot).map(slot => Number(slot) as ItemSlot).forEach(slot => {\n                        newInternalGear[slot] = newInternalGear[slot]?.removeGemsWithId(gem!.id) || null;\n                    });\n                });\n\n            // If the new item is unique, remove matching items.\n            if (newItem.item.unique) {\n                getEnumValues(ItemSlot).map(slot => Number(slot) as ItemSlot).forEach(slot => {\n                    if (newInternalGear[slot]?.item.id == newItem.item.id) {\n                        newInternalGear[slot] = null;\n                    }\n                });\n            }\n        }\n\n        // Actually assign the new item.\n        newInternalGear[newSlot] = newItem;\n\n        // Check for valid weapon combos.\n        if (!validWeaponCombo(newInternalGear[ItemSlot.ItemSlotMainHand]?.item, newInternalGear[ItemSlot.ItemSlotOffHand]?.item, canDualWield2H)) {\n          if (newSlot == ItemSlot.ItemSlotOffHand) {\n            newInternalGear[ItemSlot.ItemSlotMainHand] = null;\n          } else {\n            newInternalGear[ItemSlot.ItemSlotOffHand] = null;\n          }\n        }\n\n        return new Gear(newInternalGear);\n    }\n\n    getEquippedItem(slot: ItemSlot): EquippedItem | null {\n        return this.gear[slot];\n    }\n\n    getTrinkets(): Array<EquippedItem | null> {\n        return [\n            this.getEquippedItem(ItemSlot.ItemSlotTrinket1),\n            this.getEquippedItem(ItemSlot.ItemSlotTrinket2),\n        ];\n    }\n\n    hasTrinket(itemId: number): boolean {\n        return this.getTrinkets().map(t => t?.item.id).includes(itemId);\n    }\n\n    asMap(): InternalGear {\n        const newInternalGear: Partial<InternalGear> = {};\n        getEnumValues(ItemSlot).map(slot => Number(slot) as ItemSlot).forEach(slot => {\n            newInternalGear[slot] = this.getEquippedItem(slot);\n        });\n        return newInternalGear as InternalGear;\n    }\n\n    asArray(): Array<EquippedItem | null> {\n        return Object.values(this.gear);\n    }\n\n    asSpec(): EquipmentSpec {\n        return EquipmentSpec.create({\n            items: this.asArray().map(ei => ei ? ei.asSpec() : ItemSpec.create()),\n        });\n    }\n\n    getAllGems(isBlacksmithing: boolean): Array<Gem> {\n        return this.asArray()\n            .map(ei => ei == null ? [] : ei.curGems(isBlacksmithing))\n            .flat();\n    }\n\n\t\tgetNonMetaGems(isBlacksmithing: boolean): Array<Gem> {\n\t\t\treturn this.getAllGems(isBlacksmithing).filter(gem => gem.color != GemColor.GemColorMeta);\n\t\t}\n\n\t\tstatsFromGems(isBlacksmithing: boolean): Stats {\n\t\t\tlet stats = new Stats();\n\n\t\t\t// Stats from just the gems.\n\t\t\tconst gems = this.getAllGems(isBlacksmithing);\n\t\t\tfor (let i = 0; i < gems.length; i++) {\n\t\t\t\tstats = stats.add(new Stats(gems[i].stats));\n\t\t\t}\n\n\t\t\t// Stats from socket bonuses.\n\t\t\tconst items = this.asArray().filter(ei => ei != null) as Array<EquippedItem>;\n\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\tstats = stats.add(items[i].socketBonusStats());\n\t\t\t}\n\n\t\t\treturn stats;\n\t\t}\n\n    getGemsOfColor(color: GemColor, isBlacksmithing: boolean): Array<Gem> {\n        return this.getAllGems(isBlacksmithing).filter(gem => gem.color == color);\n    }\n\n    getJCGems(isBlacksmithing: boolean): Array<Gem> {\n        return this.getAllGems(isBlacksmithing).filter(gem => gem.requiredProfession == Profession.Jewelcrafting);\n    }\n\n    getMetaGem(): Gem | null {\n        return this.getGemsOfColor(GemColor.GemColorMeta, true)[0] || null;\n    }\n\n\t\tgemColorCounts(isBlacksmithing: boolean): ({ red: number, yellow: number, blue: number }) {\n\t\t\tconst gems = this.getAllGems(isBlacksmithing);\n\t\t\treturn {\n\t\t\t\tred:    gems.filter(gem => gemMatchesSocket(gem, GemColor.GemColorRed)).length,\n\t\t\t\tyellow: gems.filter(gem => gemMatchesSocket(gem, GemColor.GemColorYellow)).length,\n\t\t\t\tblue:   gems.filter(gem => gemMatchesSocket(gem, GemColor.GemColorBlue)).length,\n\t\t\t};\n\t\t}\n\n    // Returns true if this gear set has a meta gem AND the other gems meet the meta's conditions.\n    hasActiveMetaGem(isBlacksmithing: boolean): boolean {\n        const metaGem = this.getMetaGem();\n        if (!metaGem) {\n            return false;\n        }\n\n\t\t\t\tconst gemColorCounts = this.gemColorCounts(isBlacksmithing);\n\n        const gems = this.getAllGems(isBlacksmithing);\n        return isMetaGemActive(\n            metaGem,\n\t\t\t\t\t\tgemColorCounts.red, gemColorCounts.yellow, gemColorCounts.blue);\n    }\n\n    hasInactiveMetaGem(isBlacksmithing: boolean): boolean {\n        return this.getMetaGem() != null && !this.hasActiveMetaGem(isBlacksmithing);\n    }\n\n    withoutMetaGem(): Gear {\n        const headItem = this.getEquippedItem(ItemSlot.ItemSlotHead);\n        const metaGem = this.getMetaGem();\n        if (headItem && metaGem) {\n            return this.withEquippedItem(ItemSlot.ItemSlotHead, headItem.removeGemsWithId(metaGem.id), true);\n        } else {\n            return this;\n        }\n    }\n\n    // Removes bonus gems from blacksmith profession bonus.\n    withoutBlacksmithSockets(): Gear {\n        let curGear: Gear = this;\n\n        const wristItem = this.getEquippedItem(ItemSlot.ItemSlotWrist);\n        if (wristItem) {\n            curGear = curGear.withEquippedItem(ItemSlot.ItemSlotWrist, wristItem.withGem(null, wristItem.numPossibleSockets - 1), true);\n        }\n\n        const handsItem = this.getEquippedItem(ItemSlot.ItemSlotHands);\n        if (handsItem) {\n            curGear = curGear.withEquippedItem(ItemSlot.ItemSlotHands, handsItem.withGem(null, handsItem.numPossibleSockets - 1), true);\n        }\n\n        return curGear;\n    }\n\n    hasBluntMHWeapon(): boolean {\n        const weapon = this.getEquippedItem(ItemSlot.ItemSlotMainHand);\n        return weapon != null && isBluntWeaponType(weapon.item.weaponType);\n    }\n    hasSharpMHWeapon(): boolean {\n        const weapon = this.getEquippedItem(ItemSlot.ItemSlotMainHand);\n        return weapon != null && isSharpWeaponType(weapon.item.weaponType);\n    }\n    hasBluntOHWeapon(): boolean {\n        const weapon = this.getEquippedItem(ItemSlot.ItemSlotOffHand);\n        return weapon != null && isBluntWeaponType(weapon.item.weaponType);\n    }\n    hasSharpOHWeapon(): boolean {\n        const weapon = this.getEquippedItem(ItemSlot.ItemSlotOffHand);\n        return weapon != null && isSharpWeaponType(weapon.item.weaponType);\n    }\n\n    getFailedProfessionRequirements(professions: Array<Profession>): Array<Item | Gem | Enchant> {\n        return (this.asArray().filter(ei => ei != null) as Array<EquippedItem>)\n            .map(ei => ei.getFailedProfessionRequirements(professions))\n            .flat();\n    }\n}\n","export const CHARACTER_LEVEL = 80;\nexport const MAX_TALENT_POINTS = CHARACTER_LEVEL - 9;\nexport const BOSS_LEVEL = CHARACTER_LEVEL + 3;\n\nexport const EXPERTISE_PER_QUARTER_PERCENT_REDUCTION = 32.79 / 4;\nexport const MELEE_CRIT_RATING_PER_CRIT_CHANCE = 45.91;\nexport const MELEE_HIT_RATING_PER_HIT_CHANCE = 32.79;\n\nexport const SPELL_CRIT_RATING_PER_CRIT_CHANCE = 45.91;\nexport const SPELL_HIT_RATING_PER_HIT_CHANCE = 26.23;\n\nexport const HASTE_RATING_PER_HASTE_PERCENT = 32.79;\n\n// Shamans, Paladins, Druids, Deathknights get more haste than everyone else, for melee.\nexport const SPECIAL_MELEE_HASTE_RATING_PER_HASTE_PERCENT = 25.22;\n\nexport const DEFENSE_RATING_PER_DEFENSE = 2.3654;\nexport const MISS_DODGE_PARRY_BLOCK_CRIT_CHANCE_PER_DEFENSE = 0.04;\nexport const BLOCK_RATING_PER_BLOCK_CHANCE = 7.8846;\nexport const DODGE_RATING_PER_DODGE_CHANCE = 18.9231;\nexport const PARRY_RATING_PER_PARRY_CHANCE = 23.6538;\nexport const RESILIENCE_RATING_PER_CRIT_REDUCTION_CHANCE = 39.4231;\nexport const RESILIENCE_RATING_PER_CRIT_DAMAGE_REDUCTION_PERCENT = 39.4231 / 2;\n","import { MobType } from './proto/common.js';\nimport { SpellSchool } from './proto/common.js';\nimport { Stat } from './proto/common.js';\nimport { Target as TargetProto } from './proto/common.js';\nimport { PresetTarget } from './proto/api.js';\nimport { Stats } from './proto_utils/stats.js';\n\nimport * as Mechanics from './constants/mechanics.js';\n\nimport { Listener } from './typed_event.js';\nimport { Sim } from './sim.js';\nimport { EventID, TypedEvent } from './typed_event.js';\nimport { sum } from './utils.js';\nimport { wait } from './utils.js';\n\n// Manages all the settings for a single Target.\nexport class Target {\n    readonly sim: Sim;\n\n    private id: number = 0;\n    private name: string = '';\n    private level: number = Mechanics.BOSS_LEVEL;\n    private mobType: MobType = MobType.MobTypeDemon;\n    private tankIndex: number = 0;\n    private stats: Stats = new Stats();\n\n    private swingSpeed: number = 0;\n    private minBaseDamage: number = 0;\n    private dualWield: boolean = false;\n    private dualWieldPenalty: boolean = false;\n    private suppressDodge: boolean = false;\n    private parryHaste: boolean = true;\n    private spellSchool: SpellSchool = SpellSchool.SpellSchoolPhysical;\n\n    readonly idChangeEmitter = new TypedEvent<void>();\n    readonly nameChangeEmitter = new TypedEvent<void>();\n    readonly levelChangeEmitter = new TypedEvent<void>();\n    readonly mobTypeChangeEmitter = new TypedEvent<void>();\n    readonly propChangeEmitter = new TypedEvent<void>();\n    readonly statsChangeEmitter = new TypedEvent<void>();\n\n    // Emits when any of the above emitters emit.\n    readonly changeEmitter = new TypedEvent<void>();\n\n    constructor(sim: Sim) {\n        this.sim = sim;\n\n        [\n            this.idChangeEmitter,\n            this.nameChangeEmitter,\n            this.levelChangeEmitter,\n            this.mobTypeChangeEmitter,\n            this.propChangeEmitter,\n            this.statsChangeEmitter,\n        ].forEach(emitter => emitter.on(eventID => this.changeEmitter.emit(eventID)));\n\n        this.changeEmitter.on(eventID => this.sim.encounter?.changeEmitter.emit(eventID));\n    }\n\n    getId(): number {\n        return this.id;\n    }\n\n    setId(eventID: EventID, newId: number) {\n        if (newId == this.id)\n            return;\n\n        this.id = newId;\n        this.idChangeEmitter.emit(eventID);\n    }\n\n    getName(): string {\n        return this.name;\n    }\n\n    setName(eventID: EventID, newName: string) {\n        if (newName == this.name)\n            return;\n\n        this.name = newName;\n        this.nameChangeEmitter.emit(eventID);\n    }\n\n    getLevel(): number {\n        return this.level;\n    }\n\n    setLevel(eventID: EventID, newLevel: number) {\n        if (newLevel == this.level)\n            return;\n\n        this.level = newLevel;\n        this.levelChangeEmitter.emit(eventID);\n    }\n\n    getMobType(): MobType {\n        return this.mobType;\n    }\n\n    setMobType(eventID: EventID, newMobType: MobType) {\n        if (newMobType == this.mobType)\n            return;\n\n        this.mobType = newMobType;\n        this.mobTypeChangeEmitter.emit(eventID);\n    }\n\n    getTankIndex(): number {\n        return this.tankIndex;\n    }\n\n    setTankIndex(eventID: EventID, newTankIndex: number) {\n        if (newTankIndex == this.tankIndex)\n            return;\n\n        this.tankIndex = newTankIndex;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getSwingSpeed(): number {\n        return this.swingSpeed;\n    }\n\n    setSwingSpeed(eventID: EventID, newSwingSpeed: number) {\n        if (newSwingSpeed == this.swingSpeed)\n            return;\n\n        this.swingSpeed = newSwingSpeed;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getMinBaseDamage(): number {\n        return this.minBaseDamage;\n    }\n\n    setMinBaseDamage(eventID: EventID, newMinBaseDamage: number) {\n        if (newMinBaseDamage == this.minBaseDamage)\n            return;\n\n        this.minBaseDamage = newMinBaseDamage;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getDualWield(): boolean {\n        return this.dualWield;\n    }\n\n    setDualWield(eventID: EventID, newDualWield: boolean) {\n        if (newDualWield == this.dualWield)\n            return;\n\n        this.dualWield = newDualWield;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getDualWieldPenalty(): boolean {\n        return this.dualWieldPenalty;\n    }\n\n    setDualWieldPenalty(eventID: EventID, newDualWieldPenalty: boolean) {\n        if (newDualWieldPenalty == this.dualWieldPenalty)\n            return;\n\n        this.dualWieldPenalty = newDualWieldPenalty;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getSuppressDodge(): boolean {\n        return this.suppressDodge;\n    }\n\n    setSuppressDodge(eventID: EventID, newSuppressDodge: boolean) {\n        if (newSuppressDodge == this.suppressDodge)\n            return;\n\n        this.suppressDodge = newSuppressDodge;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getParryHaste(): boolean {\n        return this.parryHaste;\n    }\n\n    setParryHaste(eventID: EventID, newParryHaste: boolean) {\n        if (newParryHaste == this.parryHaste)\n            return;\n\n        this.parryHaste = newParryHaste;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getSpellSchool(): SpellSchool {\n        return this.spellSchool;\n    }\n\n    setSpellSchool(eventID: EventID, newSpellSchool: SpellSchool) {\n        if (newSpellSchool == this.spellSchool)\n            return;\n\n        this.spellSchool = newSpellSchool;\n        this.propChangeEmitter.emit(eventID);\n    }\n\n    getStats(): Stats {\n        return this.stats;\n    }\n\n    setStats(eventID: EventID, newStats: Stats) {\n        if (newStats.equals(this.stats))\n            return;\n\n        this.stats = newStats;\n        this.statsChangeEmitter.emit(eventID);\n    }\n\n    matchesPreset(preset: PresetTarget): boolean {\n        return TargetProto.equals(this.toProto(), preset.target);\n    }\n\n    applyPreset(eventID: EventID, preset: PresetTarget) {\n        this.fromProto(eventID, preset.target || TargetProto.create());\n    }\n\n    toProto(): TargetProto {\n        return TargetProto.create({\n            id: this.getId(),\n            name: this.getName(),\n            level: this.getLevel(),\n            mobType: this.getMobType(),\n            tankIndex: this.getTankIndex(),\n            swingSpeed: this.getSwingSpeed(),\n            minBaseDamage: this.getMinBaseDamage(),\n            dualWield: this.getDualWield(),\n            dualWieldPenalty: this.getDualWieldPenalty(),\n            suppressDodge: this.getSuppressDodge(),\n            parryHaste: this.getParryHaste(),\n            spellSchool: this.getSpellSchool(),\n            stats: this.stats.asArray(),\n        });\n    }\n\n    fromProto(eventID: EventID, proto: TargetProto) {\n        TypedEvent.freezeAllAndDo(() => {\n            this.setId(eventID, proto.id);\n            this.setName(eventID, proto.name);\n            this.setLevel(eventID, proto.level);\n            this.setMobType(eventID, proto.mobType);\n            this.setTankIndex(eventID, proto.tankIndex);\n            this.setSwingSpeed(eventID, proto.swingSpeed);\n            this.setMinBaseDamage(eventID, proto.minBaseDamage);\n            this.setDualWield(eventID, proto.dualWield);\n            this.setDualWieldPenalty(eventID, proto.dualWieldPenalty);\n            this.setSuppressDodge(eventID, proto.suppressDodge);\n            this.setParryHaste(eventID, proto.parryHaste);\n            this.setSpellSchool(eventID, proto.spellSchool);\n            this.setStats(eventID, new Stats(proto.stats));\n        });\n    }\n\n    clone(eventID: EventID): Target {\n        const newTarget = new Target(this.sim);\n        newTarget.fromProto(eventID, this.toProto());\n        return newTarget;\n    }\n\n    static defaultProto(): TargetProto {\n        return TargetProto.create({\n            level: Mechanics.BOSS_LEVEL,\n            mobType: MobType.MobTypeDemon,\n            tankIndex: 0,\n            swingSpeed: 2,\n            minBaseDamage: 10000,\n            dualWield: false,\n            dualWieldPenalty: false,\n            suppressDodge: false,\n            parryHaste: true,\n            spellSchool: SpellSchool.SpellSchoolPhysical,\n            stats: Stats.fromMap({\n                [Stat.StatArmor]: 10643,\n                [Stat.StatBlockValue]: 54,\n                [Stat.StatAttackPower]: 320,\n            }).asArray(),\n        });\n    }\n\n    static fromDefaults(eventID: EventID, sim: Sim): Target {\n        const target = new Target(sim);\n        target.fromProto(eventID, Target.defaultProto());\n        return target;\n    }\n}\n","import { Encounter as EncounterProto } from './proto/common.js';\nimport { MobType } from './proto/common.js';\nimport { Stat } from './proto/common.js';\nimport { Target as TargetProto } from './proto/common.js';\nimport { PresetEncounter } from './proto/api.js';\nimport { PresetTarget } from './proto/api.js';\nimport { Target } from './target.js';\nimport { Stats } from './proto_utils/stats.js';\n\nimport { Sim } from './sim.js';\nimport { EventID, TypedEvent } from './typed_event.js';\n\n// Manages all the settings for an Encounter.\nexport class Encounter {\n    readonly sim: Sim;\n\n\tprivate duration: number = 180;\n\tprivate durationVariation: number = 5;\n\tprivate executeProportion20: number = 0.2;\n\tprivate executeProportion25: number = 0.25;\n\tprivate executeProportion35: number = 0.35;\n\tprivate useHealth: boolean = false;\n\tprivate targets: Array<Target>;\n\n    readonly targetsChangeEmitter = new TypedEvent<void>();\n    readonly durationChangeEmitter = new TypedEvent<void>();\n    readonly executeProportionChangeEmitter = new TypedEvent<void>();\n\n    // Emits when any of the above emitters emit.\n    readonly changeEmitter = new TypedEvent<void>();\n\n    constructor(sim: Sim) {\n        this.sim = sim;\n        this.targets = [Target.fromDefaults(TypedEvent.nextEventID(), sim)];\n\n        [\n            this.targetsChangeEmitter,\n            this.durationChangeEmitter,\n            this.executeProportionChangeEmitter,\n        ].forEach(emitter => emitter.on(eventID => this.changeEmitter.emit(eventID)));\n    }\n\n    get primaryTarget(): Target {\n        return this.targets[0];\n    }\n\n    getDurationVariation(): number {\n        return this.durationVariation;\n    }\n    setDurationVariation(eventID: EventID, newDuration: number) {\n        if (newDuration == this.durationVariation)\n            return;\n\n        this.durationVariation = newDuration;\n        this.durationChangeEmitter.emit(eventID);\n    }\n\n    getDuration(): number {\n        return this.duration;\n    }\n    setDuration(eventID: EventID, newDuration: number) {\n        if (newDuration == this.duration)\n            return;\n\n        this.duration = newDuration;\n        this.durationChangeEmitter.emit(eventID);\n    }\n\n    getExecuteProportion20(): number {\n        return this.executeProportion20;\n    }\n    setExecuteProportion20(eventID: EventID, newExecuteProportion20: number) {\n        if (newExecuteProportion20 == this.executeProportion20)\n            return;\n\n\t\tthis.executeProportion20 = newExecuteProportion20;\n\t\tthis.executeProportionChangeEmitter.emit(eventID);\n\t}\n\tgetExecuteProportion25(): number {\n\t\treturn this.executeProportion25;\n\t}\n\tsetExecuteProportion25(eventID: EventID, newExecuteProportion25: number) {\n\t\tif (newExecuteProportion25 == this.executeProportion25)\n\t\t\treturn;\n\n\t\tthis.executeProportion25 = newExecuteProportion25;\n\t\tthis.executeProportionChangeEmitter.emit(eventID);\n\t}\n\tgetExecuteProportion35(): number {\n\t\treturn this.executeProportion35;\n\t}\n\tsetExecuteProportion35(eventID: EventID, newExecuteProportion35: number) {\n\t\tif (newExecuteProportion35 == this.executeProportion35)\n\t\t\treturn;\n\n        this.executeProportion35 = newExecuteProportion35;\n        this.executeProportionChangeEmitter.emit(eventID);\n    }\n\n    getUseHealth(): boolean {\n        return this.useHealth;\n    }\n    setUseHealth(eventID: EventID, newUseHealth: boolean) {\n        if (newUseHealth == this.useHealth)\n            return;\n\n        this.useHealth = newUseHealth;\n        this.durationChangeEmitter.emit(eventID);\n        this.executeProportionChangeEmitter.emit(eventID);\n    }\n\n    getNumTargets(): number {\n        return this.targets.length;\n    }\n\n    getTargets(): Array<Target> {\n        return this.targets.slice();\n    }\n    setTargets(eventID: EventID, newTargets: Array<Target>) {\n        TypedEvent.freezeAllAndDo(() => {\n            if (newTargets.length == 0) {\n                newTargets = [Target.fromDefaults(eventID, this.sim)];\n            }\n            if (newTargets.length == this.targets.length && newTargets.every((target, i) => TargetProto.equals(target.toProto(), this.targets[i].toProto()))) {\n                return;\n            }\n\n            this.targets = newTargets;\n            this.targetsChangeEmitter.emit(eventID);\n        });\n    }\n\n    matchesPreset(preset: PresetEncounter): boolean {\n        return preset.targets.length == this.targets.length && this.targets.every((t, i) => t.matchesPreset(preset.targets[i]));\n    }\n\n    applyPreset(eventID: EventID, preset: PresetEncounter) {\n        TypedEvent.freezeAllAndDo(() => {\n            let newTargets = this.targets.slice(0, preset.targets.length);\n            while (newTargets.length < preset.targets.length) {\n                newTargets.push(new Target(this.sim));\n            }\n\n            newTargets.forEach((nt, i) => nt.applyPreset(eventID, preset.targets[i]));\n            this.setTargets(eventID, newTargets);\n        });\n    }\n\n\ttoProto(): EncounterProto {\n\t\treturn EncounterProto.create({\n\t\t\tduration: this.duration,\n\t\t\tdurationVariation: this.durationVariation,\n\t\t\texecuteProportion20: this.executeProportion20,\n\t\t\texecuteProportion25: this.executeProportion25,\n\t\t\texecuteProportion35: this.executeProportion35,\n\t\t\tuseHealth: this.useHealth,\n\t\t\ttargets: this.targets.map(target => target.toProto()),\n\t\t});\n\t}\n\n\tfromProto(eventID: EventID, proto: EncounterProto) {\n\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\tthis.setDuration(eventID, proto.duration);\n\t\t\tthis.setDurationVariation(eventID, proto.durationVariation);\n\t\t\tthis.setExecuteProportion20(eventID, proto.executeProportion20);\n\t\t\tthis.setExecuteProportion25(eventID, proto.executeProportion25);\n\t\t\tthis.setExecuteProportion35(eventID, proto.executeProportion35);\n\t\t\tthis.setUseHealth(eventID, proto.useHealth);\n\n            if (proto.targets.length > 0) {\n                this.setTargets(eventID, proto.targets.map(targetProto => {\n                    const target = new Target(this.sim);\n                    target.fromProto(eventID, targetProto);\n                    return target;\n                }));\n            } else {\n                this.setTargets(eventID, [Target.fromDefaults(eventID, this.sim)]);\n            }\n        });\n    }\n\n\tapplyDefaults(eventID: EventID) {\n\t\tthis.fromProto(eventID, EncounterProto.create({\n\t\t\tduration: 180,\n\t\t\tdurationVariation: 5,\n\t\t\texecuteProportion20: 0.2,\n\t\t\texecuteProportion25: 0.25,\n\t\t\texecuteProportion35: 0.35,\n\t\t\ttargets: [Target.defaultProto()],\n\t\t}));\n\t}\n}\n","import { Component } from '../components/component.js';\nimport { Input, InputConfig } from '../components/input.js';\nimport { Spec } from '../proto/common.js';\nimport { ActionId } from '../proto_utils/action_id.js';\nimport { SpecTalents } from '../proto_utils/utils.js';\nimport { Player } from '../player.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { isRightClick } from '../utils.js';\nimport { sum } from '../utils.js';\n\nexport interface TalentsPickerConfig<ModObject, TalentsProto> extends InputConfig<ModObject, string> {\n    trees: TalentsConfig<TalentsProto>,\n    pointsPerRow: number,\n    maxPoints: number,\n}\n\nexport class TalentsPicker<ModObject, TalentsProto> extends Input<ModObject, string> {\n    readonly numRows: number;\n    readonly pointsPerRow: number;\n    maxPoints: number;\n\n    readonly trees: Array<TalentTreePicker<TalentsProto>>;\n\n    constructor(parent: HTMLElement, modObject: ModObject, config: TalentsPickerConfig<ModObject, TalentsProto>) {\n        super(parent, 'talents-picker-root', modObject, config);\n        this.pointsPerRow = config.pointsPerRow;\n        this.maxPoints = config.maxPoints;\n        this.numRows = Math.max(...config.trees.map(treeConfig => treeConfig.talents.map(talentConfig => talentConfig.location.rowIdx).flat()).flat()) + 1;\n\n        this.trees = config.trees.map(treeConfig => new TalentTreePicker(this.rootElem, treeConfig, this));\n        this.trees.forEach(tree => tree.talents.forEach(talent => talent.setPoints(0, false)));\n\n        this.init();\n    }\n\n    getInputElem(): HTMLElement {\n        return this.rootElem;\n    }\n\n    getInputValue(): string {\n        return this.trees.map(tree => tree.getTalentsString()).join('-').replace(/-+$/g, '');\n    }\n\n    setInputValue(newValue: string) {\n        const parts = newValue.split('-');\n        this.trees.forEach((tree, idx) => tree.setTalentsString(parts[idx] || ''));\n        this.updateTrees();\n    }\n\n    updateTrees() {\n        if (this.isFull()) {\n            this.rootElem.classList.add('talents-full');\n        } else {\n            this.rootElem.classList.remove('talents-full');\n        }\n        this.trees.forEach(tree => tree.update());\n    }\n\n    get numPoints() {\n        return sum(this.trees.map(tree => tree.numPoints));\n    }\n\n    isFull() {\n        return this.numPoints >= this.maxPoints;\n    }\n\n    setMaxPoints(newMaxPoints: number) {\n        if (newMaxPoints != this.maxPoints) {\n            this.maxPoints = newMaxPoints;\n            this.updateTrees();\n        }\n    }\n}\n\nclass TalentTreePicker<TalentsProto> extends Component {\n    private readonly config: TalentTreeConfig<TalentsProto>;\n    private readonly title: HTMLElement;\n\n    readonly talents: Array<TalentPicker<TalentsProto>>;\n    readonly picker: TalentsPicker<any, TalentsProto>;\n\n    // The current number of points in this tree\n    numPoints: number;\n\n    constructor(parent: HTMLElement, config: TalentTreeConfig<TalentsProto>, picker: TalentsPicker<any, TalentsProto>) {\n        super(parent, 'talent-tree-picker-root');\n        this.config = config;\n        this.numPoints = 0;\n        this.picker = picker;\n\n        this.rootElem.innerHTML = `\n    <div class=\"talent-tree-header\">\n      <span class=\"talent-tree-title\"></span>\n      <span class=\"talent-tree-reset fa fa-times\"></span>\n    </div>\n    <div class=\"talent-tree-main\">\n    </div>\n    `;\n\n        this.title = this.rootElem.getElementsByClassName('talent-tree-title')[0] as HTMLElement;\n\n        const main = this.rootElem.getElementsByClassName('talent-tree-main')[0] as HTMLElement;\n        main.style.backgroundImage = `url('${config.backgroundUrl}')`;\n        main.style.gridTemplateRows = `repeat(${this.picker.numRows}, 1fr)`;\n\n        const iconSize = Math.min(70 / this.picker.numRows, 10);\n        main.style.height = `${iconSize * this.picker.numRows}vh`\n        main.style.width = `${iconSize * 4}vh`\n\n        this.talents = config.talents.map(talent => new TalentPicker(main, talent, this));\n        this.talents.forEach(talent => {\n            if (talent.config.prereqLocation) {\n                this.getTalent(talent.config.prereqLocation).config.prereqOfLocation = talent.config.location;\n            }\n        });\n\n        const reset = this.rootElem.getElementsByClassName('talent-tree-reset')[0] as HTMLElement;\n        reset.addEventListener('click', event => {\n            this.talents.forEach(talent => talent.setPoints(0, false));\n            this.picker.inputChanged(TypedEvent.nextEventID());\n        });\n    }\n\n    update() {\n        this.title.textContent = this.config.name + ' (' + this.numPoints + ')';\n        this.talents.forEach(talent => talent.update());\n    }\n\n    getTalent(location: TalentLocation): TalentPicker<TalentsProto> {\n        const talent = this.talents.find(talent => talent.getRow() == location.rowIdx && talent.getCol() == location.colIdx);\n        if (!talent)\n            throw new Error('No talent found with location: ' + location);\n        return talent;\n    }\n\n    getTalentsString(): string {\n        return this.talents.map(talent => String(talent.getPoints())).join('').replace(/0+$/g, '');\n    }\n\n    setTalentsString(str: string) {\n        this.talents.forEach((talent, idx) => talent.setPoints(Number(str.charAt(idx)), false));\n    }\n}\n\nclass TalentPicker<TalentsProto> extends Component {\n    readonly config: TalentConfig<TalentsProto>;\n    private readonly tree: TalentTreePicker<TalentsProto>;\n    private readonly pointsDisplay: HTMLElement;\n\n    private longTouchTimer?: number;\n\n    constructor(parent: HTMLElement, config: TalentConfig<TalentsProto>, tree: TalentTreePicker<TalentsProto>) {\n        super(parent, 'talent-picker-root', document.createElement('a'));\n        this.config = config;\n        this.tree = tree;\n\n        this.rootElem.style.gridRow = String(this.config.location.rowIdx + 1);\n        this.rootElem.style.gridColumn = String(this.config.location.colIdx + 1);\n\n        this.rootElem.dataset.maxPoints = String(this.config.maxPoints);\n        this.rootElem.dataset.wowhead = 'noimage';\n\n        this.pointsDisplay = document.createElement('span');\n        this.pointsDisplay.classList.add('talent-picker-points');\n        this.rootElem.appendChild(this.pointsDisplay);\n\n        this.rootElem.addEventListener('click', event => {\n            event.preventDefault();\n        });\n        this.rootElem.addEventListener('contextmenu', event => {\n            event.preventDefault();\n        });\n        this.rootElem.addEventListener('touchstart', event => {\n            event.preventDefault();\n            this.longTouchTimer = window.setTimeout(() => {\n                this.setPoints(0, true);\n                this.tree.picker.inputChanged(TypedEvent.nextEventID());\n                this.longTouchTimer = undefined;\n            }, 750);\n        });\n        this.rootElem.addEventListener('touchend', event => {\n            event.preventDefault();\n            if (this.longTouchTimer != undefined) {\n                clearTimeout(this.longTouchTimer);\n                this.longTouchTimer = undefined;\n            } else {\n                return;\n            }\n            var newPoints = this.getPoints() + 1;\n            if (this.config.maxPoints < newPoints) {\n                newPoints = 0;\n            }\n            this.setPoints(newPoints, true);\n            this.tree.picker.inputChanged(TypedEvent.nextEventID());\n        });\n        this.rootElem.addEventListener('mousedown', event => {\n            const rightClick = isRightClick(event);\n            if (rightClick) {\n                this.setPoints(this.getPoints() - 1, true);\n            } else {\n                this.setPoints(this.getPoints() + 1, true);\n            }\n            this.tree.picker.inputChanged(TypedEvent.nextEventID());\n        });\n    }\n\n    getRow(): number {\n        return this.config.location.rowIdx;\n    }\n\n    getCol(): number {\n        return this.config.location.colIdx;\n    }\n\n    getPoints(): number {\n        const pts = Number(this.rootElem.dataset.points);\n        return isNaN(pts) ? 0 : pts;\n    }\n\n    isFull(): boolean {\n        return this.getPoints() >= this.config.maxPoints;\n    }\n\n    // Returns whether setting the points to newPoints would be a valid talent tree.\n    canSetPoints(newPoints: number): boolean {\n        const oldPoints = this.getPoints();\n\n        if (newPoints > oldPoints) {\n            const additionalPoints = newPoints - oldPoints;\n\n            if (this.tree.picker.numPoints + additionalPoints > this.tree.picker.maxPoints) {\n                return false;\n            }\n\n            if (this.tree.numPoints < this.getRow() * this.tree.picker.pointsPerRow) {\n                return false;\n            }\n\n            if (this.config.prereqLocation) {\n                if (!this.tree.getTalent(this.config.prereqLocation).isFull())\n                    return false;\n            }\n        } else {\n            const removedPoints = oldPoints - newPoints;\n\n            // Figure out whether any lower talents would have the row requirement\n            // broken by subtracting points.\n            const pointTotalsByRow = [...Array(this.tree.picker.numRows).keys()]\n                .map(rowIdx => this.tree.talents.filter(talent => talent.getRow() == rowIdx))\n                .map(talentsInRow => sum(talentsInRow.map(talent => talent.getPoints())));\n            pointTotalsByRow[this.getRow()] -= removedPoints;\n\n            const cumulativeTotalsByRow = pointTotalsByRow.map((_, rowIdx) => sum(pointTotalsByRow.slice(0, rowIdx + 1)));\n\n            if (!this.tree.talents.every(talent =>\n                talent.getPoints() == 0\n                || talent.getRow() == 0\n                || cumulativeTotalsByRow[talent.getRow() - 1] >= talent.getRow() * this.tree.picker.pointsPerRow)) {\n                return false;\n            }\n\n            if (this.config.prereqOfLocation) {\n                if (this.tree.getTalent(this.config.prereqOfLocation).getPoints() > 0)\n                    return false;\n            }\n        }\n        return true;\n    }\n\n    setPoints(newPoints: number, checkValidity: boolean) {\n        const oldPoints = this.getPoints();\n        newPoints = Math.max(0, newPoints);\n        newPoints = Math.min(this.config.maxPoints, newPoints);\n\n        if (checkValidity && !this.canSetPoints(newPoints))\n            return;\n\n        this.tree.numPoints += newPoints - oldPoints;\n        this.rootElem.dataset.points = String(newPoints);\n\n        this.pointsDisplay.textContent = newPoints + '/' + this.config.maxPoints;\n\n        if (this.isFull()) {\n            this.rootElem.classList.add('talent-full');\n        } else {\n            this.rootElem.classList.remove('talent-full');\n        }\n\n        const spellId = this.getSpellIdForPoints(newPoints);\n        ActionId.fromSpellId(spellId).fill().then(actionId => {\n            actionId.setWowheadHref(this.rootElem as HTMLAnchorElement);\n            this.rootElem.style.backgroundImage = `url('${actionId.iconUrl}')`;\n        });\n    }\n\n    getSpellIdForPoints(numPoints: number): number {\n        // 0-indexed rank of talent\n        const rank = Math.max(0, numPoints - 1);\n\n        if (this.config.spellIds[rank]) {\n            return this.config.spellIds[rank];\n        } else {\n            throw new Error('No rank ' + numPoints + ' for talent ' + this.config.fieldName);\n        }\n    }\n\n    update() {\n        if (this.canSetPoints(this.getPoints() + 1)) {\n            this.rootElem.classList.add('talent-picker-can-add');\n        } else {\n            this.rootElem.classList.remove('talent-picker-can-add');\n        }\n    }\n}\n\nexport type TalentsConfig<TalentsProto> = Array<TalentTreeConfig<TalentsProto>>;\n\nexport type TalentTreeConfig<TalentsProto> = {\n    name: string;\n    backgroundUrl: string;\n    talents: Array<TalentConfig<TalentsProto>>;\n};\n\nexport type TalentLocation = {\n    // 0-indexed row in the tree\n    rowIdx: number;\n    // 0-indexed column in the tree\n    colIdx: number;\n};\n\nexport type TalentConfig<TalentsProto> = {\n    fieldName?: keyof TalentsProto;\n\n    location: TalentLocation;\n\n    // Location of a prerequisite talent, if any\n    prereqLocation?: TalentLocation;\n\n    // Reverse of prereqLocation. This is populated automatically.\n    prereqOfLocation?: TalentLocation;\n\n    // Spell ID for each rank of this talent.\n    // Omitted ranks will be inferred by incrementing from the last provided rank.\n    spellIds: Array<number>;\n\n    maxPoints: number;\n};\n\nexport function newTalentsConfig<TalentsProto>(talents: TalentsConfig<TalentsProto>): TalentsConfig<TalentsProto> {\n    talents.forEach(tree => {\n        tree.talents.forEach((talent, i) => {\n            // Validate that talents are given in the correct order (left-to-right top-to-bottom).\n            if (i != 0) {\n                const prevTalent = tree.talents[i - 1];\n                if (talent.location.rowIdx < prevTalent.location.rowIdx || (talent.location.rowIdx == prevTalent.location.rowIdx && talent.location.colIdx <= prevTalent.location.colIdx)) {\n                    throw new Error('Out-of-order talent: ' + talent.fieldName);\n                }\n            }\n\n            // Infer omitted spell IDs.\n            if (talent.spellIds.length < talent.maxPoints) {\n                let curSpellId = talent.spellIds[talent.spellIds.length - 1];\n                for (let pointIdx = talent.spellIds.length; pointIdx < talent.maxPoints; pointIdx++) {\n                    curSpellId++;\n                    talent.spellIds.push(curSpellId);\n                }\n            }\n        });\n    });\n    return talents;\n}\n","import { DruidTalents, DruidMajorGlyph, DruidMinorGlyph } from '../proto/druid.js';\n\nimport { GlyphsConfig, } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const druidTalentsConfig: TalentsConfig<DruidTalents> = newTalentsConfig([\n\t{\n\t\t\"name\": \"Balance\",\n\t\t\"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/283.jpg\",\n\t\t\"talents\": [\n\t\t\t{\n\t\t\t\t\"fieldName\": \"starlightWrath\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 0,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16814,\n\t\t\t\t\t16815,\n\t\t\t\t\t16816,\n\t\t\t\t\t16817,\n\t\t\t\t\t16818\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"genesis\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 0,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t57810,\n\t\t\t\t\t57811,\n\t\t\t\t\t57812,\n\t\t\t\t\t57813,\n\t\t\t\t\t57814\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"moonglow\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16845,\n\t\t\t\t\t16846,\n\t\t\t\t\t16847\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturesMajesty\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t35363,\n\t\t\t\t\t35364\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedMoonfire\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16821,\n\t\t\t\t\t16822\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"brambles\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16836,\n\t\t\t\t\t16839,\n\t\t\t\t\t16840\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturesGrace\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16880,\n\t\t\t\t\t61345,\n\t\t\t\t\t61346\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturesSplendor\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t57865\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturesReach\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16819,\n\t\t\t\t\t16820\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"vengeance\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16909,\n\t\t\t\t\t16910,\n\t\t\t\t\t16911,\n\t\t\t\t\t16912,\n\t\t\t\t\t16913\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"celestialFocus\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16850,\n\t\t\t\t\t16923,\n\t\t\t\t\t16924\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"lunarGuidance\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33589,\n\t\t\t\t\t33590,\n\t\t\t\t\t33591\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"insectSwarm\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t5570\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedInsectSwarm\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t57849,\n\t\t\t\t\t57850,\n\t\t\t\t\t57851\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"dreamstate\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33597,\n\t\t\t\t\t33599,\n\t\t\t\t\t33956\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"moonfury\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16896,\n\t\t\t\t\t16897,\n\t\t\t\t\t16899\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"balanceOfPower\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33592,\n\t\t\t\t\t33596\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"moonkinForm\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t24858\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedMoonkinForm\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48384,\n\t\t\t\t\t48395,\n\t\t\t\t\t48396\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedFaerieFire\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33600,\n\t\t\t\t\t33601,\n\t\t\t\t\t33602\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"owlkinFrenzy\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48389,\n\t\t\t\t\t48392,\n\t\t\t\t\t48393\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"wrathOfCenarius\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33603,\n\t\t\t\t\t33604,\n\t\t\t\t\t33605,\n\t\t\t\t\t33606,\n\t\t\t\t\t33607\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"eclipse\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48516,\n\t\t\t\t\t48521,\n\t\t\t\t\t48525\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"typhoon\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t50516\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"forceOfNature\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33831\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"galeWinds\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48488,\n\t\t\t\t\t48514\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"earthAndMoon\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 9,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48506,\n\t\t\t\t\t48510,\n\t\t\t\t\t48511\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"starfall\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 10,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48505\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"Feral Combat\",\n\t\t\"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/281.jpg\",\n\t\t\"talents\": [\n\t\t\t{\n\t\t\t\t\"fieldName\": \"ferocity\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 0,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16934,\n\t\t\t\t\t16935,\n\t\t\t\t\t16936,\n\t\t\t\t\t16937,\n\t\t\t\t\t16938\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"feralAggression\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 0,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16858,\n\t\t\t\t\t16859,\n\t\t\t\t\t16860,\n\t\t\t\t\t16861,\n\t\t\t\t\t16862\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"feralInstinct\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16947,\n\t\t\t\t\t16948,\n\t\t\t\t\t16949\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"savageFury\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16998,\n\t\t\t\t\t16999\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"thickHide\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16929,\n\t\t\t\t\t16930,\n\t\t\t\t\t16931\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"feralSwiftness\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17002,\n\t\t\t\t\t24866\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"survivalInstincts\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t61336\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"sharpenedClaws\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16942,\n\t\t\t\t\t16943,\n\t\t\t\t\t16944\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"shreddingAttacks\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16966,\n\t\t\t\t\t16968\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"predatoryStrikes\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16972,\n\t\t\t\t\t16974,\n\t\t\t\t\t16975\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"primalFury\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t37116,\n\t\t\t\t\t37117\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"primalPrecision\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48409,\n\t\t\t\t\t48410\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"brutalImpact\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16940,\n\t\t\t\t\t16941\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"feralCharge\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t49377\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"nurturingInstinct\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33872,\n\t\t\t\t\t33873\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturalReaction\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t57878,\n\t\t\t\t\t57880,\n\t\t\t\t\t57881\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"heartOfTheWild\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17003,\n\t\t\t\t\t17004,\n\t\t\t\t\t17005,\n\t\t\t\t\t17006,\n\t\t\t\t\t24894\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"survivalOfTheFittest\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33853,\n\t\t\t\t\t33855,\n\t\t\t\t\t33856\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"leaderOfThePack\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17007\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedLeaderOfThePack\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t34297,\n\t\t\t\t\t34300\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"primalTenacity\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33851,\n\t\t\t\t\t33852,\n\t\t\t\t\t33957\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"protectorOfThePack\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t57873,\n\t\t\t\t\t57876,\n\t\t\t\t\t57877\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"predatoryInstincts\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33859,\n\t\t\t\t\t33866,\n\t\t\t\t\t33867\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"infectedWounds\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48483,\n\t\t\t\t\t48484,\n\t\t\t\t\t48485\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"kingOfTheJungle\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48492,\n\t\t\t\t\t48494,\n\t\t\t\t\t48495\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"mangle\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33917\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedMangle\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48532,\n\t\t\t\t\t48489,\n\t\t\t\t\t48491\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"rendAndTear\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 9,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48432,\n\t\t\t\t\t48433,\n\t\t\t\t\t48434,\n\t\t\t\t\t51268,\n\t\t\t\t\t51269\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"primalGore\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 9,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t63503\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 9,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"berserk\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 10,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t50334\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"Restoration\",\n\t\t\"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/282.jpg\",\n\t\t\"talents\": [\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedMarkOfTheWild\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 0,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17050,\n\t\t\t\t\t17051\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturesFocus\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 0,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17063,\n\t\t\t\t\t17065,\n\t\t\t\t\t17066\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"furor\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 0,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17056,\n\t\t\t\t\t17058,\n\t\t\t\t\t17059,\n\t\t\t\t\t17060,\n\t\t\t\t\t17061\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturalist\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17069,\n\t\t\t\t\t17070,\n\t\t\t\t\t17071,\n\t\t\t\t\t17072,\n\t\t\t\t\t17073\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"subtlety\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17118,\n\t\t\t\t\t17119,\n\t\t\t\t\t17120\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturalShapeshifter\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16833,\n\t\t\t\t\t16834,\n\t\t\t\t\t16835\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"intensity\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17106,\n\t\t\t\t\t17107,\n\t\t\t\t\t17108\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"omenOfClarity\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t16864\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"masterShapeshifter\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48411,\n\t\t\t\t\t48412\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 1,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"tranquilSpirit\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t24968,\n\t\t\t\t\t24969,\n\t\t\t\t\t24970,\n\t\t\t\t\t24971,\n\t\t\t\t\t24972\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedRejuvenation\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17111,\n\t\t\t\t\t17112,\n\t\t\t\t\t17113\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturesSwiftness\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17116\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 2,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"giftOfNature\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17104,\n\t\t\t\t\t24943,\n\t\t\t\t\t24944,\n\t\t\t\t\t24945,\n\t\t\t\t\t24946\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedTranquility\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 3\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17123,\n\t\t\t\t\t17124\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"empoweredTouch\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33879,\n\t\t\t\t\t33880\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturesBounty\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 5,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t17074,\n\t\t\t\t\t17075,\n\t\t\t\t\t17076,\n\t\t\t\t\t17077,\n\t\t\t\t\t17078\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 3,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"livingSpirit\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t34151,\n\t\t\t\t\t34152,\n\t\t\t\t\t34153\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"swiftmend\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t18562\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 4,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"naturalPerfection\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 6,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33881,\n\t\t\t\t\t33882,\n\t\t\t\t\t33883\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"empoweredRejuvenation\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t33886,\n\t\t\t\t\t33887,\n\t\t\t\t\t33888,\n\t\t\t\t\t33889,\n\t\t\t\t\t33890\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"livingSeed\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48496,\n\t\t\t\t\t48499,\n\t\t\t\t\t48500\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"revitalize\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48539,\n\t\t\t\t\t48544,\n\t\t\t\t\t48545\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"treeOfLife\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t65139\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 7,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedTreeOfLife\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48535,\n\t\t\t\t\t48536,\n\t\t\t\t\t48537\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"improvedBarkskin\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 9,\n\t\t\t\t\t\"colIdx\": 0\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t63410,\n\t\t\t\t\t63411\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"giftOfTheEarthmother\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 9,\n\t\t\t\t\t\"colIdx\": 2\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t51179,\n\t\t\t\t\t51180,\n\t\t\t\t\t51181,\n\t\t\t\t\t51182,\n\t\t\t\t\t51183\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldName\": \"wildGrowth\",\n\t\t\t\t\"location\": {\n\t\t\t\t\t\"rowIdx\": 10,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t},\n\t\t\t\t\"spellIds\": [\n\t\t\t\t\t48438\n\t\t\t\t],\n\t\t\t\t\"maxPoints\": 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\t\"rowIdx\": 8,\n\t\t\t\t\t\"colIdx\": 1\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t}\n]);\n\nexport const druidGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [DruidMajorGlyph.GlyphOfBarkskin]: {\n            name: 'Glyph of Barkskin',\n            description: 'Reduces the chance you\\'ll be critically hit by 25% while Barkskin is active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_stoneclawtotem.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfBerserk]: {\n            name: 'Glyph of Berserk',\n            description: 'Increases the duration of Berserk by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_berserk.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfClaw]: {\n            name: 'Glyph of Claw',\n            description: 'Reduces the energy cost of your Claw ability by 5.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_rake.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfEntanglingRoots]: {\n            name: 'Glyph of Entangling Roots',\n            description: 'Increases the damage your Entangling Roots victims can take before the Entangling Roots automatically breaks by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_stranglevines.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfFocus]: {\n            name: 'Glyph of Focus',\n            description: 'Increases the damage done by Starfall by 10%, but decreases its radius by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_starfall.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfFrenziedRegeneration]: {\n            name: 'Glyph of Frenzied Regeneration',\n            description: 'While Frenzied Regeneration is active, healing effects on you are 20% more powerful.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_bullrush.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfGrowling]: {\n            name: 'Glyph of Growling',\n            description: 'Increases the chance for your Growl ability to work successfully by 8%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_physical_taunt.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfHealingTouch]: {\n            name: 'Glyph of Healing Touch',\n            description: 'Decreases the cast time of Healing Touch by 1.5 sec, the mana cost by 25%, and the amount healed by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingtouch.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfHurricane]: {\n            name: 'Glyph of Hurricane',\n            description: 'Your Hurricane ability now also slows the movement speed of its victims by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_cyclone.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfInnervate]: {\n            name: 'Glyph of Innervate',\n            description: 'Innervate now grants the caster 45% of <dfn title=\"her\">his</dfn> base mana pool over 10 sec in addition to the normal effects of Innervate.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightning.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfInsectSwarm]: {\n            name: 'Glyph of Insect Swarm',\n            description: 'Increases the damage of your Insect Swarm ability by 30%, but it no longer affects your victim\\'s chance to hit.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_insectswarm.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfLifebloom]: {\n            name: 'Glyph of Lifebloom',\n            description: 'Increases the duration of Lifebloom by 1 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_misc_herb_felblossom.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfMangle]: {\n            name: 'Glyph of Mangle',\n            description: 'Increases the damage done by Mangle by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_mangle2.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfMaul]: {\n            name: 'Glyph of Maul',\n            description: 'Your Maul ability now hits 1 additional target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_maul.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfMonsoon]: {\n            name: 'Glyph of Monsoon',\n            description: 'Reduces the cooldown of your Typhoon spell by 3 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_typhoon.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfMoonfire]: {\n            name: 'Glyph of Moonfire',\n            description: 'Increases the periodic damage of your Moonfire ability by 75%, but initial damage is decreased by 90%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_starfall.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfNourish]: {\n            name: 'Glyph of Nourish',\n            description: 'Your Nourish heals an additional 6% for each of your heal over time effects present on the target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_nourish.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfRake]: {\n            name: 'Glyph of Rake',\n            description: 'Your Rake ability prevents targets from fleeing.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_disembowel.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfRapidRejuvenation]: {\n            name: 'Glyph of Rapid Rejuvenation',\n            description: 'Your haste now reduces the time between the periodic healing ticks of your Rejuvenation spell.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_rejuvenation.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfRebirth]: {\n            name: 'Glyph of Rebirth',\n            description: 'Players resurrected by Rebirth are returned to life with 100% health.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfRegrowth]: {\n            name: 'Glyph of Regrowth',\n            description: 'Increases the healing of your Regrowth spell by 20% if your Regrowth effect is still active on the target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_resistnature.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfRejuvenation]: {\n            name: 'Glyph of Rejuvenation',\n            description: 'While your Rejuvenation targets are below 50% health, you will heal them for an additional 50% health.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_rejuvenation.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfRip]: {\n            name: 'Glyph of Rip',\n            description: 'Increases the duration of your Rip ability by 4 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_ghoulfrenzy.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfSavageRoar]: {\n            name: 'Glyph of Savage Roar',\n            description: 'Your Savage Roar ability grants an additional 3% bonus damage done.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_skinteeth.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfShred]: {\n            name: 'Glyph of Shred',\n            description: 'Each time you Shred, the duration of your Rip on the target is extended 2 sec, up to a maximum of 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_vampiricaura.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfStarfall]: {\n            name: 'Glyph of Starfall',\n            description: 'Reduces the cooldown of Starfall by 30 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_starfall.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfStarfire]: {\n            name: 'Glyph of Starfire',\n            description: 'Your Starfire ability increases the duration of your Moonfire effect on the target by 3 sec, up to a maximum of 9 additional seconds.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_arcane_starfire.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfSurvivalInstincts]: {\n            name: 'Glyph of Survival Instincts',\n            description: 'Your Survival Instincts ability grants an additional 15% of your maximum health.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_tigersroar.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfSwiftmend]: {\n            name: 'Glyph of Swiftmend',\n            description: 'Your Swiftmend ability no longer consumes a Rejuvenation or Regrowth effect from the target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_relics_idolofrejuvenation.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfWildGrowth]: {\n            name: 'Glyph of Wild Growth',\n            description: 'Wild Growth can affect 1 additional target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_flourish.jpg',\n        },\n        [DruidMajorGlyph.GlyphOfWrath]: {\n            name: 'Glyph of Wrath',\n            description: 'Reduces the pushback suffered from damaging attacks while casting your Wrath spell by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_abolishmagic.jpg',\n        },\n    },\n    minorGlyphs: {\n        [DruidMinorGlyph.GlyphOfAquaticForm]: {\n            name: 'Glyph of Aquatic Form',\n            description: 'Increases your swim speed by 50% while in Aquatic Form.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_aquaticform.jpg',\n        },\n        [DruidMinorGlyph.GlyphOfChallengingRoar]: {\n            name: 'Glyph of Challenging Roar',\n            description: 'Reduces the cooldown of your Challenging Roar ability by 30 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_challangingroar.jpg',\n        },\n        [DruidMinorGlyph.GlyphOfDash]: {\n            name: 'Glyph of Dash',\n            description: 'Reduces the cooldown of your Dash ability by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_dash.jpg',\n        },\n        [DruidMinorGlyph.GlyphOfTheWild]: {\n            name: 'Glyph of the Wild',\n            description: 'Mana cost of your Mark of the Wild and Gift of the Wild spells reduced by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_regeneration.jpg',\n        },\n        [DruidMinorGlyph.GlyphOfThorns]: {\n            name: 'Glyph of Thorns',\n            description: 'Increases the duration of your Thorns ability by 50 min when cast on yourself.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_thorns.jpg',\n        },\n        [DruidMinorGlyph.GlyphOfTyphoon]: {\n            name: 'Glyph of Typhoon',\n            description: 'Reduces the cost of your Typhoon spell by 8% and increases its radius by 10 yards, but it no longer knocks enemies back.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_typhoon.jpg',\n        },\n        [DruidMinorGlyph.GlyphOfUnburdenedRebirth]: {\n            name: 'Glyph of Unburdened Rebirth',\n            description: 'Your Rebirth spell no longer requires a reagent.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg',\n        },\n    },\n};\n","import { HunterTalents, HunterMajorGlyph, HunterMinorGlyph, HunterPetTalents } from '../proto/hunter.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const hunterTalentsConfig: TalentsConfig<HunterTalents> = newTalentsConfig([\n    {\n        \"name\": \"Beast Mastery\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/361.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"improvedAspectOfTheHawk\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19552,\n                    19553,\n                    19554,\n                    19555,\n                    19556\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"enduranceTraining\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19583,\n                    19584,\n                    19585,\n                    19586,\n                    19587\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"focusedFire\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    35029,\n                    35030\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedAspectOfTheMonkey\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19549,\n                    19550,\n                    19551\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"thickHide\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19609,\n                    19610,\n                    19612\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"improvedRevivePet\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    24443,\n                    19575\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"pathfinding\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    19559,\n                    19560\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"aspectMastery\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    53265\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"unleashedFury\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19616,\n                    19617,\n                    19618,\n                    19619,\n                    19620\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedMendPet\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19572,\n                    19573\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"ferocity\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19598,\n                    19599,\n                    19600,\n                    19601,\n                    19602\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"spiritBond\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    19578,\n                    20895\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"intimidation\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19577\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"bestialDiscipline\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    19590,\n                    19592\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"animalHandler\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    34453,\n                    34454\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"frenzy\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19621,\n                    19622,\n                    19623,\n                    19624,\n                    19625\n                ],\n                \"maxPoints\": 5,\n                \"prereqLocation\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                }\n            },\n            {\n                \"fieldName\": \"ferociousInspiration\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    34455,\n                    34459,\n                    34460\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"bestialWrath\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19574\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"catlikeReflexes\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    34462,\n                    34464,\n                    34465\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"invigoration\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    53252,\n                    53253\n                ],\n                \"maxPoints\": 2,\n                \"prereqLocation\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                }\n            },\n            {\n                \"fieldName\": \"serpentsSwiftness\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    34466,\n                    34467,\n                    34468,\n                    34469,\n                    34470\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"longevity\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    53262,\n                    53263,\n                    53264\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"theBeastWithin\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    34692\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"cobraStrikes\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    53256,\n                    53259,\n                    53260\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                }\n            },\n            {\n                \"fieldName\": \"kindredSpirits\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    56314,\n                    56315,\n                    56316,\n                    56317,\n                    56318\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"beastMastery\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    53270\n                ],\n                \"maxPoints\": 1\n            }\n        ]\n    },\n    {\n        \"name\": \"Marksmanship\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/363.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"improvedConcussiveShot\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    19407,\n                    19412\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"focusedAim\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    53620,\n                    53621,\n                    53622\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"lethalShots\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19426,\n                    19427,\n                    19429,\n                    19430,\n                    19431\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"carefulAim\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    34482,\n                    34483,\n                    34484\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"improvedHuntersMark\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19421,\n                    19422,\n                    19423\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"mortalShots\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19485,\n                    19487,\n                    19488,\n                    19489,\n                    19490\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"goForTheThroat\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    34950,\n                    34954\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedArcaneShot\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19454,\n                    19455,\n                    19456\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"aimedShot\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19434\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                }\n            },\n            {\n                \"fieldName\": \"rapidKilling\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    34948,\n                    34949\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedStings\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19464,\n                    19465,\n                    19466\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"efficiency\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19416,\n                    19417,\n                    19418,\n                    19419,\n                    19420\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"concussiveBarrage\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    35100,\n                    35102\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"readiness\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    23989\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"barrage\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19461,\n                    19462,\n                    24691\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"combatExperience\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    34475,\n                    34476\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"rangedWeaponSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    19507,\n                    19508,\n                    19509\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"piercingShots\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    53234,\n                    53237,\n                    53238\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"trueshotAura\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19506\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"improvedBarrage\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    35104,\n                    35110,\n                    35111\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                }\n            },\n            {\n                \"fieldName\": \"masterMarksman\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    34485,\n                    34486,\n                    34487,\n                    34488,\n                    34489\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"rapidRecuperation\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    53228,\n                    53232\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"wildQuiver\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    53215,\n                    53216,\n                    53217\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"silencingShot\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    34490\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"improvedSteadyShot\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    53221,\n                    53222,\n                    53224\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"markedForDeath\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    53241,\n                    53243,\n                    53244,\n                    53245,\n                    53246\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"chimeraShot\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    53209\n                ],\n                \"maxPoints\": 1\n            }\n        ]\n    },\n    {\n        \"name\": \"Survival\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/362.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"improvedTracking\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    52783,\n                    52785,\n                    52786,\n                    52787,\n                    52788\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"hawkEye\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19498,\n                    19499,\n                    19500\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"savageStrikes\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19159,\n                    19160\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"surefooted\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    19290,\n                    19294,\n                    24283\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"entrapment\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19184,\n                    19387,\n                    19388\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"trapMastery\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19376,\n                    63457,\n                    63458\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"survivalInstincts\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    34494,\n                    34496\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"survivalist\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    19255,\n                    19256,\n                    19257,\n                    19258,\n                    19259\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"scatterShot\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19503\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"deflection\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19295,\n                    19297,\n                    19298\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"survivalTactics\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    19286,\n                    19287\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"tNT\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    56333,\n                    56336,\n                    56337\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"lockAndLoad\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    56342,\n                    56343,\n                    56344\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"hunterVsWild\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    56339,\n                    56340,\n                    56341\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                }\n            },\n            {\n                \"fieldName\": \"killerInstinct\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19370,\n                    19371,\n                    19373\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"counterattack\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    19306\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                }\n            },\n            {\n                \"fieldName\": \"lightningReflexes\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    19168,\n                    19180,\n                    19181,\n                    24296,\n                    24297\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"resourcefulness\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    34491,\n                    34492,\n                    34493\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"exposeWeakness\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    34500,\n                    34502,\n                    34503\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                }\n            },\n            {\n                \"fieldName\": \"wyvernSting\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    19386\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"thrillOfTheHunt\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    34497,\n                    34498,\n                    34499\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"masterTactician\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    34506,\n                    34507,\n                    34508,\n                    34838,\n                    34839\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"noxiousStings\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    53295,\n                    53296,\n                    53297\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"pointOfNoEscape\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    53298,\n                    53299\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"blackArrow\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    3674\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"sniperTraining\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    53302,\n                    53303,\n                    53304\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"huntingParty\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    53290,\n                    53291,\n                    53292\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                }\n            },\n            {\n                \"fieldName\": \"explosiveShot\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    53301\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                }\n            }\n        ]\n    }\n]);\n\nexport const hunterGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [HunterMajorGlyph.GlyphOfAimedShot]: {\n            name: 'Glyph of Aimed Shot',\n            description: 'Reduces the cooldown of your Aimed Shot ability by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_spear_07.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfArcaneShot]: {\n            name: 'Glyph of Arcane Shot',\n            description: 'Your Arcane Shot refunds 20% of its mana cost if the target has one of your Stings active on it.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_impalingbolt.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfAspectOfTheViper]: {\n            name: 'Glyph of Aspect of the Viper',\n            description: 'Increases the amount of mana gained from attacks while Aspect of the Viper is active by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_aspectoftheviper.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfBestialWrath]: {\n            name: 'Glyph of Bestial Wrath',\n            description: 'Decreases the cooldown of Bestial Wrath by 20 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_ferociousbite.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfChimeraShot]: {\n            name: 'Glyph of Chimera Shot',\n            description: 'Reduces the cooldown of Chimera Shot by 1 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_chimerashot2.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfDeterrence]: {\n            name: 'Glyph of Deterrence',\n            description: 'Decreases the cooldown of Deterrence by 10 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_whirlwind.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfDisengage]: {\n            name: 'Glyph of Disengage',\n            description: 'Decreases the cooldown of Disengage by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_feint.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfExplosiveShot]: {\n            name: 'Glyph of Explosive Shot',\n            description: 'Increases the critical strike chance of Explosive Shot by 4%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_explosiveshot.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfExplosiveTrap]: {\n            name: 'Glyph of Explosive Trap',\n            description: 'The periodic damage from your Explosive Trap can now be critical strikes.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_selfdestruct.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfFreezingTrap]: {\n            name: 'Glyph of Freezing Trap',\n            description: 'When your Freezing Trap breaks, the victim\\'s movement speed is reduced by 30% for 4 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_chainsofice.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfFrostTrap]: {\n            name: 'Glyph of Frost Trap',\n            description: 'Increases the radius of the effect from your Frost Trap by 2 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_freezingbreath.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfHuntersMark]: {\n            name: 'Glyph of Hunter\\'s Mark',\n            description: 'Increases the attack power bonus of your Hunter\\'s Mark by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_snipershot.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfImmolationTrap]: {\n            name: 'Glyph of Immolation Trap',\n            description: 'Decreases the duration of the effect from your Immolation Trap by 6 sec., but damage while active is increased by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_flameshock.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfKillShot]: {\n            name: 'Glyph of Kill Shot',\n            description: 'Reduces the cooldown of Kill Shot by 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_assassinate2.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfMending]: {\n            name: 'Glyph of Mending',\n            description: 'Increases the healing done by your Mend Pet ability by 40%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_mendpet.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfMultiShot]: {\n            name: 'Glyph of Multi-Shot',\n            description: 'Decreases the cooldown of Multi-Shot by 1 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_upgrademoonglaive.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfRapidFire]: {\n            name: 'Glyph of Rapid Fire',\n            description: 'Increases the haste from Rapid Fire by an additional 8%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_runningshot.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfRaptorStrike]: {\n            name: 'Glyph of Raptor Strike',\n            description: 'Reduces damage taken by 20% for 3 sec after using Raptor Strike.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_meleedamage.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfScatterShot]: {\n            name: 'Glyph of Scatter Shot',\n            description: 'Increases the range of Scatter Shot by 3 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_golemstormbolt.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfSerpentSting]: {\n            name: 'Glyph of Serpent Sting',\n            description: 'Increases the duration of your Serpent Sting by 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_quickshot.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfSnakeTrap]: {\n            name: 'Glyph of Snake Trap',\n            description: 'Snakes from your Snake Trap take 90% reduced damage from area of effect spells.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_snaketrap.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfSteadyShot]: {\n            name: 'Glyph of Steady Shot',\n            description: 'Increases the damage dealt by Steady Shot by 10% when your target is afflicted with Serpent Sting.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_steadyshot.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfTheBeast]: {\n            name: 'Glyph of the Beast',\n            description: 'Increases the attack power bonus of Aspect of the Beast for you and your pet by an additional 2%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mount_pinktiger.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfTheHawk]: {\n            name: 'Glyph of the Hawk',\n            description: 'Increases the haste bonus of the Improved Aspect of the Hawk effect by an additional 6%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_ravenform.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfTrueshotAura]: {\n            name: 'Glyph of Trueshot Aura',\n            description: 'While your Trueshot Aura is active, you have 10% increased critical strike chance on your Aimed Shot.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_trueshot.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfVolley]: {\n            name: 'Glyph of Volley',\n            description: 'Decreases the mana cost of Volley by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_marksmanship.jpg',\n        },\n        [HunterMajorGlyph.GlyphOfWyvernSting]: {\n            name: 'Glyph of Wyvern Sting',\n            description: 'Decreases the cooldown of your Wyvern Sting by 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_spear_02.jpg',\n        },\n    },\n    minorGlyphs: {\n        [HunterMinorGlyph.GlyphOfFeignDeath]: {\n            name: 'Glyph of Feign Death',\n            description: 'Reduces the cooldown of your Feign Death spell by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_feigndeath.jpg',\n        },\n        [HunterMinorGlyph.GlyphOfMendPet]: {\n            name: 'Glyph of Mend Pet',\n            description: 'Your Mend Pet spell increases your pet\\'s happiness slightly.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_mendpet.jpg',\n        },\n        [HunterMinorGlyph.GlyphOfPossessedStrength]: {\n            name: 'Glyph of Possessed Strength',\n            description: 'Increases the damage your pet inflicts while using Eyes of the Beast by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_eyeoftheowl.jpg',\n        },\n        [HunterMinorGlyph.GlyphOfRevivePet]: {\n            name: 'Glyph of Revive Pet',\n            description: 'Reduces the pushback suffered from damaging attacks while casting Revive Pet by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_hunter_beastsoothe.jpg',\n        },\n        [HunterMinorGlyph.GlyphOfScareBeast]: {\n            name: 'Glyph of Scare Beast',\n            description: 'Reduces the pushback suffered from damaging attacks while casting Scare Beast by 75%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_druid_cower.jpg',\n        },\n        [HunterMinorGlyph.GlyphOfThePack]: {\n            name: 'Glyph of the Pack',\n            description: 'Increases the range of your Aspect of the Pack ability by 15 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mount_jungletiger.jpg',\n        },\n    },\n};\n","import { MageTalents, MageMajorGlyph, MageMinorGlyph } from '../proto/mage.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const mageTalentsConfig: TalentsConfig<MageTalents> = newTalentsConfig([\n\t{\n\t  \"name\": \"Arcane\",\n\t  \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/81.jpg\",\n\t  \"talents\": [\n\t\t{\n\t\t  \"fieldName\": \"arcaneSubtlety\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11210,\n\t\t\t12592\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneFocus\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11222,\n\t\t\t12839,\n\t\t\t12840\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneStability\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11237,\n\t\t\t12463,\n\t\t\t12464,\n\t\t\t16769,\n\t\t\t16770\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneFortitude\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t28574,\n\t\t\t54658,\n\t\t\t54659\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"magicAbsorption\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t29441,\n\t\t\t29444\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneConcentration\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11213,\n\t\t\t12574,\n\t\t\t12575,\n\t\t\t12576,\n\t\t\t12577\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"magicAttunement\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11247,\n\t\t\t12606\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"spellImpact\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11242,\n\t\t\t12467,\n\t\t\t12469\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"studentOfTheMind\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44397,\n\t\t\t44398,\n\t\t\t44399\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"focusMagic\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 3\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t54646\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneShielding\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11252,\n\t\t\t12605\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"improvedCounterspell\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11255,\n\t\t\t12598\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneMeditation\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t18462,\n\t\t\t18463,\n\t\t\t18464\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"tormentTheWeak\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 3\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t29447,\n\t\t\t55339,\n\t\t\t55340\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"improvedBlink\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31569,\n\t\t\t31570\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"presenceOfMind\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t12043\n\t\t  ],\n\t\t  \"maxPoints\": 1,\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneMind\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 3\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11232,\n\t\t\t12500,\n\t\t\t12501,\n\t\t\t12502,\n\t\t\t12503\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"prismaticCloak\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31574,\n\t\t\t31575,\n\t\t\t54354\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneInstability\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t15058,\n\t\t\t15059,\n\t\t\t15060\n\t\t  ],\n\t\t  \"maxPoints\": 3,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcanePotency\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31571,\n\t\t\t31572\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneEmpowerment\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31579,\n\t\t\t31582,\n\t\t\t31583\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcanePower\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t12042\n\t\t  ],\n\t\t  \"maxPoints\": 1,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"incantersAbsorption\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44394,\n\t\t\t44395,\n\t\t\t44396\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneFlows\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 7,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44378,\n\t\t\t44379\n\t\t  ],\n\t\t  \"maxPoints\": 2,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"mindMastery\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 7,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31584,\n\t\t\t31585,\n\t\t\t31586,\n\t\t\t31587,\n\t\t\t31588\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"slow\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31589\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"missileBarrage\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44404,\n\t\t\t54486,\n\t\t\t54488,\n\t\t\t54489,\n\t\t\t54490\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"netherwindPresence\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 9,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44400,\n\t\t\t44402,\n\t\t\t44403\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"spellPower\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 9,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t35578,\n\t\t\t35581\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcaneBarrage\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 10,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44425\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t}\n\t  ]\n\t},\n\t{\n\t  \"name\": \"Fire\",\n\t  \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/41.jpg\",\n\t  \"talents\": [\n\t\t{\n\t\t  \"fieldName\": \"improvedFireBlast\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11078,\n\t\t\t11080\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"incineration\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t18459,\n\t\t\t18460,\n\t\t\t54734\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"improvedFireball\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11069,\n\t\t\t12338,\n\t\t\t12339,\n\t\t\t12340,\n\t\t\t12341\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"ignite\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11119,\n\t\t\t11120,\n\t\t\t12846,\n\t\t\t12847,\n\t\t\t12848\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"burningDetermination\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t54747,\n\t\t\t54749\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"worldInFlames\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11108,\n\t\t\t12349,\n\t\t\t12350\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"flameThrowing\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11100,\n\t\t\t12353\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"impact\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11103,\n\t\t\t12357,\n\t\t\t12358\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"pyroblast\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11366\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"burningSoul\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 3\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11083,\n\t\t\t12351\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"improvedScorch\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11095,\n\t\t\t12872,\n\t\t\t12873\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"moltenShields\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11094,\n\t\t\t13043\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"masterOfElements\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 3\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t29074,\n\t\t\t29075,\n\t\t\t29076\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"playingWithFire\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31638,\n\t\t\t31639,\n\t\t\t31640\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"criticalMass\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11115,\n\t\t\t11367,\n\t\t\t11368\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"blastWave\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11113\n\t\t  ],\n\t\t  \"maxPoints\": 1,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 2\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"blazingSpeed\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31641,\n\t\t\t31642\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"firePower\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11124,\n\t\t\t12378,\n\t\t\t12398,\n\t\t\t12399,\n\t\t\t12400\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"pyromaniac\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t34293,\n\t\t\t34295,\n\t\t\t34296\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"combustion\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11129\n\t\t  ],\n\t\t  \"maxPoints\": 1,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"moltenFury\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31679,\n\t\t\t31680\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"fieryPayback\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 7,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t64353,\n\t\t\t64357\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"empoweredFire\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 7,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31656,\n\t\t\t31657,\n\t\t\t31658\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"firestarter\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44442,\n\t\t\t44443\n\t\t  ],\n\t\t  \"maxPoints\": 2,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"dragonsBreath\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31661\n\t\t  ],\n\t\t  \"maxPoints\": 1,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"hotStreak\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44445,\n\t\t\t44446,\n\t\t\t44448\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"burnout\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 9,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44449,\n\t\t\t44469,\n\t\t\t44470,\n\t\t\t44471,\n\t\t\t44472\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"livingBomb\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 10,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44457\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t}\n\t  ]\n\t},\n\t{\n\t  \"name\": \"Frost\",\n\t  \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/61.jpg\",\n\t  \"talents\": [\n\t\t{\n\t\t  \"fieldName\": \"frostbite\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11071,\n\t\t\t12496,\n\t\t\t12497\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"improvedFrostbolt\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11070,\n\t\t\t12473,\n\t\t\t16763,\n\t\t\t16765,\n\t\t\t16766\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"iceFloes\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 0,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31670,\n\t\t\t31672,\n\t\t\t55094\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"iceShards\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11207,\n\t\t\t12672,\n\t\t\t15047\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"frostWarding\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11189,\n\t\t\t28332\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"precision\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t29438,\n\t\t\t29439,\n\t\t\t29440\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"permafrost\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 1,\n\t\t\t\"colIdx\": 3\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11175,\n\t\t\t12569,\n\t\t\t12571\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"piercingIce\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11151,\n\t\t\t12952,\n\t\t\t12953\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"icyVeins\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t12472\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"improvedBlizzard\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 2,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11185,\n\t\t\t12487,\n\t\t\t12488\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcticReach\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t16757,\n\t\t\t16758\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"frostChanneling\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11160,\n\t\t\t12518,\n\t\t\t12519\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"shatter\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 3,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11170,\n\t\t\t12982,\n\t\t\t12983\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"coldSnap\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11958\n\t\t  ],\n\t\t  \"maxPoints\": 1,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"improvedConeOfCold\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11190,\n\t\t\t12489,\n\t\t\t12490\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"frozenCore\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 3\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31667,\n\t\t\t31668,\n\t\t\t31669\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"coldAsIce\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t55091,\n\t\t\t55092\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"wintersChill\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 5,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11180,\n\t\t\t28592,\n\t\t\t28593\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"shatteredBarrier\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44745,\n\t\t\t54787\n\t\t  ],\n\t\t  \"maxPoints\": 2,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"iceBarrier\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t11426\n\t\t  ],\n\t\t  \"maxPoints\": 1,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 4,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"arcticWinds\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 6,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31674,\n\t\t\t31675,\n\t\t\t31676,\n\t\t\t31677,\n\t\t\t31678\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"empoweredFrostbolt\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 7,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31682,\n\t\t\t31683\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"fingersOfFrost\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 7,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44543,\n\t\t\t44545\n\t\t  ],\n\t\t  \"maxPoints\": 2\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"brainFreeze\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 0\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44546,\n\t\t\t44548,\n\t\t\t44549\n\t\t  ],\n\t\t  \"maxPoints\": 3\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"summonWaterElemental\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t31687\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"enduringWinter\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 2\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44557,\n\t\t\t44560,\n\t\t\t44561\n\t\t  ],\n\t\t  \"maxPoints\": 3,\n\t\t  \"prereqLocation\": {\n\t\t\t\"rowIdx\": 8,\n\t\t\t\"colIdx\": 1\n\t\t  }\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"chilledToTheBone\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 9,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44566,\n\t\t\t44567,\n\t\t\t44568,\n\t\t\t44570,\n\t\t\t44571\n\t\t  ],\n\t\t  \"maxPoints\": 5\n\t\t},\n\t\t{\n\t\t  \"fieldName\": \"deepFreeze\",\n\t\t  \"location\": {\n\t\t\t\"rowIdx\": 10,\n\t\t\t\"colIdx\": 1\n\t\t  },\n\t\t  \"spellIds\": [\n\t\t\t44572\n\t\t  ],\n\t\t  \"maxPoints\": 1\n\t\t}\n\t  ]\n\t}\n  ]);\n\nexport const mageGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [MageMajorGlyph.GlyphOfArcaneBarrage]: {\n            name: 'Glyph of Arcane Barrage',\n            description: 'Reduces the mana cost of Arcane Barrage by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mage_arcanebarrage.jpg',\n        },\n        [MageMajorGlyph.GlyphOfArcaneBlast]: {\n            name: 'Glyph of Arcane Blast',\n            description: 'Increases the damage from your Arcane Blast buff by 3%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_arcane_blast.jpg',\n        },\n        [MageMajorGlyph.GlyphOfArcaneExplosion]: {\n            name: 'Glyph of Arcane Explosion',\n            description: 'Reduces mana cost of Arcane Explosion by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_wispsplode.jpg',\n        },\n        [MageMajorGlyph.GlyphOfArcaneMissiles]: {\n            name: 'Glyph of Arcane Missiles',\n            description: 'Increases the critical strike damage bonus of Arcane Missiles by 25%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_starfall.jpg',\n        },\n        [MageMajorGlyph.GlyphOfArcanePower]: {\n            name: 'Glyph of Arcane Power',\n            description: 'Increases the duration of Arcane Power by 3 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightning.jpg',\n        },\n        [MageMajorGlyph.GlyphOfBlink]: {\n            name: 'Glyph of Blink',\n            description: 'Increases the distance you travel with the Blink spell by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_arcane_blink.jpg',\n        },\n        [MageMajorGlyph.GlyphOfDeepFreeze]: {\n            name: 'Glyph of Deep Freeze',\n            description: 'Increases the range of Deep Freeze by 10 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mage_deepfreeze.jpg',\n        },\n        [MageMajorGlyph.GlyphOfEternalWater]: {\n            name: 'Glyph of Eternal Water',\n            description: 'Your Summon Water Elemental now lasts indefinitely, but your Water Elemental can no longer cast Freeze.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_summonwaterelemental_2.jpg',\n        },\n        [MageMajorGlyph.GlyphOfEvocation]: {\n            name: 'Glyph of Evocation',\n            description: 'Your Evocation ability also causes you to regain 60% of your health over its duration.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_purge.jpg',\n        },\n        [MageMajorGlyph.GlyphOfFireBlast]: {\n            name: 'Glyph of Fire Blast',\n            description: 'Increases the critical strike chance of Fire Blast by 50% when the target is stunned or incapacitated.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_fireball.jpg',\n        },\n        [MageMajorGlyph.GlyphOfFireball]: {\n            name: 'Glyph of Fireball',\n            description: 'Reduces the casting time of your Fireball spell by 0.15 sec, but removes the damage over time effect.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_flamebolt.jpg',\n        },\n        [MageMajorGlyph.GlyphOfFrostNova]: {\n            name: 'Glyph of Frost Nova',\n            description: 'Your Frost Nova targets can take an additional 20% damage before the Frost Nova effect automatically breaks.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostnova.jpg',\n        },\n        [MageMajorGlyph.GlyphOfFrostbolt]: {\n            name: 'Glyph of Frostbolt',\n            description: 'Increases the damage dealt by Frostbolt by 5%, but removes the slowing effect.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostbolt02.jpg',\n        },\n        [MageMajorGlyph.GlyphOfFrostfire]: {\n            name: 'Glyph of Frostfire',\n            description: 'Increases the initial damage dealt by Frostfire Bolt by 2% and its critical strike chance by 2%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mage_frostfirebolt.jpg',\n        },\n        [MageMajorGlyph.GlyphOfIceArmor]: {\n            name: 'Glyph of Ice Armor',\n            description: 'Your Ice Armor and Frost Armor spells grant an additional 50% armor and resistance.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostarmor02.jpg',\n        },\n        [MageMajorGlyph.GlyphOfIceBarrier]: {\n            name: 'Glyph of Ice Barrier',\n            description: 'Increases the amount of damage absorbed by your Ice Barrier by 30%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_ice_lament.jpg',\n        },\n        [MageMajorGlyph.GlyphOfIceBlock]: {\n            name: 'Glyph of Ice Block',\n            description: 'Your Frost Nova cooldown is now reset every time you use Ice Block.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frost.jpg',\n        },\n        [MageMajorGlyph.GlyphOfIceLance]: {\n            name: 'Glyph of Ice Lance',\n            description: 'Your Ice Lance now causes 4 times damage against frozen targets higher level than you instead of triple damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostblast.jpg',\n        },\n        [MageMajorGlyph.GlyphOfIcyVeins]: {\n            name: 'Glyph of Icy Veins',\n            description: 'Your Icy Veins ability also removes all movement slowing and cast time slowing effects.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_coldhearted.jpg',\n        },\n        [MageMajorGlyph.GlyphOfInvisibility]: {\n            name: 'Glyph of Invisibility',\n            description: 'Increases the duration of the Invisibility effect by 10 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mage_invisibility.jpg',\n        },\n        [MageMajorGlyph.GlyphOfLivingBomb]: {\n            name: 'Glyph of Living Bomb',\n            description: 'The periodic damage from your Living Bomb can now be critical strikes.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mage_livingbomb.jpg',\n        },\n        [MageMajorGlyph.GlyphOfMageArmor]: {\n            name: 'Glyph of Mage Armor',\n            description: 'Your Mage Armor spell grants an additional 20% mana regeneration while casting.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_magearmor.jpg',\n        },\n        [MageMajorGlyph.GlyphOfManaGem]: {\n            name: 'Glyph of Mana Gem',\n            description: 'Increases the mana received from using a mana gem by 40%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_misc_gem_stone_01.jpg',\n        },\n        [MageMajorGlyph.GlyphOfMirrorImage]: {\n            name: 'Glyph of Mirror Image',\n            description: 'Your Mirror Image spell now creates a 4th copy.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_magic_lesserinvisibilty.jpg',\n        },\n        [MageMajorGlyph.GlyphOfMoltenArmor]: {\n            name: 'Glyph of Molten Armor',\n            description: 'Your Molten Armor grants an additional 20% of your spirit as critical strike rating.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_mage_moltenarmor.jpg',\n        },\n        [MageMajorGlyph.GlyphOfPolymorph]: {\n            name: 'Glyph of Polymorph',\n            description: 'Your Polymorph spell also removes all damage over time effects from the target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_polymorph.jpg',\n        },\n        [MageMajorGlyph.GlyphOfRemoveCurse]: {\n            name: 'Glyph of Remove Curse',\n            description: 'Your Remove Curse spell also makes the target immune to all curses for 4 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_removecurse.jpg',\n        },\n        [MageMajorGlyph.GlyphOfScorch]: {\n            name: 'Glyph of Scorch',\n            description: 'Increases the damage of your Scorch spell by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_soulburn.jpg',\n        },\n        [MageMajorGlyph.GlyphOfWaterElemental]: {\n            name: 'Glyph of Water Elemental',\n            description: 'Reduces the cooldown of your Summon Water Elemental spell by 30 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_summonwaterelemental_2.jpg',\n        },\n    },\n    minorGlyphs: {\n        [MageMinorGlyph.GlyphOfArcaneIntellect]: {\n            name: 'Glyph of Arcane Intellect',\n            description: 'Reduces the mana cost of your Arcane Intellect and Arcane Brilliance spells by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_magicalsentry.jpg',\n        },\n        [MageMinorGlyph.GlyphOfBlastWave]: {\n            name: 'Glyph of Blast Wave',\n            description: 'The mana cost of your Blast Wave spell is reduced by 15%, but it no longer knocks enemies back.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism_02.jpg',\n        },\n        [MageMinorGlyph.GlyphOfFireWard]: {\n            name: 'Glyph of Fire Ward',\n            description: 'You have an additional 5% chance to reflect Fire spells while your Fire Ward is active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_firearmor.jpg',\n        },\n        [MageMinorGlyph.GlyphOfFrostArmor]: {\n            name: 'Glyph of Frost Armor',\n            description: 'Increases the duration of your Frost Armor and Ice Armor spells by 30 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostarmor02.jpg',\n        },\n        [MageMinorGlyph.GlyphOfFrostWard]: {\n            name: 'Glyph of Frost Ward',\n            description: 'You have an additional 5% chance to reflect Frost spells while your Frost Ward is active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostward.jpg',\n        },\n        [MageMinorGlyph.GlyphOfSlowFall]: {\n            name: 'Glyph of Slow Fall',\n            description: 'Your Slow Fall spell no longer requires a reagent.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_magic_featherfall.jpg',\n        },\n        [MageMinorGlyph.GlyphOfThePenguin]: {\n            name: 'Glyph of the Penguin',\n            description: 'Your Polymorph: Sheep spell polymorphs the target into a penguin instead.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_misc_penguinpet.jpg',\n        },\n    },\n};\n","import { PaladinTalents, PaladinMajorGlyph, PaladinMinorGlyph } from '../proto/paladin.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const paladinTalentsConfig: TalentsConfig<PaladinTalents> = newTalentsConfig([\n    {\n        name: 'Holy',\n        backgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/classic/382.jpg',\n        talents: [\n            {\n                fieldName: 'spiritualFocus',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1,\n                },\n                spellIds: [20205],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'sealsOfThePure',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2,\n                },\n                spellIds: [20224, 20225, 20330],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'healingLight',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0,\n                },\n                spellIds: [20237],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'divineIntellect',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1,\n                },\n                spellIds: [20257],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'unyieldingFaith',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2,\n                },\n                spellIds: [9453, 25836],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'auraMastery',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0,\n                },\n                spellIds: [31821],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'illumination',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [20210, 20212],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'improvedLayOnHands',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2,\n                },\n                spellIds: [20234],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'improvedConcentrationAura',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 0,\n                },\n                spellIds: [20254],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'improvedBlessingOfWisdom',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [20244],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'blessedHands',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 3,\n                },\n                spellIds: [53660],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'pureOfHeart',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0,\n                },\n                spellIds: [31822],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'divineFavor',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [20216],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'sanctifiedLight',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                spellIds: [20359],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'purifyingPower',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 0,\n                },\n                spellIds: [31825],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'holyPower',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2,\n                },\n                spellIds: [5923, 5924, 5925, 5926, 25829],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'lightsGrace',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 0,\n                },\n                spellIds: [31833, 31835],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'holyShock',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 4,\n                    colIdx: 1,\n                },\n                spellIds: [20473],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'blessedLife',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 2,\n                },\n                spellIds: [31828],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'sacredCleansing',\n                location: {\n                    rowIdx: 7,\n                    colIdx: 0,\n                },\n                spellIds: [53551],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'holyGuidance',\n                location: {\n                    rowIdx: 7,\n                    colIdx: 2,\n                },\n                spellIds: [31837],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'divineIllumination',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 0,\n                },\n                spellIds: [31842],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'judgementsOfThePure',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 2,\n                },\n                spellIds: [53671, 53673, 54151, 54154, 54155],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'infusionOfLight',\n                location: {\n                    rowIdx: 9,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 6,\n                    colIdx: 1,\n                },\n                spellIds: [53569, 53576],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'enlightenedJudgements',\n                location: {\n                    rowIdx: 9,\n                    colIdx: 2,\n                },\n                spellIds: [53556],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'beaconOfLight',\n                location: {\n                    rowIdx: 10,\n                    colIdx: 1,\n                },\n                spellIds: [53563],\n                maxPoints: 1,\n            },\n        ],\n    },\n    {\n        name: 'Protection',\n        backgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/classic/383.jpg',\n        talents: [\n            {\n                fieldName: 'divinity',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1,\n                },\n                spellIds: [63646],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'divineStrength',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2,\n                },\n                spellIds: [20262],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'stoicism',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0,\n                },\n                spellIds: [31844, 31845, 53519],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'guardiansFavor',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1,\n                },\n                spellIds: [20174],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'anticipation',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2,\n                },\n                spellIds: [20096],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'divineSacrifice',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0,\n                },\n                spellIds: [64205],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'improvedRighteousFury',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [20468],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'toughness',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2,\n                },\n                spellIds: [20143],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'divineGuardian',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 0,\n                },\n                prereqLocation: {\n                    rowIdx: 2,\n                    colIdx: 0,\n                },\n                spellIds: [53527, 53530],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'improvedHammerOfJustice',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 1,\n                },\n                spellIds: [20487],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'improvedDevotionAura',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [20138],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'blessingOfSanctuary',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1,\n                },\n                spellIds: [20911],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'reckoning',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                spellIds: [20177, 20179, 20181, 20180, 20182],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'sacredDuty',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 0,\n                },\n                spellIds: [31848],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'oneHandedWeaponSpecialization',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2,\n                },\n                spellIds: [20196],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'spiritualAttunement',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 0,\n                },\n                spellIds: [31785, 33776],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'holyShield',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 4,\n                    colIdx: 1,\n                },\n                spellIds: [20925],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'ardentDefender',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 2,\n                },\n                spellIds: [31850],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'redoubt',\n                location: {\n                    rowIdx: 7,\n                    colIdx: 0,\n                },\n                spellIds: [20127, 20130, 20135],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'combatExpertise',\n                location: {\n                    rowIdx: 7,\n                    colIdx: 2,\n                },\n                spellIds: [31858],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'touchedByTheLight',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 0,\n                },\n                spellIds: [53590],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'avengersShield',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 6,\n                    colIdx: 1,\n                },\n                spellIds: [31935],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'guardedByTheLight',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 2,\n                },\n                spellIds: [53583, 53585],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'shieldOfTheTemplar',\n                location: {\n                    rowIdx: 9,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 8,\n                    colIdx: 2,\n                },\n                spellIds: [53709],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'judgementsOfTheJust',\n                location: {\n                    rowIdx: 9,\n                    colIdx: 2,\n                },\n                spellIds: [53695],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'hammerOfTheRighteous',\n                location: {\n                    rowIdx: 10,\n                    colIdx: 1,\n                },\n                spellIds: [53595],\n                maxPoints: 1,\n            },\n        ],\n    },\n    {\n        name: 'Retribution',\n        backgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/classic/381.jpg',\n        talents: [\n            {\n                fieldName: 'deflection',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1,\n                },\n                spellIds: [20060],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'benediction',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2,\n                },\n                spellIds: [20101],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'improvedJudgements',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0,\n                },\n                spellIds: [25956],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'heartOfTheCrusader',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1,\n                },\n                spellIds: [20335],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'improvedBlessingOfMight',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2,\n                },\n                spellIds: [20042, 20045],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'vindication',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0,\n                },\n                spellIds: [9452, 26016],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'conviction',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [20117],\n                maxPoints: 5,\n            },\n            {\n                fieldName: 'sealOfCommand',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2,\n                },\n                spellIds: [20375],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'pursuitOfJustice',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 3,\n                },\n                spellIds: [26022],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'eyeForAnEye',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 0,\n                },\n                spellIds: [9799, 25988],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'sanctityOfBattle',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [32043, 35396, 35397],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'crusade',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 3,\n                },\n                spellIds: [31866],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'twoHandedWeaponSpecialization',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0,\n                },\n                spellIds: [20111],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'sanctifiedRetribution',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                spellIds: [31869],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'vengeance',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [20049, 20056, 20057],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'divinePurpose',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2,\n                },\n                spellIds: [31871],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'theArtOfWar',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 0,\n                },\n                spellIds: [53486, 53488],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'repentance',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 1,\n                },\n                spellIds: [20066],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'judgementsOfTheWise',\n                location: {\n                    rowIdx: 6,\n                    colIdx: 2,\n                },\n                spellIds: [31876],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'fanaticism',\n                location: {\n                    rowIdx: 7,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 6,\n                    colIdx: 1,\n                },\n                spellIds: [31879],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'sanctifiedWrath',\n                location: {\n                    rowIdx: 7,\n                    colIdx: 2,\n                },\n                spellIds: [53375],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'swiftRetribution',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 0,\n                },\n                spellIds: [53379, 53484, 53648],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'crusaderStrike',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 1,\n                },\n                spellIds: [35395],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'sheathOfLight',\n                location: {\n                    rowIdx: 8,\n                    colIdx: 2,\n                },\n                spellIds: [53501],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'righteousVengeance',\n                location: {\n                    rowIdx: 9,\n                    colIdx: 1,\n                },\n                spellIds: [53380],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'divineStorm',\n                location: {\n                    rowIdx: 10,\n                    colIdx: 1,\n                },\n                spellIds: [53385],\n                maxPoints: 1,\n            },\n        ],\n    },\n]);\n\nexport const paladinGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [PaladinMajorGlyph.GlyphOfAvengerSShield]: {\n            name: 'Glyph of Avenger\\'s Shield',\n            description: 'Your Avenger\\'s Shield hits 2 fewer targets, but for 100% more damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_avengersshield.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfAvengingWrath]: {\n            name: 'Glyph of Avenging Wrath',\n            description: 'Reduces the cooldown of your Hammer of Wrath spell by 50% while Avenging Wrath is active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_avenginewrath.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfBeaconOfLight]: {\n            name: 'Glyph of Beacon of Light',\n            description: 'Increases the duration of Beacon of Light by 30 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_paladin_beaconoflight.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfCleansing]: {\n            name: 'Glyph of Cleansing',\n            description: 'Reduces the mana cost of your Cleanse and Purify spells by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_purify.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfConsecration]: {\n            name: 'Glyph of Consecration',\n            description: 'Increases the duration and cooldown of Consecration by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_innerfire.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfCrusaderStrike]: {\n            name: 'Glyph of Crusader Strike',\n            description: 'Reduces the mana cost of your Crusader Strike ability by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_crusaderstrike.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfDivinePlea]: {\n            name: 'Glyph of Divine Plea',\n            description: 'While Divine Plea is active, you take 3% reduced damage from all sources.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_aspiration.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfDivineStorm]: {\n            name: 'Glyph of Divine Storm',\n            description: 'Your Divine Storm now heals for an additional 15% of the damage it causes.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_paladin_divinestorm.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfDivinity]: {\n            name: 'Glyph of Divinity',\n            description: 'Your Lay on Hands grants twice as much mana as normal and also grants you as much mana as it grants your target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_layonhands.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfExorcism]: {\n            name: 'Glyph of Exorcism',\n            description: 'Increases damage done by Exorcism by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism_02.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfFlashOfLight]: {\n            name: 'Glyph of Flash of Light',\n            description: 'Your Flash of Light has an additional 5% critical strike chance.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_flashheal.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfHammerOfJustice]: {\n            name: 'Glyph of Hammer of Justice',\n            description: 'Increases your Hammer of Justice range by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofmight.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfHammerOfTheRighteous]: {\n            name: 'Glyph of Hammer of the Righteous',\n            description: 'Your Hammer of the Righteous hits 1 additional target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_paladin_hammeroftherighteous.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfHammerOfWrath]: {\n            name: 'Glyph of Hammer of Wrath',\n            description: 'Reduces the mana cost of Hammer of Wrath by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_thunderclap.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfHolyLight]: {\n            name: 'Glyph of Holy Light',\n            description: 'Your Holy Light grants 10% of its heal amount to up to 5 friendly targets within 8 yards of the initial target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_holybolt.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfHolyShock]: {\n            name: 'Glyph of Holy Shock',\n            description: 'Reduces the cooldown of Holy Shock by 1 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_searinglight.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfHolyWrath]: {\n            name: 'Glyph of Holy Wrath',\n            description: 'Reduces the cooldown of your Holy Wrath spell by 15 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfJudgement]: {\n            name: 'Glyph of Judgement',\n            description: 'Your Judgements deal 10% more damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_paladin_judgementred.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfRighteousDefense]: {\n            name: 'Glyph of Righteous Defense',\n            description: 'Increases the chance for your Righteous Defense and Hand of Reckoning abilities to work successfully by 8% on each target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_shoulder_37.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfSalvation]: {\n            name: 'Glyph of Salvation',\n            description: 'When you cast Hand of Salvation on yourself, it also reduces damage taken by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofsalvation.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfSealOfCommand]: {\n            name: 'Glyph of Seal of Command',\n            description: 'You gain 8% of your base mana each time you use a Judgement with Seal of Command active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_innerrage.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfSealOfLight]: {\n            name: 'Glyph of Seal of Light',\n            description: 'While Seal of Light is active, the effect of your healing spells is increased by 5%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_healingaura.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfSealOfRighteousness]: {\n            name: 'Glyph of Seal of Righteousness',\n            description: 'Increases the damage done by Seal of Righteousness by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_thunderbolt.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfSealOfVengeance]: {\n            name: 'Glyph of Seal of Vengeance',\n            description: 'Your Seal of Vengeance or Seal of Corruption also grants 10 expertise while active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofvengeance.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfSealOfWisdom]: {\n            name: 'Glyph of Seal of Wisdom',\n            description: 'While Seal of Wisdom is active, the cost of your healing spells is reduced by 5%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_righteousnessaura.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfShieldOfRighteousness]: {\n            name: 'Glyph of Shield of Righteousness',\n            description: 'Reduces the mana cost of Shield of Righteousness by 80%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_paladin_shieldofvengeance.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfSpiritualAttunement]: {\n            name: 'Glyph of Spiritual Attunement',\n            description: 'Increases the amount of mana gained from your Spiritual Attunement spell by an additional 2%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_revivechampion.jpg',\n        },\n        [PaladinMajorGlyph.GlyphOfTurnEvil]: {\n            name: 'Glyph of Turn Evil',\n            description: 'Reduces the casting time of your Turn Evil spell by 100%, but increases the cooldown by 8 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_turnundead.jpg',\n        },\n    },\n    minorGlyphs: {\n        [PaladinMinorGlyph.GlyphOfBlessingOfKings]: {\n            name: 'Glyph of Blessing of Kings',\n            description: 'Reduces the mana cost of your Blessing of Kings and Greater Blessing of Kings spells by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_magic_magearmor.jpg',\n        },\n        [PaladinMinorGlyph.GlyphOfBlessingOfMight]: {\n            name: 'Glyph of Blessing of Might',\n            description: 'Increases the duration of your Blessing of Might spell by 20 min when cast on yourself.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_fistofjustice.jpg',\n        },\n        [PaladinMinorGlyph.GlyphOfBlessingOfWisdom]: {\n            name: 'Glyph of Blessing of Wisdom',\n            description: 'Increases the duration of your Blessing of Wisdom spell by 20 min when cast on yourself.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofwisdom.jpg',\n        },\n        [PaladinMinorGlyph.GlyphOfLayOnHands]: {\n            name: 'Glyph of Lay on Hands',\n            description: 'Reduces the cooldown of your Lay on Hands spell by 5 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_layonhands.jpg',\n        },\n        [PaladinMinorGlyph.GlyphOfSenseUndead]: {\n            name: 'Glyph of Sense Undead',\n            description: 'Damage against Undead increased by 1% while your Sense Undead ability is active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_senseundead.jpg',\n        },\n        [PaladinMinorGlyph.GlyphOfTheWise]: {\n            name: 'Glyph of the Wise',\n            description: 'Reduces the mana cost of your Seal of Wisdom spell by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_righteousnessaura.jpg',\n        },\n    },\n};\n","import { PriestTalents, PriestMajorGlyph, PriestMinorGlyph } from '../proto/priest.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const priestTalentsConfig: TalentsConfig<PriestTalents> = newTalentsConfig([\n    {\n        name: \"Discipline\",\n        backgroundUrl: \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/201.jpg\",\n        talents: [\n            {\n                fieldName: \"unbreakableWill\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1\n                },\n                spellIds: [\n                    14522,\n                    14788,\n                    14789,\n                    14790,\n                    14791\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"twinDisciplines\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2\n                },\n                spellIds: [\n                    47586,\n                    47587,\n                    47588,\n                    52802,\n                    52803\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"silentResolve\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0\n                },\n                spellIds: [\n                    14523,\n                    14784,\n                    14785\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"improvedInnerFire\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1\n                },\n                spellIds: [\n                    14747,\n                    14770,\n                    14771\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"improvedPowerWordFortitude\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2\n                },\n                spellIds: [\n                    14749,\n                    14767\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"martyrdom\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 3\n                },\n                spellIds: [\n                    14531,\n                    14774\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"meditation\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0\n                },\n                spellIds: [\n                    14521,\n                    14776,\n                    14777\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"innerFocus\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1\n                },\n                spellIds: [\n                    14751\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"improvedPowerWordShield\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2\n                },\n                spellIds: [\n                    14748,\n                    14768,\n                    14769\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"absolution\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 0\n                },\n                spellIds: [\n                    33167,\n                    33171,\n                    33172\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"mentalAgility\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 1\n                },\n                spellIds: [\n                    14520,\n                    14780,\n                    14781\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"improvedManaBurn\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 3\n                },\n                spellIds: [\n                    14750,\n                    14772\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"reflectiveShield\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0\n                },\n                spellIds: [\n                    33201,\n                    33202\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"mentalStrength\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1\n                },\n                spellIds: [\n                    18551,\n                    18552,\n                    18553,\n                    18554,\n                    18555\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"soulWarding\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2\n                },\n                spellIds: [\n                    63574\n                ],\n                maxPoints: 1,\n                \"prereqLocation\": {\n                    rowIdx: 2,\n                    colIdx: 2\n                }\n            },\n            {\n                fieldName: \"focusedPower\",\n                location: {\n                    rowIdx: 5,\n                    colIdx: 0\n                },\n                spellIds: [\n                    33186,\n                    33190\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"enlightenment\",\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2\n                },\n                spellIds: [\n                    34908,\n                    34909,\n                    34910\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"focusedWill\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 0\n                },\n                spellIds: [\n                    45234,\n                    45243,\n                    45244\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"powerInfusion\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 1\n                },\n                spellIds: [\n                    10060\n                ],\n                maxPoints: 1,\n                \"prereqLocation\": {\n                    rowIdx: 4,\n                    colIdx: 1\n                }\n            },\n            {\n                fieldName: \"improvedFlashHeal\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 2\n                },\n                spellIds: [\n                    63504,\n                    63505,\n                    63506\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"renewedHope\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 0\n                },\n                spellIds: [\n                    57470,\n                    57472\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"rapture\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 1\n                },\n                spellIds: [\n                    47535,\n                    47536,\n                    47537\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"aspiration\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 2\n                },\n                spellIds: [\n                    47507,\n                    47508\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"divineAegis\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 0\n                },\n                spellIds: [\n                    47509,\n                    47511,\n                    47515\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"painSuppression\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 1\n                },\n                spellIds: [\n                    33206\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"grace\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 2\n                },\n                spellIds: [\n                    47516,\n                    47517\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"borrowedTime\",\n                location: {\n                    rowIdx: 9,\n                    colIdx: 1\n                },\n                spellIds: [\n                    52795,\n                    52797,\n                    52798,\n                    52799,\n                    52800\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"penance\",\n                location: {\n                    rowIdx: 10,\n                    colIdx: 1\n                },\n                spellIds: [\n                    47540\n                ],\n                maxPoints: 1\n            }\n        ]\n    },\n    {\n        name: \"Holy\",\n        backgroundUrl: \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/202.jpg\",\n        talents: [\n            {\n                fieldName: \"healingFocus\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 0\n                },\n                spellIds: [\n                    14913,\n                    15012\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"improvedRenew\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1\n                },\n                spellIds: [\n                    14908,\n                    15020,\n                    17191\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"holySpecialization\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2\n                },\n                spellIds: [\n                    14889,\n                    15008,\n                    15009,\n                    15010,\n                    15011\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"spellWarding\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1\n                },\n                spellIds: [\n                    27900,\n                    27901,\n                    27902,\n                    27903,\n                    27904\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"divineFury\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2\n                },\n                spellIds: [\n                    18530,\n                    18531,\n                    18533,\n                    18534,\n                    18535\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"desperatePrayer\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0\n                },\n                spellIds: [\n                    19236\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"blessedRecovery\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1\n                },\n                spellIds: [\n                    27811,\n                    27815,\n                    27816\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"inspiration\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 3\n                },\n                spellIds: [\n                    14892,\n                    15362,\n                    15363\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"holyReach\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 0\n                },\n                spellIds: [\n                    27789,\n                    27790\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"improvedHealing\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 1\n                },\n                spellIds: [\n                    14912,\n                    15013,\n                    15014\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"searingLight\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2\n                },\n                spellIds: [\n                    14909,\n                    15017\n                ],\n                maxPoints: 2,\n                \"prereqLocation\": {\n                    rowIdx: 1,\n                    colIdx: 2\n                }\n            },\n            {\n                fieldName: \"healingPrayers\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0\n                },\n                spellIds: [\n                    14911,\n                    15018\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"spiritOfRedemption\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1\n                },\n                spellIds: [\n                    20711\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"spiritualGuidance\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2\n                },\n                spellIds: [\n                    14901,\n                    15028,\n                    15029,\n                    15030,\n                    15031\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"surgeOfLight\",\n                location: {\n                    rowIdx: 5,\n                    colIdx: 0\n                },\n                spellIds: [\n                    33150,\n                    33154\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"spiritualHealing\",\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2\n                },\n                spellIds: [\n                    14898,\n                    15349,\n                    15354,\n                    15355,\n                    15356\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"holyConcentration\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 0\n                },\n                spellIds: [\n                    34753,\n                    34859,\n                    34860\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"lightwell\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 1\n                },\n                spellIds: [\n                    724\n                ],\n                maxPoints: 1,\n                \"prereqLocation\": {\n                    rowIdx: 4,\n                    colIdx: 1\n                }\n            },\n            {\n                fieldName: \"blessedResilience\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 2\n                },\n                spellIds: [\n                    33142,\n                    33145,\n                    33146\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"bodyAndSoul\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 0\n                },\n                spellIds: [\n                    64127,\n                    64129\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"empoweredHealing\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 1\n                },\n                spellIds: [\n                    33158,\n                    33159,\n                    33160,\n                    33161,\n                    33162\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"serendipity\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 2\n                },\n                spellIds: [\n                    63730,\n                    63733,\n                    63737\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"empoweredRenew\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 0\n                },\n                spellIds: [\n                    63534,\n                    63542,\n                    63543\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"circleOfHealing\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 1\n                },\n                spellIds: [\n                    34861\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"testOfFaith\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 2\n                },\n                spellIds: [\n                    47558,\n                    47559,\n                    47560\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"divineProvidence\",\n                location: {\n                    rowIdx: 9,\n                    colIdx: 1\n                },\n                spellIds: [\n                    47562,\n                    47564,\n                    47565,\n                    47566,\n                    47567\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"guardianSpirit\",\n                location: {\n                    rowIdx: 10,\n                    colIdx: 1\n                },\n                spellIds: [\n                    47788\n                ],\n                maxPoints: 1\n            }\n        ]\n    },\n    {\n        name: \"Shadow\",\n        backgroundUrl: \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/203.jpg\",\n        talents: [\n            {\n                fieldName: \"spiritTap\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 0\n                },\n                spellIds: [\n                    15270,\n                    15335,\n                    15336\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"improvedSpiritTap\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1\n                },\n                spellIds: [\n                    15337,\n                    15338\n                ],\n                maxPoints: 2,\n                prereqLocation: {\n                    rowIdx: 0,\n                    colIdx: 0\n                }\n            },\n            {\n                fieldName: \"darkness\",\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2\n                },\n                spellIds: [\n                    15259,\n                    15307,\n                    15308,\n                    15309,\n                    15310\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"shadowAffinity\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0\n                },\n                spellIds: [\n                    15318,\n                    15272,\n                    15320\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"improvedShadowWordPain\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1\n                },\n                spellIds: [\n                    15275,\n                    15317\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"shadowFocus\",\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2\n                },\n                spellIds: [\n                    15260,\n                    15327,\n                    15328\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"improvedPsychicScream\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0\n                },\n                spellIds: [\n                    15392,\n                    15448\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"improvedMindBlast\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1\n                },\n                spellIds: [\n                    15273,\n                    15312,\n                    15313,\n                    15314,\n                    15316\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"mindFlay\",\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2\n                },\n                spellIds: [\n                    15407\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"veiledShadows\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 1\n                },\n                spellIds: [\n                    15274,\n                    15311\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"shadowReach\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2\n                },\n                spellIds: [\n                    17322,\n                    17323\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"shadowWeaving\",\n                location: {\n                    rowIdx: 3,\n                    colIdx: 3\n                },\n                spellIds: [\n                    15257,\n                    15331,\n                    15332\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"silence\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0\n                },\n                spellIds: [\n                    15487\n                ],\n                maxPoints: 1,\n                \"prereqLocation\": {\n                    rowIdx: 2,\n                    colIdx: 0\n                }\n            },\n            {\n                fieldName: \"vampiricEmbrace\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1\n                },\n                spellIds: [\n                    15286\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"improvedVampiricEmbrace\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2\n                },\n                spellIds: [\n                    27839,\n                    27840\n                ],\n                maxPoints: 2,\n                \"prereqLocation\": {\n                    rowIdx: 4,\n                    colIdx: 1\n                }\n            },\n            {\n                fieldName: \"focusedMind\",\n                location: {\n                    rowIdx: 4,\n                    colIdx: 3\n                },\n                spellIds: [\n                    33213,\n                    33214,\n                    33215\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"mindMelt\",\n                location: {\n                    rowIdx: 5,\n                    colIdx: 0\n                },\n                spellIds: [\n                    14910,\n                    33371\n                ],\n                maxPoints: 2\n            },\n            {\n                fieldName: \"improvedDevouringPlague\",\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2\n                },\n                spellIds: [\n                    63625,\n                    63626,\n                    63627\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"shadowform\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 1\n                },\n                spellIds: [\n                    15473\n                ],\n                maxPoints: 1,\n                \"prereqLocation\": {\n                    rowIdx: 4,\n                    colIdx: 1\n                }\n            },\n            {\n                fieldName: \"shadowPower\",\n                location: {\n                    rowIdx: 6,\n                    colIdx: 2\n                },\n                spellIds: [\n                    33221,\n                    33222,\n                    33223,\n                    33224,\n                    33225\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"improvedShadowform\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 0\n                },\n                spellIds: [\n                    47569,\n                    47570\n                ],\n                maxPoints: 2,\n                \"prereqLocation\": {\n                    rowIdx: 6,\n                    colIdx: 1\n                }\n            },\n            {\n                fieldName: \"misery\",\n                location: {\n                    rowIdx: 7,\n                    colIdx: 2\n                },\n                spellIds: [\n                    33191,\n                    33192,\n                    33193\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"psychicHorror\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 0\n                },\n                spellIds: [\n                    64044\n                ],\n                maxPoints: 1\n            },\n            {\n                fieldName: \"vampiricTouch\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 1\n                },\n                spellIds: [\n                    34914\n                ],\n                maxPoints: 1,\n                \"prereqLocation\": {\n                    rowIdx: 6,\n                    colIdx: 1\n                }\n            },\n            {\n                fieldName: \"painAndSuffering\",\n                location: {\n                    rowIdx: 8,\n                    colIdx: 2\n                },\n                spellIds: [\n                    47580,\n                    47581,\n                    47582\n                ],\n                maxPoints: 3\n            },\n            {\n                fieldName: \"twistedFaith\",\n                location: {\n                    rowIdx: 9,\n                    colIdx: 2\n                },\n                spellIds: [\n                    47573,\n                    47577,\n                    47578,\n                    51166,\n                    51167\n                ],\n                maxPoints: 5\n            },\n            {\n                fieldName: \"dispersion\",\n                location: {\n                    rowIdx: 10,\n                    colIdx: 1\n                },\n                spellIds: [\n                    47585\n                ],\n                maxPoints: 1,\n                \"prereqLocation\": {\n                    rowIdx: 8,\n                    colIdx: 1\n                }\n            }\n        ]\n    }\n]);\n\nexport const priestGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [PriestMajorGlyph.GlyphOfCircleOfHealing]: {\n            name: 'Glyph of Circle of Healing',\n            description: 'Your Circle of Healing spell heals 1 additional target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_circleofrenewal.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfDispelMagic]: {\n            name: 'Glyph of Dispel Magic',\n            description: 'Your Dispel Magic spell also heals your target for 3% of maximum health.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_dispelmagic.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfDispersion]: {\n            name: 'Glyph of Dispersion',\n            description: 'Reduces the cooldown on Dispersion by 45 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_dispersion.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfFade]: {\n            name: 'Glyph of Fade',\n            description: 'Reduces the cooldown of your Fade spell by 9 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_magic_lesserinvisibilty.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfFearWard]: {\n            name: 'Glyph of Fear Ward',\n            description: 'Reduces cooldown and duration of Fear Ward by 60 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfFlashHeal]: {\n            name: 'Glyph of Flash Heal',\n            description: 'Reduces the mana cost of your Flash Heal by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_flashheal.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfGuardianSpirit]: {\n            name: 'Glyph of Guardian Spirit',\n            description: 'If your Guardian Spirit lasts its entire duration without being triggered, the cooldown is reset to 1 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_guardianspirit.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfHolyNova]: {\n            name: 'Glyph of Holy Nova',\n            description: 'Increases the damage and healing of your Holy Nova spell by an additional 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_holynova.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfHymnOfHope]: {\n            name: 'Glyph of Hymn of Hope',\n            description: 'Your Hymn of Hope lasts an additional 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_symbolofhope.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfInnerFire]: {\n            name: 'Glyph of Inner Fire',\n            description: 'Increases the armor from your Inner Fire spell by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_innerfire.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfLightwell]: {\n            name: 'Glyph of Lightwell',\n            description: 'Increases the amount healed by your Lightwell by 20%',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_summonlightwell.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfMassDispel]: {\n            name: 'Glyph of Mass Dispel',\n            description: 'Reduces the mana cost of Mass Dispel by 35%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_arcane_massdispel.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfMindControl]: {\n            name: 'Glyph of Mind Control',\n            description: 'Reduces the chance targets will resist or break your Mind Control spell by an additional 17%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowworddominate.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfMindFlay]: {\n            name: 'Glyph of Mind Flay',\n            description: 'Increases the damage done by your Mind Flay spell by 10% when your target is afflicted with Shadow Word: Pain.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_siphonmana.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfMindSear]: {\n            name: 'Glyph of Mind Sear',\n            description: 'Increases the radius of effect on Mind Sear by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_mindshear.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfPainSuppression]: {\n            name: 'Glyph of Pain Suppression',\n            description: 'Allows Pain Suppression to be cast while stunned.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_painsupression.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfPenance]: {\n            name: 'Glyph of Penance',\n            description: 'Reduces the cooldown of Penance by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_penance.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfPowerWordShield]: {\n            name: 'Glyph of Power Word: Shield',\n            description: 'Your Power Word: Shield also heals the target for 20% of the absorption amount.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_powerwordshield.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfPrayerOfHealing]: {\n            name: 'Glyph of Prayer of Healing',\n            description: 'Your Prayer of Healing spell also heals an additional 20% of its initial heal over 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_prayerofhealing02.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfPsychicScream]: {\n            name: 'Glyph of Psychic Scream',\n            description: 'Increases the duration of your Psychic Scream by 2 sec. and increases its cooldown by 8 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_psychicscream.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfRenew]: {\n            name: 'Glyph of Renew',\n            description: 'Reduces the duration of your Renew by 3 sec. but increases the amount healed each tick by 25%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_renew.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfScourgeImprisonment]: {\n            name: 'Glyph of Scourge Imprisonment',\n            description: 'Reduces the cast time of your Shackle Undead by 1.0 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_slow.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfShadow]: {\n            name: 'Glyph of Shadow',\n            description: 'While in Shadowform, your non-periodic spell critical strikes increase your spell power by 30% of your Spirit for 10 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_mindsooth.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfShadowWordDeath]: {\n            name: 'Glyph of Shadow Word: Death',\n            description: 'Targets below 35% health take an additional 10% damage from your Shadow Word: Death spell.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonicfortitude.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfShadowWordPain]: {\n            name: 'Glyph of Shadow Word: Pain',\n            description: 'The periodic damage ticks of your Shadow Word: Pain spell restore 1% of your base mana.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowwordpain.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfSmite]: {\n            name: 'Glyph of Smite',\n            description: 'Your Smite spell inflicts an additional 20% damage against targets afflicted by Holy Fire.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_holysmite.jpg',\n        },\n        [PriestMajorGlyph.GlyphOfSpiritOfRedemption]: {\n            name: 'Glyph of Spirit of Redemption',\n            description: 'Increases the duration of Spirit of Redemption by 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_enchant_essenceeternallarge.jpg',\n        },\n    },\n    minorGlyphs: {\n        [PriestMinorGlyph.GlyphOfFading]: {\n            name: 'Glyph of Fading',\n            description: 'Reduces the mana cost of your Fade spell by 30%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_magic_lesserinvisibilty.jpg',\n        },\n        [PriestMinorGlyph.GlyphOfFortitude]: {\n            name: 'Glyph of Fortitude',\n            description: 'Reduces the mana cost of your Power Word: Fortitude and Prayer of Fortitude spells by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_wordfortitude.jpg',\n        },\n        [PriestMinorGlyph.GlyphOfLevitate]: {\n            name: 'Glyph of Levitate',\n            description: 'Your Levitate spell no longer requires a reagent.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_layonhands.jpg',\n        },\n        [PriestMinorGlyph.GlyphOfShackleUndead]: {\n            name: 'Glyph of Shackle Undead',\n            description: 'Increases the range of your Shackle Undead spell by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_slow.jpg',\n        },\n        [PriestMinorGlyph.GlyphOfShadowProtection]: {\n            name: 'Glyph of Shadow Protection',\n            description: 'Increases the duration of your Shadow Protection and Prayer of Shadow Protection spells by 10 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_antishadow.jpg',\n        },\n        [PriestMinorGlyph.GlyphOfShadowfiend]: {\n            name: 'Glyph of Shadowfiend',\n            description: 'Receive 5% of your maximum mana if your Shadowfiend dies from damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowfiend.jpg',\n        },\n    },\n};\n","import { RogueTalents, RogueMajorGlyph, RogueMinorGlyph } from '../proto/rogue.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const rogueTalentsConfig: TalentsConfig<RogueTalents> = newTalentsConfig([\n\t{\n\t\tname: 'Assassination',\n\t\tbackgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/182.jpg',\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: 'improvedEviscerate',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [14162],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'remorselessAttacks',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14144, 14148],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'malice',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14138],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'ruthlessness',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [14156, 14160],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'bloodSpatter',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51632, 51633],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'puncturingWounds',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [13733, 13865],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'vigor',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [14983],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedExposeArmor',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14168],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'lethality',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14128, 14132, 14135],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'vilePoisons',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16513, 16514, 16515],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedPoisons',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14113, 14114, 14115, 14116, 14117],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'fleetFooted',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [31208],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'coldBlood',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14177],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedKidneyShot',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14174],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'quickRecovery',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [31244],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'sealFate',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14186, 14190, 14193],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'murder',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14158, 14159],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'deadlyBrew',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51625, 51626],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'overkill',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [58426],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'deadenedNerves',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [31380, 31382, 31383],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'focusedAttacks',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51634, 51635, 51636],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'findWeakness',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [31234, 31235, 31236],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'masterPoisoner',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [31226, 31227, 58410],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'mutilate',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [1329],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'turnTheTables',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51627, 51628, 51629],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'cutToTheChase',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51664, 51665, 51666, 51667, 51668],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'hungerForBlood',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51662],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'Combat',\n\t\tbackgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/181.jpg',\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: 'improvedGouge',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [13741, 13793, 13792],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedSinisterStrike',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [13732, 13863],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'dualWieldSpecialization',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [13715, 13848, 13849, 13851, 13852],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedSliceAndDice',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [14165, 14166],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'deflection',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [13713, 13853, 13854],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'precision',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [13705, 13832, 13843, 13844, 13845],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'endurance',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [13742, 13872],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'riposte',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14251],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'closeQuartersCombat',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [13706, 13804, 13805, 13806, 13807],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedKick',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [13754, 13867],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedSprint',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [13743, 13875],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'lightningReflexes',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [13712, 13788, 13789],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'aggression',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [18427, 18428, 18429, 61330, 61331],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'maceSpecialization',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [13709, 13800, 13801, 13802, 13803],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'bladeFlurry',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [13877],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'hackAndSlash',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [13960, 13961, 13962, 13963, 13964],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'weaponExpertise',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [30919],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'bladeTwisting',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [31124, 31126],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'vitality',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [31122, 31123, 61329],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'adrenalineRush',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [13750],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'nervesOfSteel',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [31130],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'throwingSpecialization',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [5952, 51679],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'combatPotency',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [35541, 35550, 35551, 35552, 35553],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'unfairAdvantage',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51672, 51674],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'surpriseAttacks',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [32601],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'savageCombat',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51682, 58413],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'preyOnTheWeak',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51685, 51686, 51687, 51688, 51689],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'killingSpree',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51690],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'Subtlety',\n\t\tbackgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/183.jpg',\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: 'relentlessStrikes',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [14179, 58422, 58423, 58424, 58425],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'masterOfDeception',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [13958, 13970, 13971],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'opportunity',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14057, 14072],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'sleightOfHand',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [30892, 30893],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'dirtyTricks',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14076, 14094],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'camouflage',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [13975, 14062, 14603],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elusiveness',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [13981, 14066],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'ghostlyStrike',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14278],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'serratedBlades',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14171, 14172, 14173],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'setup',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [13983, 14070, 14071],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'initiative',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [13976, 13979, 13980],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedAmbush',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14079, 14080],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'heightenedSenses',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [30894, 30895],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'preparation',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14185],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'dirtyDeeds',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [14082, 14083],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'hemorrhage',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16511],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'masterOfSubtlety',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [31221, 31222, 31223],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'deadliness',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [30902, 30903, 30904, 30905, 30906],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'envelopingShadows',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [31211, 31212, 31213],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'premeditation',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [14183],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'cheatDeath',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [31228, 31229, 31230],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'sinisterCalling',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [31216, 31217, 31218, 31219, 31220],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'waylay',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51692, 51696],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'honorAmongThieves',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51698, 51670, 51671],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'shadowstep',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [36554],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'filthyTricks',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [36554],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'slaughterFromTheShadows',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51708, 51709, 51710, 51711, 51712],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'shadowDance',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51713],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t],\n\t},\n]);\n\nexport const rogueGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [RogueMajorGlyph.GlyphOfAdrenalineRush]: {\n            name: 'Glyph of Adrenaline Rush',\n            description: 'Increases the duration of Adrenaline Rush by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowworddominate.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfAmbush]: {\n            name: 'Glyph of Ambush',\n            description: 'Increases the range on Ambush by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_ambush.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfBackstab]: {\n            name: 'Glyph of Backstab',\n            description: 'Your Backstab increases the duration of your Rupture effect on the target by 2 sec, up to a maximum of 6 additional sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_backstab.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfBladeFlurry]: {\n            name: 'Glyph of Blade Flurry',\n            description: 'Reduces the energy cost of Blade Flurry by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_punishingblow.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfCloakOfShadows]: {\n            name: 'Glyph of Cloak of Shadows',\n            description: 'While Cloak of Shadows is active, you take 40% less physical damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_nethercloak.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfCripplingPoison]: {\n            name: 'Glyph of Crippling Poison',\n            description: 'Increases the chance to inflict your target with Crippling Poison by an additional 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_poisonsting.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfDeadlyThrow]: {\n            name: 'Glyph of Deadly Throw',\n            description: 'Increases the slowing effect on Deadly Throw by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_throwingknife_06.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfEvasion]: {\n            name: 'Glyph of Evasion',\n            description: 'Increases the duration of Evasion by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowward.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfEviscerate]: {\n            name: 'Glyph of Eviscerate',\n            description: 'Increases the critical strike chance of Eviscerate by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_eviscerate.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfExposeArmor]: {\n            name: 'Glyph of Expose Armor',\n            description: 'Increases the duration of Expose Armor by 12 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_riposte.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfFanOfKnives]: {\n            name: 'Glyph of Fan of Knives',\n            description: 'Increases the damage done by Fan of Knives by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_fanofknives.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfFeint]: {\n            name: 'Glyph of Feint',\n            description: 'Reduces the energy cost of Feint by 20.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_feint.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfGarrote]: {\n            name: 'Glyph of Garrote',\n            description: 'Reduces the duration of your Garrote ability by 3 sec and increases the total damage it deals by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_garrote.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfGhostlyStrike]: {\n            name: 'Glyph of Ghostly Strike',\n            description: 'Increases the damage dealt by Ghostly Strike by 40% and the duration of its effect by 4 sec, but increases its cooldown by 10 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_curse.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfGouge]: {\n            name: 'Glyph of Gouge',\n            description: 'Reduces the energy cost of Gouge by 15.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_gouge.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfHemorrhage]: {\n            name: 'Glyph of Hemorrhage',\n            description: 'Increases the damage bonus against targets afflicted by Hemorrhage by 40%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_lifedrain.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfHungerForBlood]: {\n            name: 'Glyph of Hunger For Blood',\n            description: 'Increases the bonus damage from Hunger For Blood by 3%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_hungerforblood.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfKillingSpree]: {\n            name: 'Glyph of Killing Spree',\n            description: 'Reduces the cooldown on Killing Spree by 45 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_murderspree.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfMutilate]: {\n            name: 'Glyph of Mutilate',\n            description: 'Reduces the cost of Mutilate by 5 energy.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_shadowstrikes.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfPreparation]: {\n            name: 'Glyph of Preparation',\n            description: 'Your Preparation ability also instantly resets the cooldown of Blade Flurry, Dismantle, and Kick.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_antishadow.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfRupture]: {\n            name: 'Glyph of Rupture',\n            description: 'Increases the duration of Rupture by 4 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_rupture.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfSap]: {\n            name: 'Glyph of Sap',\n            description: 'Increases the duration of Sap by 20 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_sap.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfShadowDance]: {\n            name: 'Glyph of Shadow Dance',\n            description: 'Increases the duration of Shadow Dance by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_shadowdance.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfSinisterStrike]: {\n            name: 'Glyph of Sinister Strike',\n            description: 'Your Sinister Strike critical strikes have a 50% chance to add an additional combo point.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_ritualofsacrifice.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfSliceAndDice]: {\n            name: 'Glyph of Slice and Dice',\n            description: 'Increases the duration of Slice and Dice by 3 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_slicedice.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfSprint]: {\n            name: 'Glyph of Sprint',\n            description: 'Increases the movement speed of your Sprint ability by an additional 30%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_sprint.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfTricksOfTheTrade]: {\n            name: 'Glyph of Tricks of the Trade',\n            description: 'The bonus damage and threat redirection granted by your Tricks of the Trade ability lasts an additional 4 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_tricksofthetrade.jpg',\n        },\n        [RogueMajorGlyph.GlyphOfVigor]: {\n            name: 'Glyph of Vigor',\n            description: 'Vigor grants an additional 10 maximum energy.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_earthbindtotem.jpg',\n        },\n    },\n    minorGlyphs: {\n        [RogueMinorGlyph.GlyphOfBlurredSpeed]: {\n            name: 'Glyph of Blurred Speed',\n            description: 'Enables you to walk on water while your Sprint ability is active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_sprint.jpg',\n        },\n        [RogueMinorGlyph.GlyphOfDistract]: {\n            name: 'Glyph of Distract',\n            description: 'Increases the range of your Distract ability by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_distract.jpg',\n        },\n        [RogueMinorGlyph.GlyphOfPickLock]: {\n            name: 'Glyph of Pick Lock',\n            description: 'Reduces the cast time of your Pick Lock ability by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_moonkey.jpg',\n        },\n        [RogueMinorGlyph.GlyphOfPickPocket]: {\n            name: 'Glyph of Pick Pocket',\n            description: 'Increases the range of your Pick Pocket ability by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_11.jpg',\n        },\n        [RogueMinorGlyph.GlyphOfSafeFall]: {\n            name: 'Glyph of Safe Fall',\n            description: 'Increases the distance your Safe Fall ability allows you to fall without taking damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_feather_01.jpg',\n        },\n        [RogueMinorGlyph.GlyphOfVanish]: {\n            name: 'Glyph of Vanish',\n            description: 'Increases your movement speed by 30% while the Vanish effect is active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_vanish.jpg',\n        },\n    },\n};\n","import { ShamanTalents, ShamanMajorGlyph, ShamanMinorGlyph } from '../proto/shaman.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const shamanTalentsConfig: TalentsConfig<ShamanTalents> = newTalentsConfig([\n\t{\n\t\tname: 'Elemental',\n\t\tbackgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/classic/261.jpg',\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: 'convection',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16039, 16109],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'concussion',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16035, 16105],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'callOfFlame',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16038, 16160, 16161],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'elementalWarding',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [28996, 28997, 28998],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elementalDevastation',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [30160, 29179, 29180],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'reverberation',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16040, 16113, 16114, 16115, 16116],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elementalFocus',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16164],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elementalFury',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16089, 60184, 60185, 60187, 60188],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedFireNova',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16086, 16544],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'eyeOfTheStorm',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [29062, 29064],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'elementalReach',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [28999],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'callOfThunder',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16041],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'unrelentingStorm',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [30664, 30665, 30666],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elementalPrecision',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [30672, 30673, 30674],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'lightningMastery',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16578],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elementalMastery',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16166],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'stormEarthAndFire',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51483, 51485, 51486],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'boomingEchoes',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [63370, 63372],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elementalOath',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51466, 51470],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'lightningOverload',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [30675, 30678, 30679],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t// fieldName: 'astralShift',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51474, 51478, 51479],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'totemOfWrath',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [30706],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'lavaFlows',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51480, 51481, 51482],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'shamanism',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [62097],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'thunderstorm',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51490],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'Enhancement',\n\t\tbackgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/classic/263.jpg',\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: 'enhancingTotems',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16259, 16295, 52456],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t// fieldName: 'earthsGrasp',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16043, 16130],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'ancestralKnowledge',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [17485],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'guardianTotems',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16258, 16293],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'thunderingStrikes',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16255, 16302],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'improvedGhostWolf',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16262, 16287],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedShields',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [16261, 16290, 51881],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'elementalWeapons',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16266, 29079, 29080],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'shamanisticFocus',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [43338],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'anticipation',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [16254, 16271],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'flurry',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16256, 16281],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'toughness',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16252, 16306],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedWindfuryTotem',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [29192, 29193],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'spiritWeapons',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16268],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'mentalDexterity',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51883],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'unleashedRage',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [30802, 30808, 30809],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'weaponMastery',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [29082, 29084, 29086],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'frozenPower',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [63373, 63374],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'dualWieldSpecialization',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [30816, 30818],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'dualWield',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [30798],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'stormstrike',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [17364],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'staticShock',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51525],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'lavaLash',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [60103],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedStormstrike',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51521, 51522],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'mentalQuickness',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [30812],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'shamanisticRage',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [30823],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'earthenPower',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51523, 51524],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'maelstromWeapon',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51528],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'feralSpirit',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51533],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'Restoration',\n\t\tbackgroundUrl: 'https://wow.zamimg.com/images/wow/talents/backgrounds/classic/262.jpg',\n\t\ttalents: [\n\t\t\t{\n\t\t\t\t//fieldName: 'improvedHealingWave',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16182, 16226],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'totemicFocus',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16173, 16222],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'improvedReincarnation',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16184, 16209],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'healingGrace',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [29187, 29189, 29191],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'tidalFocus',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16179, 16214],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'improvedWaterShield',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [16180, 16196, 16198],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'healingFocus',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16181, 16230, 16232],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'tidalForce',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [55198],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'ancestralUealing',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [16176, 16235],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'restorativeTotems',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16187, 16205],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'tidalMastery',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16194, 16218],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'healingWay',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [29206, 29205, 29202],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'naturesSwiftness',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16188],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'focusedMind',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 3,\n\t\t\t\t},\n\t\t\t\tspellIds: [30864],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'purification',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [16178, 16210],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'naturesGuardian',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [30881, 30883],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'manaTideTotem',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [16190],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'cleanseSpirit',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [51886],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'blessingOfTheEternals',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51554, 51555],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'improvedChainHeal',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [30872],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'naturesBlessing',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tspellIds: [30867],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: 'ancestralAwakening',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0,\n\t\t\t\t},\n\t\t\t\tspellIds: [51556],\n\t\t\t\tmaxPoints: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'earthShield',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [974],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'improvedEarthShield',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2,\n\t\t\t\t},\n\t\t\t\tprereqLocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51560],\n\t\t\t\tmaxPoints: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'tidalWaves',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [51562],\n\t\t\t\tmaxPoints: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\t//fieldName: 'riptide',\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1,\n\t\t\t\t},\n\t\t\t\tspellIds: [61295],\n\t\t\t\tmaxPoints: 1,\n\t\t\t},\n\t\t],\n\t},\n]);\n\nexport const shamanGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [ShamanMajorGlyph.GlyphOfChainHeal]: {\n            name: 'Glyph of Chain Heal',\n            description: 'Your Chain Heal heals 1 additional target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingwavegreater.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfChainLightning]: {\n            name: 'Glyph of Chain Lightning',\n            description: 'Your Chain Lightning strikes 1 additional target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_chainlightning.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfEarthShield]: {\n            name: 'Glyph of Earth Shield',\n            description: 'Increases the amount healed by your Earth Shield by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_skinofearth.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfEarthlivingWeapon]: {\n            name: 'Glyph of Earthliving Weapon',\n            description: 'Increases the chance for your Earthliving weapon to trigger by 5%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shaman_earthlivingweapon.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfElementalMastery]: {\n            name: 'Glyph of Elemental Mastery',\n            description: 'Reduces the cooldown of your Elemental Mastery ability by 30 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_wispheal.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfFeralSpirit]: {\n            name: 'Glyph of Feral Spirit',\n            description: 'Your spirit wolves gain an additional 30% of your attack power.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shaman_feralspirit.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfFireElementalTotem]: {\n            name: 'Glyph of Fire Elemental Totem',\n            description: 'Reduces the cooldown of your Fire Elemental Totem by 5 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_elemental_totem.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfFireNova]: {\n            name: 'Glyph of Fire Nova',\n            description: 'Reduces the cooldown of your Fire Nova spell by 3 seconds.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_sealoffire.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfFlameShock]: {\n            name: 'Glyph of Flame Shock',\n            description: 'Increases the critical strike damage bonus of your Flame Shock damage by 60%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_flameshock.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfFlametongueWeapon]: {\n            name: 'Glyph of Flametongue Weapon',\n            description: 'Increases your spell critical strike chance by 2% on each of your weapons with Flametongue Weapon active.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_flametounge.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfFrostShock]: {\n            name: 'Glyph of Frost Shock',\n            description: 'Increases the duration of your Frost Shock by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostshock.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfHealingStreamTotem]: {\n            name: 'Glyph of Healing Stream Totem',\n            description: 'Your Healing Stream Totem heals for an additional 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_spear_04.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfHealingWave]: {\n            name: 'Glyph of Healing Wave',\n            description: 'Your Healing Wave also heals you for 20% of the healing effect when you heal someone else.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_magicimmunity.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfHex]: {\n            name: 'Glyph of Hex',\n            description: 'Increases the damage your Hex target can take before the Hex effect is removed by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shaman_hex.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfLava]: {\n            name: 'Glyph of Lava',\n            description: 'Your Lava Burst spell gains an additional 10% of your spellpower.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shaman_lavaburst.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfLavaLash]: {\n            name: 'Glyph of Lava Lash',\n            description: 'Damage on your Lava Lash is increased by an additional 10% if your weapon is enchanted with Flametongue.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_shaman_lavalash.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfLesserHealingWave]: {\n            name: 'Glyph of Lesser Healing Wave',\n            description: 'Your Lesser Healing Wave heals for 20% more if the target is also affected by Earth Shield.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingwavelesser.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfLightningBolt]: {\n            name: 'Glyph of Lightning Bolt',\n            description: 'Increases the damage dealt by Lightning Bolt by 4%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightning.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfLightningShield]: {\n            name: 'Glyph of Lightning Shield',\n            description: 'Increases the damage from Lightning Shield by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightningshield.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfManaTide]: {\n            name: 'Glyph of Mana Tide',\n            description: 'Your Mana Tide Totem grants an additional 1% of each target\\'s maximum mana each time it pulses.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingwavegreater.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfRiptide]: {\n            name: 'Glyph of Riptide',\n            description: 'Increases the duration of Riptide by 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_riptide.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfShocking]: {\n            name: 'Glyph of Shocking',\n            description: 'Reduces your global cooldown when casting your shock spells by 0.5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_earthshock.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfStoneclawTotem]: {\n            name: 'Glyph of Stoneclaw Totem',\n            description: 'Your Stoneclaw Totem also places a damage absorb shield on you, equal to 4 times the strength of the shield it places on your totems.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_stoneclawtotem.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfStormstrike]: {\n            name: 'Glyph of Stormstrike',\n            description: 'Increases the Nature damage bonus from your Stormstrike ability by an additional 8%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_shaman_stormstrike.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfThunder]: {\n            name: 'Glyph of Thunder',\n            description: 'Reduces the cooldown on Thunderstorm by 10 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shaman_thunderstorm.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfTotemOfWrath]: {\n            name: 'Glyph of Totem of Wrath',\n            description: 'When you cast Totem of Wrath, you gain 30% of the totem\\'s bonus spell power for 5 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_totemofwrath.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfWaterMastery]: {\n            name: 'Glyph of Water Mastery',\n            description: 'Increases the passive mana regeneration of your Water Shield spell by 30%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_shaman_watershield.jpg',\n        },\n        [ShamanMajorGlyph.GlyphOfWindfuryWeapon]: {\n            name: 'Glyph of Windfury Weapon',\n            description: 'Increases the chance per swing for Windfury Weapon to trigger by 2%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_cyclone.jpg',\n        },\n    },\n    minorGlyphs: {\n        [ShamanMinorGlyph.GlyphOfAstralRecall]: {\n            name: 'Glyph of Astral Recall',\n            description: 'Cooldown of your Astral Recall spell reduced by 7.5 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_astralrecal.jpg',\n        },\n        [ShamanMinorGlyph.GlyphOfGhostWolf]: {\n            name: 'Glyph of Ghost Wolf',\n            description: 'Your Ghost Wolf form regenerates an additional 1% of your maximum health every 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_spiritwolf.jpg',\n        },\n        [ShamanMinorGlyph.GlyphOfRenewedLife]: {\n            name: 'Glyph of Renewed Life',\n            description: 'Your Reincarnation spell no longer requires a reagent.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg',\n        },\n        [ShamanMinorGlyph.GlyphOfThunderstorm]: {\n            name: 'Glyph of Thunderstorm',\n            description: 'Increases the mana you receive from your Thunderstorm spell by 2%, but it no longer knocks enemies back.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shaman_thunderstorm.jpg',\n        },\n        [ShamanMinorGlyph.GlyphOfWaterBreathing]: {\n            name: 'Glyph of Water Breathing',\n            description: 'Your Water Breathing spell no longer requires a reagent.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonbreath.jpg',\n        },\n        [ShamanMinorGlyph.GlyphOfWaterShield]: {\n            name: 'Glyph of Water Shield',\n            description: 'Increases the number of charges on your Water Shield spell by 1.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_shaman_watershield.jpg',\n        },\n        [ShamanMinorGlyph.GlyphOfWaterWalking]: {\n            name: 'Glyph of Water Walking',\n            description: 'Your Water Walking spell no longer requires a reagent.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_windwalkon.jpg',\n        },\n    },\n};\n","import { WarlockTalents, WarlockMajorGlyph, WarlockMinorGlyph } from '../proto/warlock.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const warlockTalentsConfig: TalentsConfig<WarlockTalents> = newTalentsConfig([\n\t{\n\t\tname: \"Affliction\",\n\t\tbackgroundUrl: \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/302.jpg\",\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: \"improvedCurseOfAgony\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18827,\n\t\t\t\t\t18829\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"suppression\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18174,\n\t\t\t\t\t18175,\n\t\t\t\t\t18176\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedCorruption\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17810,\n\t\t\t\t\t17811,\n\t\t\t\t\t17812,\n\t\t\t\t\t17813,\n\t\t\t\t\t17814\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedCurseOfWeakness\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18179,\n\t\t\t\t\t18180\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedDrainSoul\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18213,\n\t\t\t\t\t18372\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedLifeTap\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18182,\n\t\t\t\t\t18183\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"soulSiphon\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 3\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17804,\n\t\t\t\t\t17805\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedFear\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t53754,\n\t\t\t\t\t53759\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"felConcentration\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17783,\n\t\t\t\t\t17784,\n\t\t\t\t\t17785\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"amplifyCurse\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18288\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"grimReach\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18218,\n\t\t\t\t\t18219\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"nightfall\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18094,\n\t\t\t\t\t18095\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"empoweredCorruption\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 3\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t32381,\n\t\t\t\t\t32382,\n\t\t\t\t\t32383\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"shadowEmbrace\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t32385,\n\t\t\t\t\t32387,\n\t\t\t\t\t32392,\n\t\t\t\t\t32393,\n\t\t\t\t\t32394\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"siphonLife\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t63108\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"curseOfExhaustion\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18223\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedFelhunter\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t54037,\n\t\t\t\t\t54038\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"shadowMastery\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18271,\n\t\t\t\t\t18272,\n\t\t\t\t\t18273,\n\t\t\t\t\t18274,\n\t\t\t\t\t18275\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"eradication\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47195,\n\t\t\t\t\t47196,\n\t\t\t\t\t47197\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"contagion\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30060,\n\t\t\t\t\t30061,\n\t\t\t\t\t30062,\n\t\t\t\t\t30063,\n\t\t\t\t\t30064\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"darkPact\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18220\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedHowlOfTerror\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30054,\n\t\t\t\t\t30057\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"malediction\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t32477,\n\t\t\t\t\t32483,\n\t\t\t\t\t32484\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"deathsEmbrace\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47198,\n\t\t\t\t\t47199,\n\t\t\t\t\t47200\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"unstableAffliction\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30108\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"pandemic\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t58435\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"everlastingAffliction\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47201,\n\t\t\t\t\t47202,\n\t\t\t\t\t47203,\n\t\t\t\t\t47204,\n\t\t\t\t\t47205\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"haunt\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t48181\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Demonology\",\n\t\tbackgroundUrl: \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/303.jpg\",\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: \"improvedHealthstone\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18692,\n\t\t\t\t\t18693\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedImp\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18694,\n\t\t\t\t\t18695,\n\t\t\t\t\t18696\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicEmbrace\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18697,\n\t\t\t\t\t18698,\n\t\t\t\t\t18699\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"felSynergy\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 3\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47230,\n\t\t\t\t\t47231\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedHealthFunnel\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18703,\n\t\t\t\t\t18704\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicBrutality\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18705,\n\t\t\t\t\t18706,\n\t\t\t\t\t18707\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"felVitality\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18731,\n\t\t\t\t\t18743,\n\t\t\t\t\t18744\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedSayaad\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18754,\n\t\t\t\t\t18755,\n\t\t\t\t\t18756\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"soulLink\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t19028\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"felDomination\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18708\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicAegis\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 3\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30143,\n\t\t\t\t\t30144,\n\t\t\t\t\t30145\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"unholyPower\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18769,\n\t\t\t\t\t18770,\n\t\t\t\t\t18771,\n\t\t\t\t\t18772,\n\t\t\t\t\t18773\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"masterSummoner\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18709,\n\t\t\t\t\t18710\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"manaFeed\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30326\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"masterConjuror\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18767,\n\t\t\t\t\t18768\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"masterDemonologist\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t23785,\n\t\t\t\t\t23822,\n\t\t\t\t\t23823,\n\t\t\t\t\t23824,\n\t\t\t\t\t23825\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"moltenCore\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47245,\n\t\t\t\t\t47246,\n\t\t\t\t\t47247\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicResilience\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30319,\n\t\t\t\t\t30320,\n\t\t\t\t\t30321\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicEmpowerment\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47193\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicKnowledge\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t35691,\n\t\t\t\t\t35692,\n\t\t\t\t\t35693\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicTactics\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30242,\n\t\t\t\t\t30245,\n\t\t\t\t\t30246,\n\t\t\t\t\t30247,\n\t\t\t\t\t30248\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"decimation\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t63156,\n\t\t\t\t\t63158\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedDemonicTactics\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t54347,\n\t\t\t\t\t54348,\n\t\t\t\t\t54349\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"summonFelguard\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30146\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"nemesis\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t63117,\n\t\t\t\t\t63121,\n\t\t\t\t\t63123\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicPact\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47236,\n\t\t\t\t\t47237,\n\t\t\t\t\t47238,\n\t\t\t\t\t47239,\n\t\t\t\t\t47240\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"metamorphosis\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t59672\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Destruction\",\n\t\tbackgroundUrl: \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/301.jpg\",\n\t\ttalents: [\n\t\t\t{\n\t\t\t\tfieldName: \"improvedShadowBolt\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17793,\n\t\t\t\t\t17796,\n\t\t\t\t\t17801,\n\t\t\t\t\t17802,\n\t\t\t\t\t17803\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"bane\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 0,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17788,\n\t\t\t\t\t17789,\n\t\t\t\t\t17790,\n\t\t\t\t\t17791,\n\t\t\t\t\t17792\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"aftermath\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18119,\n\t\t\t\t\t18120\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"moltenSkin\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t63349,\n\t\t\t\t\t63350,\n\t\t\t\t\t63351\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"cataclysm\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 1,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17778,\n\t\t\t\t\t17779,\n\t\t\t\t\t17780\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"demonicPower\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18126,\n\t\t\t\t\t18127\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"shadowburn\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17877\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"ruin\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17959,\n\t\t\t\t\t59738,\n\t\t\t\t\t59739,\n\t\t\t\t\t59740,\n\t\t\t\t\t59741\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"intensity\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18135,\n\t\t\t\t\t18136\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"destructiveReach\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17917,\n\t\t\t\t\t17918\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedSearingPain\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 3\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17927,\n\t\t\t\t\t17929,\n\t\t\t\t\t17930\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"backlash\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t34935,\n\t\t\t\t\t34938,\n\t\t\t\t\t34939\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 3,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedImmolate\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17815,\n\t\t\t\t\t17833,\n\t\t\t\t\t17834\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"devastation\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18130\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 2,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"netherProtection\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30299,\n\t\t\t\t\t30301,\n\t\t\t\t\t30302\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"emberstorm\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 5,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17954,\n\t\t\t\t\t17955,\n\t\t\t\t\t17956,\n\t\t\t\t\t17957,\n\t\t\t\t\t17958\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"conflagrate\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t17962\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 4,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"soulLeech\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30293,\n\t\t\t\t\t30295,\n\t\t\t\t\t30296\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"pyroclasm\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 3\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t18096,\n\t\t\t\t\t18073,\n\t\t\t\t\t63245\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"shadowAndFlame\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30288,\n\t\t\t\t\t30289,\n\t\t\t\t\t30290,\n\t\t\t\t\t30291,\n\t\t\t\t\t30292\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"improvedSoulLeech\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 7,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t54117,\n\t\t\t\t\t54118\n\t\t\t\t],\n\t\t\t\tmaxPoints: 2,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"backdraft\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 0\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47258,\n\t\t\t\t\t47259,\n\t\t\t\t\t47260\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3,\n\t\t\t\t\"prereqLocation\": {\n\t\t\t\t\trowIdx: 6,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"shadowfury\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t30283\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"empoweredImp\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 8,\n\t\t\t\t\tcolIdx: 2\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47220,\n\t\t\t\t\t47221,\n\t\t\t\t\t47223\n\t\t\t\t],\n\t\t\t\tmaxPoints: 3\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"fireAndBrimstone\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 9,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t47266,\n\t\t\t\t\t47267,\n\t\t\t\t\t47268,\n\t\t\t\t\t47269,\n\t\t\t\t\t47270\n\t\t\t\t],\n\t\t\t\tmaxPoints: 5\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldName: \"chaosBolt\",\n\t\t\t\tlocation: {\n\t\t\t\t\trowIdx: 10,\n\t\t\t\t\tcolIdx: 1\n\t\t\t\t},\n\t\t\t\tspellIds: [\n\t\t\t\t\t50796\n\t\t\t\t],\n\t\t\t\tmaxPoints: 1\n\t\t\t}\n\t\t]\n\t}\n]);\n\nexport const warlockGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [WarlockMajorGlyph.GlyphOfChaosBolt]: {\n            name: 'Glyph of Chaos Bolt',\n            description: 'Reduces the cooldown on Chaos Bolt by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warlock_chaosbolt.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfConflagrate]: {\n            name: 'Glyph of Conflagrate',\n            description: 'Your Conflagrate spell no longer consumes your Immolate or Shadowflame spell from the target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_fireball.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfCorruption]: {\n            name: 'Glyph of Corruption',\n            description: 'Your Corruption spell has a 4% chance to cause you to enter a Shadow Trance state after damaging the opponent. The Shadow Trance state reduces the casting time of your next Shadow Bolt spell by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_abominationexplosion.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfCurseOfAgony]: {\n            name: 'Glyph of Curse of Agony',\n            description: 'Increases the duration of your Curse of Agony by 4 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_curseofsargeras.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfDeathCoil]: {\n            name: 'Glyph of Death Coil',\n            description: 'Increases the duration of your Death Coil by 0.5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathcoil.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfDemonicCircle]: {\n            name: 'Glyph of Demonic Circle',\n            description: 'Reduces the cooldown on Demonic Circle by 4 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demoniccirclesummon.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfFear]: {\n            name: 'Glyph of Fear',\n            description: 'Increases the damage your Fear target can take before the Fear effect is removed by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_possession.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfFelguard]: {\n            name: 'Glyph of Felguard',\n            description: 'Increases the Felguard\\'s total attack power by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonfelguard.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfFelhunter]: {\n            name: 'Glyph of Felhunter',\n            description: 'When your Felhunter uses Devour Magic, you will also be healed for that amount.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonfelhunter.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfHaunt]: {\n            name: 'Glyph of Haunt',\n            description: 'The bonus damage granted by your Haunt spell is increased by an additional 3%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warlock_haunt.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfHealthFunnel]: {\n            name: 'Glyph of Health Funnel',\n            description: 'Reduces the pushback suffered from damaging attacks while channeling your Health Funnel spell by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_lifedrain.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfHealthstone]: {\n            name: 'Glyph of Healthstone',\n            description: 'You receive 30% more healing from using a healthstone.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_stone_04.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfHowlOfTerror]: {\n            name: 'Glyph of Howl of Terror',\n            description: 'Reduces the cooldown on your Howl of Terror spell by 8 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathscream.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfImmolate]: {\n            name: 'Glyph of Immolate',\n            description: 'Increases the periodic damage of your Immolate by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_immolation.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfImp]: {\n            name: 'Glyph of Imp',\n            description: 'Increases the damage done by your Imp\\'s Firebolt spell by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonimp.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfIncinerate]: {\n            name: 'Glyph of Incinerate',\n            description: 'Increases the damage done by Incinerate by 5%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_burnout.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfLifeTap]: {\n            name: 'Glyph of Life Tap',\n            description: 'When you use Life Tap or Dark Pact, you gain 20% of your Spirit as spell power for 40 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_burningspirit.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfMetamorphosis]: {\n            name: 'Glyph of Metamorphosis',\n            description: 'Increases the duration of your Metamorphosis by 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonform.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfQuickDecay]: {\n            name: 'Glyph of Quick Decay',\n            description: 'Your haste now reduces the time between periodic damage ticks of your Corruption spell.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_abominationexplosion.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfSearingPain]: {\n            name: 'Glyph of Searing Pain',\n            description: 'Increases the critical strike bonus of your Searing Pain by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_fire_soulburn.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfShadowBolt]: {\n            name: 'Glyph of Shadow Bolt',\n            description: 'Reduces the mana cost of your Shadow Bolt by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowbolt.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfShadowburn]: {\n            name: 'Glyph of Shadowburn',\n            description: 'Increases the critical strike chance of Shadowburn by 20% when the target is below 35% health.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_scourgebuild.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfShadowflame]: {\n            name: 'Glyph of Shadowflame',\n            description: 'Your Shadowflame also applies a 70% movement speed slow on its victims.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warlock_shadowflame.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfSiphonLife]: {\n            name: 'Glyph of Siphon Life',\n            description: 'Increases the healing you receive from your Siphon Life talent by 25%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_requiem.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfSoulLink]: {\n            name: 'Glyph of Soul Link',\n            description: 'Increases the percentage of damage shared via your Soul Link by an additional 5%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_gathershadows.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfSoulstone]: {\n            name: 'Glyph of Soulstone',\n            description: 'Increases the amount of health you gain from resurrecting via a Soulstone by 300%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_soulgem.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfSuccubus]: {\n            name: 'Glyph of Succubus',\n            description: 'Your Succubus\\'s Seduction ability also removes all damage over time effects from the target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonsuccubus.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfUnstableAffliction]: {\n            name: 'Glyph of Unstable Affliction',\n            description: 'Decreases the casting time of your Unstable Affliction by 0.2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_unstableaffliction_3.jpg',\n        },\n        [WarlockMajorGlyph.GlyphOfVoidwalker]: {\n            name: 'Glyph of Voidwalker',\n            description: 'Increases your Voidwalker\\'s total Stamina by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonvoidwalker.jpg',\n        },\n    },\n    minorGlyphs: {\n        [WarlockMinorGlyph.GlyphOfCurseOfExhausion]: {\n            name: 'Glyph of Curse of Exhausion',\n            description: 'Increases the range of your Curse of Exhaustion spell by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_grimward.jpg',\n        },\n        [WarlockMinorGlyph.GlyphOfDrainSoul]: {\n            name: 'Glyph of Drain Soul',\n            description: 'Your Drain Soul ability occasionally creates an additional soul shard.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_haunting.jpg',\n        },\n        [WarlockMinorGlyph.GlyphOfEnslaveDemon]: {\n            name: 'Glyph of Enslave Demon',\n            description: 'Reduces the cast time of your Enslave Demon spell by 50%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_enslavedemon.jpg',\n        },\n        [WarlockMinorGlyph.GlyphOfKilrogg]: {\n            name: 'Glyph of Kilrogg',\n            description: 'Increases the movement speed of your Eye of Kilrogg by 50% and allows it to fly in areas where flying mounts are enabled.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_evileye.jpg',\n        },\n        [WarlockMinorGlyph.GlyphOfSouls]: {\n            name: 'Glyph of Souls',\n            description: 'Reduces the mana cost of your Ritual of Souls spell by 70%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadesofdarkness.jpg',\n        },\n        [WarlockMinorGlyph.GlyphOfUnendingBreath]: {\n            name: 'Glyph of Unending Breath',\n            description: 'Increases the swim speed of targets affected by your Unending Breath spell by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonbreath.jpg',\n        },\n    },\n};\n","import { WarriorTalents, WarriorMajorGlyph, WarriorMinorGlyph } from '../proto/warrior.js';\n\nimport { GlyphsConfig } from './glyphs_picker.js';\nimport { TalentsConfig, newTalentsConfig } from './talents_picker.js';\n\nexport const warriorTalentsConfig: TalentsConfig<WarriorTalents> = newTalentsConfig([\n    {\n        \"name\": \"Arms\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wotlk/161.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"improvedHeroicStrike\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12282,\n                    12663,\n                    12664\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"deflection\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    16462,\n                    16463,\n                    16464,\n                    16465,\n                    16466\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedRend\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12286,\n                    12658\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedCharge\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12285,\n                    12697\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"ironWill\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12300,\n                    12959,\n                    12960\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"tacticalMastery\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12295,\n                    12676,\n                    12677\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"improvedOverpower\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12290,\n                    12963\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"angerManagement\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12296\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"impale\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    16493,\n                    16494\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"deepWounds\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    12834,\n                    12849,\n                    12867\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                }\n            },\n            {\n                \"fieldName\": \"twoHandedWeaponSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12163,\n                    12711,\n                    12712\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"tasteForBlood\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    56636,\n                    56637,\n                    56638\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"poleaxeSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12700,\n                    12781,\n                    12783,\n                    12784,\n                    12785\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"sweepingStrikes\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12328\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"maceSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12284,\n                    12701,\n                    12702,\n                    12703,\n                    12704\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"swordSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    12281,\n                    12812,\n                    12813,\n                    12814,\n                    12815\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"weaponMastery\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    20504,\n                    20505\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedHamstring\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12289,\n                    12668,\n                    23695\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"trauma\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    46854,\n                    46855\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"secondWind\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    29834,\n                    29838\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"mortalStrike\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12294\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"strengthOfArms\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    46865,\n                    46866\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedSlam\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    12862,\n                    12330\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"juggernaut\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    64976\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"improvedMortalStrike\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    35446,\n                    35448,\n                    35449\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"unrelentingAssault\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    46859,\n                    46860\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"suddenDeath\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    29723,\n                    29724,\n                    29725\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"endlessRage\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    29623\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"bloodFrenzy\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    29836,\n                    29859\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"wreckingCrew\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    46867,\n                    56611,\n                    56612,\n                    56613,\n                    56614\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"bladestorm\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    46924\n                ],\n                \"maxPoints\": 1\n            }\n        ]\n    },\n    {\n        \"name\": \"Fury\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wotlk/164.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"armoredToTheTeeth\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    61216,\n                    61221,\n                    61222\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"boomingVoice\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12321,\n                    12835\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"cruelty\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12320,\n\t\t\t\t\t12852,\n\t\t\t\t\t12853,\n\t\t\t\t\t12855,\n\t\t\t\t\t12856\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedDemoralizingShout\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12324,\n                    12876,\n                    12877,\n                    12878,\n                    12879\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"unbridledWrath\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12322,\n                    12999,\n                    13000,\n                    13001,\n                    13002\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedCleave\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12329,\n                    12950,\n                    20496\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"piercingHowl\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12323\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"bloodCraze\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    16487,\n                    16489,\n                    16492\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"commandingPresence\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    12318,\n                    12857,\n                    12858,\n                    12860,\n                    12861\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"dualWieldSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    23584,\n                    23585,\n                    23586,\n                    23587,\n                    23588\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedExecute\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    20502,\n                    20503\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"enrage\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12317,\n                    13045,\n                    13046,\n                    13047,\n                    13048\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"precision\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    29590,\n                    29591,\n                    29592\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"deathWish\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12292\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"improvedIntercept\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    29888,\n                    29889\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedBerserkerRage\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    20500,\n                    20501\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"flurry\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12319,\n                    12971,\n                    12972,\n                    12973,\n                    12974\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"intensifyRage\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    46908,\n                    46909,\n                    56924\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"bloodthirst\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    23881\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"improvedWhirlwind\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    29721,\n                    29776\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"furiousAttacks\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    46910,\n                    46911\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedBerserkerStance\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    29759,\n                    29760,\n                    29761,\n                    29762,\n                    29763\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"heroicFury\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    60970\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"rampage\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    29801\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"bloodsurge\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    46913,\n                    46914,\n                    46915\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"unendingFury\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    56927,\n                    56929,\n                    56930,\n                    56931,\n                    56932\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"titansGrip\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    46917\n                ],\n                \"maxPoints\": 1\n            }\n        ]\n    },\n    {\n        \"name\": \"Protection\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wotlk/163.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"improvedBloodrage\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12301,\n                    12818\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"shieldSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12298,\n                    12724,\n                    12725,\n                    12726,\n                    12727\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedThunderClap\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12287,\n                    12665,\n                    12666\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"incite\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    50685,\n                    50686,\n                    50687\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"anticipation\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12297\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"lastStand\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12975\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"improvedRevenge\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12797,\n                    12799\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"shieldMastery\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    29598,\n                    29599\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"toughness\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    12299,\n                    12761,\n                    12762,\n                    12763,\n                    12764\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedSpellReflection\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    59088,\n                    59089\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedDisarm\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12313,\n                    12804\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"puncture\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12308,\n                    12810,\n                    12811\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"improvedDisciplines\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    12312,\n                    12803\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"concussionBlow\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    12809\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"gagOrder\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    12311,\n                    12958\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"oneHandedWeaponSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    16538,\n                    16539,\n                    16540,\n                    16541,\n                    16542\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"improvedDefensiveStance\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    29593,\n                    29594\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"vigilance\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    50720\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"focusedRage\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    29787,\n                    29790,\n                    29792\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"vitality\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    29140,\n                    29143,\n                    29144\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"safeguard\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    46945,\n                    46949\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"warbringer\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    57499\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"devastate\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    20243\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"criticalBlock\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    47294,\n                    47295,\n                    47296\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"swordAndBoard\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    46951,\n                    46952,\n                    46953\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"damageShield\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    58872,\n                    58874\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"shockwave\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    46968\n                ],\n                \"maxPoints\": 1\n            }\n        ]\n    }\n]);\n\nexport const warriorGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [WarriorMajorGlyph.GlyphOfBarbaricInsults]: {\n            name: 'Glyph of Barbaric Insults',\n            description: 'Your Mocking Blow ability generates 100% additional threat.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_punishingblow.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfBladestorm]: {\n            name: 'Glyph of Bladestorm',\n            description: 'Reduces the cooldown on Bladestorm by 15 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_bladestorm.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfBlocking]: {\n            name: 'Glyph of Blocking',\n            description: 'Increases your block value by 10% for 10 sec after using your Shield Slam ability.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_shield_05.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfBloodthirst]: {\n            name: 'Glyph of Bloodthirst',\n            description: 'Increases the healing you receive from your Bloodthirst ability by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_bloodlust.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfCleaving]: {\n            name: 'Glyph of Cleaving',\n            description: 'Increases the number of targets your Cleave hits by 1.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_cleave.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfDevastate]: {\n            name: 'Glyph of Devastate',\n            description: 'Your Devastate ability now applies two stacks of Sunder Armor.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_sword_11.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfEnragedRegeneration]: {\n            name: 'Glyph of Enraged Regeneration',\n            description: 'Your Enraged Regeneration ability heals for an additional 10% of your health over its duration.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_focusedrage.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfExecution]: {\n            name: 'Glyph of Execution',\n            description: 'Your Execute ability deals damage as if you had 10 additional rage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_sword_48.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfHamstring]: {\n            name: 'Glyph of Hamstring',\n            description: 'Gives your Hamstring ability a 10% chance to immobilize the target for 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_shockwave.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfHeroicStrike]: {\n            name: 'Glyph of Heroic Strike',\n            description: 'You gain 10 rage when you critically strike with your Heroic Strike ability.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_ambush.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfIntervene]: {\n            name: 'Glyph of Intervene',\n            description: 'Increases the number attacks you intercept for your Intervene target by 1.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_victoryrush.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfLastStand]: {\n            name: 'Glyph of Last Stand',\n            description: 'Reduces the cooldown of your Last Stand ability by 1 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_holy_ashestoashes.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfMortalStrike]: {\n            name: 'Glyph of Mortal Strike',\n            description: 'Increases the damage of your Mortal Strike ability by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_savageblow.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfOverpower]: {\n            name: 'Glyph of Overpower',\n            description: 'Adds a 100% chance to enable your Overpower when your attacks are parried.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_meleedamage.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfRapidCharge]: {\n            name: 'Glyph of Rapid Charge',\n            description: 'Reduces the cooldown of your Charge ability by 7%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_charge.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfRending]: {\n            name: 'Glyph of Rending',\n            description: 'Increases the duration of your Rend ability by 6 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_gouge.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfResonatingPower]: {\n            name: 'Glyph of Resonating Power',\n            description: 'Reduces the rage cost of your Thunder Clap ability by 5.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_thunderclap.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfRevenge]: {\n            name: 'Glyph of Revenge',\n            description: 'After using Revenge, your next Heroic Strike costs no rage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_revenge.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfShieldWall]: {\n            name: 'Glyph of Shield Wall',\n            description: 'Reduces the cooldown on Shield Wall by 2 min, but Shield Wall now only reduces damage taken by 40%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_shieldwall.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfShockwave]: {\n            name: 'Glyph of Shockwave',\n            description: 'Reduces the cooldown on Shockwave by 3 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_shockwave.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfSpellReflection]: {\n            name: 'Glyph of Spell Reflection',\n            description: 'Reduces the cooldown on Spell Reflection by 1 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_shieldreflection.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfSunderArmor]: {\n            name: 'Glyph of Sunder Armor',\n            description: 'Your Sunder Armor ability affects a second nearby target.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_sunder.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfSweepingStrikes]: {\n            name: 'Glyph of Sweeping Strikes',\n            description: 'Reduces the rage cost of your Sweeping Strikes ability by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_rogue_slicedice.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfTaunt]: {\n            name: 'Glyph of Taunt',\n            description: 'Increases the chance for your Taunt ability to succeed by 8%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfVictoryRush]: {\n            name: 'Glyph of Victory Rush',\n            description: 'Your Victory Rush ability has a 30% increased critical strike chance.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_devastate.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfVigilance]: {\n            name: 'Glyph of Vigilance',\n            description: 'Your Vigilance ability transfers an additional 5% of your target\\'s threat to you.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_vigilance.jpg',\n        },\n        [WarriorMajorGlyph.GlyphOfWhirlwind]: {\n            name: 'Glyph of Whirlwind',\n            description: 'Reduces the cooldown of your Whirlwind by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_whirlwind.jpg',\n        },\n    },\n    minorGlyphs: {\n        [WarriorMinorGlyph.GlyphOfBattle]: {\n            name: 'Glyph of Battle',\n            description: 'Increases the duration of your Battle Shout ability by 2 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_battleshout.jpg',\n        },\n        [WarriorMinorGlyph.GlyphOfBloodrage]: {\n            name: 'Glyph of Bloodrage',\n            description: 'Reduces the health cost of your Bloodrage ability by 100%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_racial_bloodrage.jpg',\n        },\n        [WarriorMinorGlyph.GlyphOfCharge]: {\n            name: 'Glyph of Charge',\n            description: 'Increases the range of your Charge ability by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_charge.jpg',\n        },\n        [WarriorMinorGlyph.GlyphOfCommand]: {\n            name: 'Glyph of Command',\n            description: 'Increases the duration of your Commanding Shout ability by 2 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_rallyingcry.jpg',\n        },\n        [WarriorMinorGlyph.GlyphOfEnduringVictory]: {\n            name: 'Glyph of Enduring Victory',\n            description: 'Increases the window of opportunity in which you can use Victory Rush by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_devastate.jpg',\n        },\n        [WarriorMinorGlyph.GlyphOfMockingBlow]: {\n            name: 'Glyph of Mocking Blow',\n            description: 'Increases the damage of your Mocking Blow ability by 25%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_warrior_punishingblow.jpg',\n        },\n        [WarriorMinorGlyph.GlyphOfThunderClap]: {\n            name: 'Glyph of Thunder Clap',\n            description: 'Increases the radius of your Thunder Clap ability by 2 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_thunderclap.jpg',\n        },\n    },\n};\n","import { Spec } from '../proto/common.js';\nimport { DeathknightTalents, DeathknightMajorGlyph, DeathknightMinorGlyph } from '../proto/deathknight.js';\nimport { Player } from '../player.js';\n\nimport { GlyphsConfig, GlyphsPicker } from './glyphs_picker.js';\nimport { TalentsConfig, TalentsPicker, newTalentsConfig } from './talents_picker.js';\n\nexport const deathknightTalentsConfig: TalentsConfig<DeathknightTalents> = newTalentsConfig([\n    {\n        \"name\": \"Blood\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/398.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"butchery\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    48979,\n                    49483\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"subversion\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    48997,\n                    49490,\n                    49491\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"bladeBarrier\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49182,\n                    49500,\n                    49501,\n                    55225,\n                    55226\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"bladedArmor\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    48978,\n                    49390,\n                    49391,\n                    49392,\n                    49393\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"scentOfBlood\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49004,\n                    49508,\n                    49509\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"twoHandedWeaponSpecialization\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    55107,\n                    55108\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"runeTap\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    48982\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"darkConviction\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    48987,\n                    49477,\n                    49478,\n                    49479,\n                    49480\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"deathRuneMastery\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49467,\n                    50033,\n                    50034\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"improvedRuneTap\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    48985,\n                    49488,\n                    49489\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                }\n            },\n            {\n                \"fieldName\": \"spellDeflection\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49145,\n                    49495,\n                    49497\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"vendetta\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    49015,\n                    50154,\n                    55136\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"bloodyStrikes\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    48977,\n                    49394,\n                    49395\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"veteranOfTheThirdWar\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49006,\n                    49526,\n                    50029\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"markOfBlood\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    49005\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"bloodyVengeance\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    48988,\n                    49503,\n                    49504\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"abominationsMight\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    53137,\n                    53138\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"bloodworms\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49027,\n                    49542,\n                    49543\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"hysteria\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49016\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"improvedBloodPresence\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    50365,\n                    50371\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"improvedDeathStrike\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    62905,\n                    62908\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"suddenDoom\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49018,\n                    49529,\n                    49530\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"vampiricBlood\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    55233\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"willOfTheNecropolis\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49189,\n                    50149,\n                    50150\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"heartStrike\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    55050\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"mightOfMograine\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49023,\n                    49533,\n                    49534\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"bloodGorged\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    61154,\n                    61155,\n                    61156,\n                    61157,\n                    61158\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"dancingRuneWeapon\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49028\n                ],\n                \"maxPoints\": 1\n            },\n\n        ]\n    },\n    {\n        \"name\": \"Frost\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/399.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"improvedIcyTouch\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49175,\n                    50031,\n                    51456\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"runicPowerMastery\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49455,\n                    50147\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"toughness\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49042,\n                    49786,\n                    49787,\n                    49788,\n                    49789\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"icyReach\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    55061,\n                    55062\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"blackIce\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49140,\n                    49661,\n                    49662,\n                    49663,\n                    49664\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"nervesOfColdSteel\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    49226,\n                    50137,\n                    50138\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"icyTalons\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    50880,\n                    50884,\n                    50885,\n                    50886,\n                    50887\n                ],\n                \"maxPoints\": 5,\n                \"prereqLocation\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                }\n            },\n            {\n                \"fieldName\": \"lichborne\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49039\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"annihilation\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    51468,\n                    51472,\n                    51473\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"killingMachine\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    51123,\n                    51127,\n                    51128,\n                    51129,\n                    51130\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"chillOfTheGrave\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49149,\n                    50115\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"endlessWinter\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    49137,\n                    49657\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"frigidDreadplate\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49186,\n                    51108,\n                    51109\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"glacierRot\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49471,\n                    49790,\n                    49791\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"deathchill\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    49796\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"improvedIcyTalons\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    55610\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                }\n            },\n            {\n                \"fieldName\": \"mercilessCombat\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49024,\n                    49538\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"rime\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49188,\n                    56822,\n                    59057\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"chilblains\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    50040,\n                    50041,\n                    50043\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"hungeringCold\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49203\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"improvedFrostPresence\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    50384,\n                    50385\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"threatOfThassarian\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    65661,\n                    66191,\n                    66192\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"bloodOfTheNorth\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    54639,\n                    54637,\n                    54638\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"unbreakableArmor\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    51271\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"acclimation\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49200,\n                    50151,\n                    50152\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"frostStrike\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49143\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"guileOfGorefiend\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    50187,\n                    50190,\n                    50191\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"tundraStalker\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49202,\n                    50127,\n                    50128,\n                    50129,\n                    50130\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"howlingBlast\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49184\n                ],\n                \"maxPoints\": 1\n            },\n        ]\n    },\n    {\n        \"name\": \"Unholy\",\n        \"backgroundUrl\": \"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/400.jpg\",\n        \"talents\": [\n            {\n                \"fieldName\": \"viciousStrikes\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    51745,\n                    51746\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"virulence\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    48962,\n                    49567,\n                    49568\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"anticipation\",\n                \"location\": {\n                    \"rowIdx\": 0,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    55129,\n                    55130,\n                    55131,\n                    55132,\n                    55133\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"epidemic\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49036,\n                    49562\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"morbidity\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    48963,\n                    49564,\n                    49565\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"unholyCommand\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49588,\n                    49589\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"ravenousDead\",\n                \"location\": {\n                    \"rowIdx\": 1,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    48965,\n                    49571,\n                    49572\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"outbreak\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49013,\n                    55236,\n                    55237\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"necrosis\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    51459,\n                    51462,\n                    51463,\n                    51464,\n                    51465\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"corpseExplosion\",\n                \"location\": {\n                    \"rowIdx\": 2,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49158\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"onAPaleHorse\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49146,\n                    51267\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"bloodCakedBlade\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49219,\n                    49627,\n                    49628\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"nightOfTheDead\",\n                \"location\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    55620,\n                    55623\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"unholyBlight\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49194\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"impurity\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49220,\n                    49633,\n                    49635,\n                    49636,\n                    49638\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"dirge\",\n                \"location\": {\n                    \"rowIdx\": 4,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49223,\n                    49599\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"desecration\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    55666,\n                    55667\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"magicSuppression\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49224,\n                    49610,\n                    49611\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"reaping\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49208,\n                    56834,\n                    56835\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"masterOfGhouls\",\n                \"location\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    52143\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 3,\n                    \"colIdx\": 3\n                }\n            },\n            {\n                \"fieldName\": \"desolation\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    66799,\n                    66814,\n                    66815,\n                    66816,\n                    66817\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"antiMagicZone\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    51052\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"improvedUnholyPresence\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    50391,\n                    50392\n                ],\n                \"maxPoints\": 2\n            },\n            {\n                \"fieldName\": \"ghoulFrenzy\",\n                \"location\": {\n                    \"rowIdx\": 6,\n                    \"colIdx\": 3\n                },\n                \"spellIds\": [\n                    63560\n                ],\n                \"maxPoints\": 1,\n                \"prereqLocation\": {\n                    \"rowIdx\": 5,\n                    \"colIdx\": 3\n                }\n            },\n            {\n                \"fieldName\": \"cryptFever\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49032,\n                    49631,\n                    49632\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"boneShield\",\n                \"location\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    49222\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"wanderingPlague\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 0\n                },\n                \"spellIds\": [\n                    49217,\n                    49654,\n                    49655\n                ],\n                \"maxPoints\": 3\n            },\n            {\n                \"fieldName\": \"ebonPlaguebringer\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    51099,\n                    51160,\n                    51161\n                ],\n                \"maxPoints\": 3,\n                \"prereqLocation\": {\n                    \"rowIdx\": 7,\n                    \"colIdx\": 1\n                }\n            },\n            {\n                \"fieldName\": \"scourgeStrike\",\n                \"location\": {\n                    \"rowIdx\": 8,\n                    \"colIdx\": 2\n                },\n                \"spellIds\": [\n                    55090\n                ],\n                \"maxPoints\": 1\n            },\n            {\n                \"fieldName\": \"rageOfRivendare\",\n                \"location\": {\n                    \"rowIdx\": 9,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    50117,\n                    50118,\n                    50119,\n                    50120,\n                    50121\n                ],\n                \"maxPoints\": 5\n            },\n            {\n                \"fieldName\": \"summonGargoyle\",\n                \"location\": {\n                    \"rowIdx\": 10,\n                    \"colIdx\": 1\n                },\n                \"spellIds\": [\n                    49206\n                ],\n                \"maxPoints\": 1\n            },\n\n        ]\n    },\n]);\n\nexport const deathknightGlyphsConfig: GlyphsConfig = {\n    majorGlyphs: {\n        [DeathknightMajorGlyph.GlyphOfAntiMagicShell]: {\n            name: 'Glyph of Anti-Magic Shell',\n            description: 'Increases the duration of your Anti-Magic Shell by 2 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_antimagicshell.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfBloodStrike]: {\n            name: 'Glyph of Blood Strike',\n            description: 'Your Blood Strike causes an additional 20% damage to snared targets.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_deathstrike.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfBoneShield]: {\n            name: 'Glyph of Bone Shield',\n            description: 'Adds 1 additional charge to your Bone Shield.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_chest_leather_13.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfChainsOfIce]: {\n            name: 'Glyph of Chains of Ice',\n            description: 'Your Chains of Ice also causes 144 to 156 Frost damage, increased by your attack power.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_chainsofice.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfDancingRuneWeapon]: {\n            name: 'Glyph of Dancing Rune Weapon',\n            description: 'Increases the duration of Dancing Rune Weapon by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_sword_07.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfDarkCommand]: {\n            name: 'Glyph of Dark Command',\n            description: 'Increases the chance for your Dark Command ability to work successfully by 8%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_nature_shamanrage.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfDarkDeath]: {\n            name: 'Glyph of Dark Death',\n            description: 'Increases the damage or healing done by Death Coil by 15%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathcoil.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfDeathAndDecay]: {\n            name: 'Glyph of Death and Decay',\n            description: 'Damage of your Death and Decay spell increased by 20%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathanddecay.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfDeathGrip]: {\n            name: 'Glyph of Death Grip',\n            description: 'When you deal a killing blow that grants honor or experience, the cooldown of your Death Grip is refreshed.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_strangulate.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfDeathStrike]: {\n            name: 'Glyph of Death Strike',\n            description: 'Increases your Death Strike\\'s damage by 1% for every 1 runic power you currently have (up to a maximum of 25%). The runic power is not consumed by this effect.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_butcher2.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfDisease]: {\n            name: 'Glyph of Disease',\n            description: 'Your Pestilence ability now refreshes disease durations and secondary effects of diseases on your primary target back to their maximum duration.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_plaguecloud.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfFrostStrike]: {\n            name: 'Glyph of Frost Strike',\n            description: 'Reduces the cost of your Frost Strike by 8 Runic Power.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_empowerruneblade2.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfHeartStrike]: {\n            name: 'Glyph of Heart Strike',\n            description: 'Your Heart Strike also reduces the movement speed of your target by 50% for 10 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_weapon_shortblade_40.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfHowlingBlast]: {\n            name: 'Glyph of Howling Blast',\n            description: 'Your Howling Blast ability now infects your targets with Frost Fever.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_frost_arcticwinds.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfHungeringCold]: {\n            name: 'Glyph of Hungering Cold',\n            description: 'Reduces the cost of Hungering Cold by 40 runic power.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_staff_15.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfIceboundFortitude]: {\n            name: 'Glyph of Icebound Fortitude',\n            description: 'Your Icebound Fortitude now always grants at least 40% damage reduction, regardless of your defense skill.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_iceboundfortitude.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfIcyTouch]: {\n            name: 'Glyph of Icy Touch',\n            description: 'Your Frost Fever disease deals 20% additional damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_icetouch.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfObliterate]: {\n            name: 'Glyph of Obliterate',\n            description: 'Increases the damage of your Obliterate ability by 25%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_classicon.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfPlagueStrike]: {\n            name: 'Glyph of Plague Strike',\n            description: 'Your Plague Strike does 20% additional damage.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_empowerruneblade.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfRuneStrike]: {\n            name: 'Glyph of Rune Strike',\n            description: 'Increases the critical strike chance of your Rune Strike by 10%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_darkconviction.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfRuneTap]: {\n            name: 'Glyph of Rune Tap',\n            description: 'Your Rune Tap now heals you for an additional 1% of your maximum health, and also heals your party for 10% of their maximum health.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_runetap.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfScourgeStrike]: {\n            name: 'Glyph of Scourge Strike',\n            description: 'Your Scourge Strike increases the duration of your diseases on the target by 3 sec, up to a maximum of 9 additional seconds.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_scourgestrike.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfStrangulate]: {\n            name: 'Glyph of Strangulate',\n            description: 'Reduces the cooldown of your Strangulate by 20 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_soulleech_3.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfTheGhoul]: {\n            name: 'Glyph of the Ghoul',\n            description: 'Your Ghoul receives an additional 40% of your Strength and 40% of your Stamina.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_animatedead.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfUnbreakableArmor]: {\n            name: 'Glyph of Unbreakable Armor',\n            description: 'Increases the total armor granted by Unbreakable Armor to 30%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_armor_helm_plate_naxxramas_raidwarrior_c_01.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfUnholyBlight]: {\n            name: 'Glyph of Unholy Blight',\n            description: 'Increases the damage done by Unholy Blight by 40%.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_contagion.jpg',\n        },\n        [DeathknightMajorGlyph.GlyphOfVampiricBlood]: {\n            name: 'Glyph of Vampiric Blood',\n            description: 'Increases the duration of your Vampiric Blood by 5 sec.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_lifedrain.jpg',\n        },\n    },\n    minorGlyphs: {\n        [DeathknightMinorGlyph.GlyphOfBloodTap]: {\n            name: 'Glyph of Blood Tap',\n            description: 'Your Blood Tap no longer causes damage to you.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_bloodtap.jpg',\n        },\n        [DeathknightMinorGlyph.GlyphOfCorpseExplosion]: {\n            name: 'Glyph of Corpse Explosion',\n            description: 'Increases the radius of effect on Corpse Explosion by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/ability_creature_disease_02.jpg',\n        },\n        [DeathknightMinorGlyph.GlyphOfDeathSEmbrace]: {\n            name: 'Glyph of Death\\'s Embrace',\n            description: 'Your Death Coil refunds 20 runic power when used to heal.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathcoil.jpg',\n        },\n        [DeathknightMinorGlyph.GlyphOfHornOfWinter]: {\n            name: 'Glyph of Horn of Winter',\n            description: 'Increases the duration of your Horn of Winter ability by 1 min.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/inv_misc_horn_02.jpg',\n        },\n        [DeathknightMinorGlyph.GlyphOfPestilence]: {\n            name: 'Glyph of Pestilence',\n            description: 'Increases the radius of your Pestilence effect by 5 yards.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_plaguecloud.jpg',\n        },\n        [DeathknightMinorGlyph.GlyphOfRaiseDead]: {\n            name: 'Glyph of Raise Dead',\n            description: 'Your Raise Dead spell no longer requires a reagent.',\n            iconUrl: 'https://wow.zamimg.com/images/wow/icons/large/spell_shadow_animatedead.jpg',\n        },\n    },\n};\n","import { ItemQuality } from './proto/common.js';\n\nconst itemQualityCssClasses: Record<ItemQuality, string> = {\n\t[ItemQuality.ItemQualityJunk]: 'item-quality-junk',\n\t[ItemQuality.ItemQualityCommon]: 'item-quality-common',\n\t[ItemQuality.ItemQualityUncommon]: 'item-quality-uncommon',\n\t[ItemQuality.ItemQualityRare]: 'item-quality-rare',\n\t[ItemQuality.ItemQualityEpic]: 'item-quality-epic',\n\t[ItemQuality.ItemQualityLegendary]: 'item-quality-legendary',\n};\nexport function setItemQualityCssClass(elem: HTMLElement, quality: ItemQuality | null) {\n\tObject.values(itemQualityCssClasses).forEach(cssClass => elem.classList.remove(cssClass));\n\n\tif (quality) {\n\t\telem.classList.add(itemQualityCssClasses[quality]);\n\t}\n}\n","import { Component } from './component.js';\n\nexport class CloseButton extends Component {\n\tconstructor(parent: HTMLElement, onClick: () => void) {\n\t\tsuper(parent, 'close-button');\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<span aria-hidden=\"true\" class=\"fa fa-times\"></span>\n\t\t`;\n\n\t\tthis.rootElem.addEventListener('click', event => onClick());\n\t}\n}\n","import { CloseButton } from './close_button.js';\nimport { Component } from './component.js';\n\ndeclare var $: any;\n\nexport class Popup extends Component {\n\n\tconstructor(parent: HTMLElement) {\n\t\tsuper(parent, 'popup');\n\n\t\tconst computedStyles = window.getComputedStyle(parent);\n\t\tthis.rootElem.style.setProperty('--main-text-color', computedStyles.getPropertyValue('--main-text-color').trim());\n\t\tthis.rootElem.style.setProperty('--theme-color-primary', computedStyles.getPropertyValue('--theme-color-primary').trim());\n\t\tthis.rootElem.style.setProperty('--theme-color-background', computedStyles.getPropertyValue('--theme-color-background').trim());\n\t\tthis.rootElem.style.setProperty('--theme-color-background-raw', computedStyles.getPropertyValue('--theme-color-background-raw').trim());\n\n\t\tif (parent.closest('.hide-threat-metrics')) {\n\t\t\tthis.rootElem.classList.add('hide-threat-metrics');\n\t\t}\n\n\t\t$(this.rootElem).bPopup({\n\t\t\tonClose: () => this.rootElem.remove(),\n\t\t});\n\t}\n\n\tprotected addCloseButton() {\n\t\tnew CloseButton(this.rootElem, () => this.close());\n\t}\n\n\tclose() {\n\t\t$(this.rootElem).bPopup().close();\n\t\tthis.rootElem.remove();\n\t}\n}\n","import { getWowheadItemId } from '../proto_utils/equipped_item.js';\nimport { EquippedItem } from '../proto_utils/equipped_item.js';\nimport { Stats } from '../proto_utils/stats.js';\nimport { Glyphs } from '../proto/common.js';\nimport { ItemQuality } from '../proto/common.js';\nimport { ActionId } from '../proto_utils/action_id.js';\nimport { setItemQualityCssClass } from '../css_utils.js';\nimport { Player } from '../player.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { formatDeltaTextElem, stringComparator } from '../utils.js';\n\nimport { Component } from '../components/component.js';\nimport { Input } from '../components/input.js';\nimport { Popup } from '../components/popup.js';\n\ndeclare var $: any;\n\nexport type GlyphConfig = {\n    name: string,\n    description: string,\n    iconUrl: string,\n};\n\nexport type GlyphsConfig = {\n    majorGlyphs: Record<number, GlyphConfig>,\n    minorGlyphs: Record<number, GlyphConfig>,\n};\n\ninterface GlyphData {\n    id: number,\n    name: string,\n    description: string,\n    iconUrl: string,\n    quality: ItemQuality | null,\n}\n\nconst emptyGlyphData: GlyphData = {\n    id: 0,\n    name: 'Empty',\n    description: '',\n    iconUrl: 'https://wow.zamimg.com/images/wow/icons/medium/inventoryslot_empty.jpg',\n    quality: null,\n};\n\nexport class GlyphsPicker extends Component {\n    private readonly glyphsConfig: GlyphsConfig;\n\n    majorGlyphPickers: Array<GlyphPicker> = [];\n    minorGlyphPickers: Array<GlyphPicker> = [];\n\n    constructor(parent: HTMLElement, player: Player<any>, glyphsConfig: GlyphsConfig) {\n        super(parent, 'glyphs-picker-root');\n        this.glyphsConfig = glyphsConfig;\n\n        const majorGlyphs = Object.keys(glyphsConfig.majorGlyphs).map(idStr => Number(idStr));\n        const minorGlyphs = Object.keys(glyphsConfig.minorGlyphs).map(idStr => Number(idStr));\n\n        const majorGlyphsData = majorGlyphs.map(glyph => this.getGlyphData(glyph));\n        const minorGlyphsData = minorGlyphs.map(glyph => this.getGlyphData(glyph));\n\n        majorGlyphsData.sort((a, b) => stringComparator(a.name, b.name));\n        minorGlyphsData.sort((a, b) => stringComparator(a.name, b.name));\n\n        this.majorGlyphPickers = (['major1', 'major2', 'major3'] as Array<keyof Glyphs>).map(glyphField => new GlyphPicker(this.rootElem, player, majorGlyphsData, glyphField, true));\n        this.minorGlyphPickers = (['minor1', 'minor2', 'minor3'] as Array<keyof Glyphs>).map(glyphField => new GlyphPicker(this.rootElem, player, minorGlyphsData, glyphField, false));\n    }\n\n    // In case we ever want to parse description from tooltip HTML.\n    //static descriptionRegex = /<a href=\\\\\"\\/wotlk.*>(.*)<\\/a>/g;\n    getGlyphData(glyph: number): GlyphData {\n        const glyphConfig = this.glyphsConfig.majorGlyphs[glyph] || this.glyphsConfig.minorGlyphs[glyph];\n\n        return {\n            id: glyph,\n            name: glyphConfig.name,\n            description: glyphConfig.description,\n            iconUrl: glyphConfig.iconUrl,\n            quality: ItemQuality.ItemQualityCommon,\n        };\n    }\n}\n\nclass GlyphPicker extends Input<Player<any>, number> {\n    readonly player: Player<any>;\n    private readonly iconElem: HTMLAnchorElement;\n\n    private readonly glyphOptions: Array<GlyphData>;\n    selectedGlyph: GlyphData;\n\n    constructor(parent: HTMLElement, player: Player<any>, glyphOptions: Array<GlyphData>, glyphField: keyof Glyphs, isMajor: boolean) {\n        super(parent, 'glyph-picker-root', player, {\n            changedEvent: (player: Player<any>) => player.glyphsChangeEmitter,\n            getValue: (player: Player<any>) => player.getGlyphs()[glyphField] as number,\n            setValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n                const glyphs = player.getGlyphs();\n                (glyphs[glyphField] as number) = newValue;\n                player.setGlyphs(eventID, glyphs);\n            },\n        });\n        if (!isMajor) {\n            this.rootElem.classList.add('minor');\n        }\n        this.player = player;\n        this.glyphOptions = glyphOptions;\n        this.selectedGlyph = emptyGlyphData;\n\n        this.rootElem.innerHTML = `<a class=\"glyph-picker-icon\"></a>`;\n\n        this.iconElem = this.rootElem.getElementsByClassName('glyph-picker-icon')[0] as HTMLAnchorElement;\n        this.iconElem.addEventListener('click', event => {\n            event.preventDefault();\n            const selectorModal = new GlyphSelectorModal(this.rootElem.closest('.individual-sim-ui')!, this, this.glyphOptions);\n        });\n        this.iconElem.addEventListener('touchstart', event => {\n            event.preventDefault();\n            const selectorModal = new GlyphSelectorModal(this.rootElem.closest('.individual-sim-ui')!, this, this.glyphOptions);\n        });\n        this.iconElem.addEventListener('touchend', event => {\n            event.preventDefault();\n        });\n\n        this.init();\n    }\n\n    getInputElem(): HTMLElement {\n        return this.iconElem;\n    }\n\n    getInputValue(): number {\n        return this.selectedGlyph.id;\n    }\n\n    setInputValue(newValue: number) {\n        this.selectedGlyph = this.glyphOptions.find(glyphData => glyphData.id == newValue) || emptyGlyphData;\n\n        this.iconElem.style.backgroundImage = `url('${this.selectedGlyph.iconUrl}')`;\n        this.iconElem.href = this.selectedGlyph.id == 0 ? '' : ActionId.makeItemUrl(this.selectedGlyph.id);\n    }\n}\n\nclass GlyphSelectorModal extends Popup {\n\n    constructor(parent: HTMLElement, glyphPicker: GlyphPicker, glyphOptions: Array<GlyphData>) {\n        super(parent);\n\n        this.rootElem.classList.add('selector-modal');\n        this.rootElem.classList.add('glyph-modal');\n        this.rootElem.innerHTML = `\n\t\t\t<div class=\"selector-modal-tab-content-header\">\n\t\t\t\t<input class=\"selector-modal-search\" type=\"text\" placeholder=\"Search...\">\n\t\t\t</div>\n\t\t\t<ul class=\"selector-modal-list\"></ul>\n    `;\n        this.addCloseButton();\n\n        const listElem = this.rootElem.getElementsByClassName('selector-modal-list')[0] as HTMLElement;\n\n        glyphOptions = [emptyGlyphData].concat(glyphOptions);\n        const listItemElems = glyphOptions.map((glyphData, glyphIdx) => {\n            const listItemElem = document.createElement('li');\n            listItemElem.classList.add('selector-modal-list-item');\n            listElem.appendChild(listItemElem);\n\n            listItemElem.dataset.idx = String(glyphIdx);\n\n            listItemElem.innerHTML = `\n        <a class=\"selector-modal-list-item-icon\"></a>\n        <a class=\"selector-modal-list-item-name\">${glyphData.name}</a>\n\t\t\t\t<span class=\"selector-modal-list-item-description\">${glyphData.description}</span>\n      `;\n\n            (listItemElem.children[0] as HTMLAnchorElement).href = glyphData.id == 0 ? '' : ActionId.makeItemUrl(glyphData.id);\n            (listItemElem.children[1] as HTMLAnchorElement).href = glyphData.id == 0 ? '' : ActionId.makeItemUrl(glyphData.id);\n            const iconElem = listItemElem.getElementsByClassName('selector-modal-list-item-icon')[0] as HTMLImageElement;\n            iconElem.style.backgroundImage = `url('${glyphData.iconUrl}')`;\n\n            const nameElem = listItemElem.getElementsByClassName('selector-modal-list-item-name')[0] as HTMLImageElement;\n            setItemQualityCssClass(nameElem, glyphData.quality);\n\n            const onclick = (event: Event) => {\n                event.preventDefault();\n                glyphPicker.setValue(TypedEvent.nextEventID(), glyphData.id);\n            };\n            nameElem.addEventListener('click', onclick);\n            iconElem.addEventListener('click', onclick);\n\n            return listItemElem;\n        });\n\n        const updateSelected = () => {\n            const selectedGlyphId = glyphPicker.selectedGlyph.id;\n\n            listItemElems.forEach(elem => {\n                const listItemIdx = parseInt(elem.dataset.idx!);\n                const listItemData = glyphOptions[listItemIdx];\n\n                elem.classList.remove('active');\n                if (listItemData.id == selectedGlyphId) {\n                    elem.classList.add('active');\n                }\n            });\n        };\n        updateSelected();\n\n        const applyFilters = () => {\n            let validItemElems = listItemElems;\n            const selectedGlyph = glyphPicker.selectedGlyph;\n\n            validItemElems = validItemElems.filter(elem => {\n                const listItemIdx = parseInt(elem.dataset.idx!);\n                const listItemData = glyphOptions[listItemIdx];\n\n                if (searchInput.value.length > 0) {\n                    const searchQuery = searchInput.value.toLowerCase().split(\" \");\n                    const name = listItemData.name.toLowerCase();\n\n                    var include = true;\n                    searchQuery.forEach(v => {\n                        if (!name.includes(v))\n                            include = false;\n                    });\n                    if (!include) {\n                        return false;\n                    }\n                }\n\n                return true;\n            });\n\n            let numShown = 0;\n            listItemElems.forEach(elem => {\n                if (validItemElems.includes(elem)) {\n                    elem.classList.remove('hidden');\n                    numShown++;\n                    if (numShown % 2 == 0) {\n                        elem.classList.remove('odd');\n                    } else {\n                        elem.classList.add('odd');\n                    }\n                } else {\n                    elem.classList.add('hidden');\n                }\n            });\n        };\n\n        const searchInput = this.rootElem.getElementsByClassName('selector-modal-search')[0] as HTMLInputElement;\n        searchInput.addEventListener('input', applyFilters);\n        searchInput.addEventListener(\"keyup\", ev => {\n            if (ev.key == \"Enter\") {\n                listItemElems.find(ele => {\n                    if (ele.classList.contains(\"hidden\")) {\n                        return false;\n                    }\n                    const nameElem = ele.getElementsByClassName('selector-modal-list-item-name')[0] as HTMLElement;\n                    nameElem.click();\n                    return true;\n                });\n            }\n        });\n\n        glyphPicker.player.glyphsChangeEmitter.on(() => {\n            applyFilters();\n            updateSelected();\n        });\n    }\n}\n","import { Player } from '../player.js';\nimport { Class } from '../proto/common.js';\nimport { Spec } from '../proto/common.js';\nimport {\n    SpecTalents,\n    specToClass,\n    specTypeFunctions,\n} from '../proto_utils/utils.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { druidTalentsConfig, druidGlyphsConfig } from './druid.js';\nimport { hunterTalentsConfig, hunterGlyphsConfig } from './hunter.js';\nimport { mageTalentsConfig, mageGlyphsConfig } from './mage.js';\nimport { paladinTalentsConfig, paladinGlyphsConfig } from './paladin.js';\nimport { priestTalentsConfig, priestGlyphsConfig } from './priest.js';\nimport { rogueTalentsConfig, rogueGlyphsConfig } from './rogue.js';\nimport { shamanTalentsConfig, shamanGlyphsConfig } from './shaman.js';\nimport { warlockTalentsConfig, warlockGlyphsConfig } from './warlock.js';\nimport { warriorTalentsConfig, warriorGlyphsConfig } from './warrior.js';\nimport { deathknightTalentsConfig, deathknightGlyphsConfig } from './deathknight.js';\nimport { TalentsConfig, TalentsPicker } from './talents_picker.js';\nimport { GlyphsConfig, GlyphsPicker } from './glyphs_picker.js';\n\nimport * as Mechanics from '../constants/mechanics.js';\n\nexport function newTalentsPicker(parent: HTMLElement, player: Player<any>): TalentsPicker<Player<any>, any> {\n\treturn new TalentsPicker(parent, player, {\n\t\ttrees: classTalentsConfig[player.getClass()],\n\t\tchangedEvent: (player: Player<any>) => player.talentsChangeEmitter,\n\t\tgetValue: (player: Player<any>) => player.getTalentsString(),\n\t\tsetValue: (eventID: EventID, player: Player<any>, newValue: string) => {\n\t\t\tplayer.setTalentsString(eventID, newValue);\n\t\t},\n\t\tpointsPerRow: 5,\n\t\tmaxPoints: Mechanics.MAX_TALENT_POINTS,\n\t});\n}\n\nexport function newGlyphsPicker(parent: HTMLElement, player: Player<any>): GlyphsPicker {\n    return new GlyphsPicker(parent, player, classGlyphsConfig[player.getClass()]);\n}\n\nconst classTalentsConfig: Record<Class, TalentsConfig<any>> = {\n    [Class.ClassUnknown]: [],\n    [Class.ClassDeathknight]: deathknightTalentsConfig,\n    [Class.ClassDruid]: druidTalentsConfig,\n    [Class.ClassShaman]: shamanTalentsConfig,\n    [Class.ClassHunter]: hunterTalentsConfig,\n    [Class.ClassMage]: mageTalentsConfig,\n    [Class.ClassRogue]: rogueTalentsConfig,\n    [Class.ClassPaladin]: paladinTalentsConfig,\n    [Class.ClassPriest]: priestTalentsConfig,\n    [Class.ClassWarlock]: warlockTalentsConfig,\n    [Class.ClassWarrior]: warriorTalentsConfig,\n};\n\nconst classGlyphsConfig: Record<Class, GlyphsConfig> = {\n    [Class.ClassUnknown]: { majorGlyphs: [], minorGlyphs: [] },\n    [Class.ClassDeathknight]: deathknightGlyphsConfig,\n    [Class.ClassDruid]: druidGlyphsConfig,\n    [Class.ClassShaman]: shamanGlyphsConfig,\n    [Class.ClassHunter]: hunterGlyphsConfig,\n    [Class.ClassMage]: mageGlyphsConfig,\n    [Class.ClassRogue]: rogueGlyphsConfig,\n    [Class.ClassPaladin]: paladinGlyphsConfig,\n    [Class.ClassPriest]: priestGlyphsConfig,\n    [Class.ClassWarlock]: warlockGlyphsConfig,\n    [Class.ClassWarrior]: warriorGlyphsConfig,\n};\n\nexport function talentSpellIdsToTalentString(playerClass: Class, talentIds: Array<number>): string {\n    const talentsConfig = classTalentsConfig[playerClass];\n\n    const talentsStr = talentsConfig.map(treeConfig => {\n        const treeStr = treeConfig.talents.map(talentConfig => {\n            const spellIdIndex = talentConfig.spellIds.findIndex(spellId => talentIds.includes(spellId));\n            if (spellIdIndex == -1) {\n                return '0';\n            } else {\n                return String(spellIdIndex + 1);\n            }\n        }).join('').replace(/0+$/g, '');\n\n        return treeStr;\n    }).join('-').replace(/-+$/g, '');\n\n    return talentsStr\n}\n\nexport function playerTalentStringToProto<SpecType extends Spec>(spec: Spec, talentString: string): SpecTalents<SpecType> {\n    const specFunctions = specTypeFunctions[spec];\n    const proto = specFunctions.talentsCreate() as SpecTalents<SpecType>;\n    const talentsConfig = classTalentsConfig[specToClass[spec]] as TalentsConfig<SpecTalents<SpecType>>;\n\n    return talentStringToProto(proto, talentString, talentsConfig);\n}\n\nexport function talentStringToProto<TalentsProto>(proto: TalentsProto, talentString: string, talentsConfig: TalentsConfig<TalentsProto>): TalentsProto {\n    talentString.split('-').forEach((treeString, treeIdx) => {\n        const treeConfig = talentsConfig[treeIdx];\n        [...treeString].forEach((talentString, i) => {\n            const talentConfig = treeConfig.talents[i];\n            const points = parseInt(talentString);\n            if (talentConfig.fieldName) {\n                if (talentConfig.maxPoints == 1) {\n                    (proto[talentConfig.fieldName] as unknown as boolean) = points == 1;\n                } else {\n                    (proto[talentConfig.fieldName] as unknown as number) = points;\n                }\n            }\n        });\n    });\n\n    return proto;\n}\n\n// Note that this function will fail if any of the talent names are not defined. TODO: Remove that condition\n// once all talents are migrated to wrath and use all fields.\nexport function protoToTalentString<TalentsProto>(proto: TalentsProto, talentsConfig: TalentsConfig<TalentsProto>): string {\n    return talentsConfig.map(treeConfig => {\n        return treeConfig.talents\n            .map(talentConfig => String(Number(proto[talentConfig.fieldName!])))\n            .join('').replace(/0+$/g, '');\n    }).join('-').replace(/-+$/g, '');\n}\n","import {\n    Class,\n    Cooldowns,\n    Consumes,\n    Enchant,\n    Gem,\n    GemColor,\n    Glyphs,\n    HealingModel,\n    IndividualBuffs,\n    ItemSlot,\n    Item,\n    Profession,\n    Race, ShattrathFaction,\n    RaidTarget,\n    RangedWeaponType,\n    Spec,\n    Faction,\n    Stat,\n    WeaponType,\n} from './proto/common.js';\n\nimport { PlayerStats } from './proto/api.js';\nimport { Player as PlayerProto } from './proto/api.js';\nimport { StatWeightsResult } from './proto/api.js';\nimport { EquippedItem, getWeaponDPS } from './proto_utils/equipped_item.js';\n\nimport { playerTalentStringToProto } from './talents/factory.js';\nimport { Gear } from './proto_utils/gear.js';\nimport {\n    isUnrestrictedGem,\n    gemEligibleForSocket,\n    gemMatchesSocket,\n} from './proto_utils/gems.js';\nimport { Stats } from './proto_utils/stats.js';\n\nimport {\n    SpecRotation,\n    SpecTalents,\n    SpecTypeFunctions,\n    SpecOptions,\n    canEquipEnchant,\n    canEquipItem,\n    classColors,\n    emptyRaidTarget,\n    getEligibleEnchantSlots,\n    getEligibleItemSlots,\n    getTalentTree,\n    getTalentTreeIcon,\n    getMetaGemEffectEP,\n    isTankSpec,\n    newRaidTarget,\n    playerToSpec,\n    raceToFaction,\n    specToClass,\n    specToEligibleRaces,\n    specTypeFunctions,\n    withSpecProto,\n} from './proto_utils/utils.js';\n\nimport { Listener } from './typed_event.js';\nimport { EventID, TypedEvent } from './typed_event.js';\nimport { Party, MAX_PARTY_SIZE } from './party.js';\nimport { Raid } from './raid.js';\nimport { Sim } from './sim.js';\nimport { sum } from './utils.js';\nimport { wait } from './utils.js';\nimport { WorkerPool } from './worker_pool.js';\n\n// Manages all the gear / consumes / other settings for a single Player.\nexport class Player<SpecType extends Spec> {\n    readonly sim: Sim;\n    private party: Party | null;\n    private raid: Raid | null;\n\n    readonly spec: Spec;\n    private name: string = '';\n    private buffs: IndividualBuffs = IndividualBuffs.create();\n    private consumes: Consumes = Consumes.create();\n    private bonusStats: Stats = new Stats();\n    private gear: Gear = new Gear({});\n    private race: Race;\n    private profession1: Profession = 0;\n    private profession2: Profession = 0;\n    private shattFaction: ShattrathFaction = 0;\n    private rotation: SpecRotation<SpecType>;\n    private talentsString: string = '';\n    private glyphs: Glyphs = Glyphs.create();\n    private specOptions: SpecOptions<SpecType>;\n    private cooldowns: Cooldowns = Cooldowns.create();\n    private inFrontOfTarget: boolean = false;\n    private distanceFromTarget: number = 0;\n    private healingModel: HealingModel = HealingModel.create();\n\n    private itemEPCache: Map<number, number> = new Map<number, number>();\n    private gemEPCache: Map<number, number> = new Map<number, number>();\n    private enchantEPCache: Map<number, number> = new Map<number, number>();\n    private talents: SpecTalents<SpecType> | null = null;\n\n    readonly specTypeFunctions: SpecTypeFunctions<SpecType>;\n\n    private epWeights: Stats = new Stats();\n    private currentStats: PlayerStats = PlayerStats.create();\n\n    readonly nameChangeEmitter = new TypedEvent<void>('PlayerName');\n    readonly buffsChangeEmitter = new TypedEvent<void>('PlayerBuffs');\n    readonly consumesChangeEmitter = new TypedEvent<void>('PlayerConsumes');\n    readonly bonusStatsChangeEmitter = new TypedEvent<void>('PlayerBonusStats');\n    readonly gearChangeEmitter = new TypedEvent<void>('PlayerGear');\n    readonly professionChangeEmitter = new TypedEvent<void>('PlayerProfession');\n    readonly raceChangeEmitter = new TypedEvent<void>('PlayerRace');\n    readonly rotationChangeEmitter = new TypedEvent<void>('PlayerRotation');\n    readonly talentsChangeEmitter = new TypedEvent<void>('PlayerTalents');\n    readonly glyphsChangeEmitter = new TypedEvent<void>('PlayerGlyphs');\n    readonly specOptionsChangeEmitter = new TypedEvent<void>('PlayerSpecOptions');\n    readonly cooldownsChangeEmitter = new TypedEvent<void>('PlayerCooldowns');\n    readonly inFrontOfTargetChangeEmitter = new TypedEvent<void>('PlayerInFrontOfTarget');\n    readonly distanceFromTargetChangeEmitter = new TypedEvent<void>('PlayerDistanceFromTarget');\n    readonly healingModelChangeEmitter = new TypedEvent<void>('PlayerHealingModel');\n    readonly epWeightsChangeEmitter = new TypedEvent<void>('PlayerEpWeights');\n\n    readonly currentStatsEmitter = new TypedEvent<void>('PlayerCurrentStats');\n\n    // Emits when any of the above emitters emit.\n    readonly changeEmitter: TypedEvent<void>;\n\n    constructor(spec: Spec, sim: Sim) {\n        this.sim = sim;\n        this.party = null;\n        this.raid = null;\n\n        this.spec = spec;\n        this.race = specToEligibleRaces[this.spec][0];\n        this.specTypeFunctions = specTypeFunctions[this.spec] as SpecTypeFunctions<SpecType>;\n        this.rotation = this.specTypeFunctions.rotationCreate();\n        this.specOptions = this.specTypeFunctions.optionsCreate();\n\n        this.changeEmitter = TypedEvent.onAny([\n            this.nameChangeEmitter,\n            this.buffsChangeEmitter,\n            this.consumesChangeEmitter,\n            this.bonusStatsChangeEmitter,\n            this.gearChangeEmitter,\n            this.professionChangeEmitter,\n            this.raceChangeEmitter,\n            this.rotationChangeEmitter,\n            this.talentsChangeEmitter,\n            this.glyphsChangeEmitter,\n            this.specOptionsChangeEmitter,\n            this.cooldownsChangeEmitter,\n            this.inFrontOfTargetChangeEmitter,\n            this.distanceFromTargetChangeEmitter,\n            this.healingModelChangeEmitter,\n            this.epWeightsChangeEmitter,\n        ], 'PlayerChange');\n    }\n\n    getSpecIcon(): string {\n        return getTalentTreeIcon(this.spec, this.getTalentsString());\n    }\n\n    getClass(): Class {\n        return specToClass[this.spec];\n    }\n\n    getClassColor(): string {\n        return classColors[this.getClass()];\n    }\n\n    getParty(): Party | null {\n        return this.party;\n    }\n\n    getRaid(): Raid | null {\n        return this.raid;\n    }\n\n    // Returns this player's index within its party [0-4].\n    getPartyIndex(): number {\n        if (this.party == null) {\n            throw new Error('Can\\'t get party index for player without a party!');\n        }\n\n        return this.party.getPlayers().indexOf(this);\n    }\n\n    // Returns this player's index within its raid [0-24].\n    getRaidIndex(): number {\n        if (this.party == null) {\n            throw new Error('Can\\'t get raid index for player without a party!');\n        }\n\n        return this.party.getIndex() * MAX_PARTY_SIZE + this.getPartyIndex();\n    }\n\n    // This should only ever be called from party.\n    setParty(newParty: Party | null) {\n        if (newParty == null) {\n            this.party = null;\n            this.raid = null;\n        } else {\n            this.party = newParty;\n            this.raid = newParty.raid;\n        }\n    }\n\n    getOtherPartyMembers(): Array<Player<any>> {\n        if (this.party == null) {\n            return [];\n        }\n\n        return this.party.getPlayers().filter(player => player != null && player != this) as Array<Player<any>>;\n    }\n\n    // Returns all items that this player can wear in the given slot.\n    getItems(slot: ItemSlot | undefined): Array<Item> {\n        return this.sim.getItems(slot).filter(item => canEquipItem(item, this.spec, slot));\n    }\n\n    // Returns all enchants that this player can wear in the given slot.\n    getEnchants(slot: ItemSlot | undefined): Array<Enchant> {\n        return this.sim.getEnchants(slot).filter(enchant => canEquipEnchant(enchant, this.spec));\n    }\n\n    // Returns all gems that this player can wear of the given color.\n    getGems(socketColor?: GemColor): Array<Gem> {\n        return this.sim.getGems(socketColor);\n    }\n\n    getEpWeights(): Stats {\n        return this.epWeights;\n    }\n\n    setEpWeights(eventID: EventID, newEpWeights: Stats) {\n        this.epWeights = newEpWeights;\n        this.epWeightsChangeEmitter.emit(eventID);\n\n        this.gemEPCache = new Map();\n        this.itemEPCache = new Map();\n        this.enchantEPCache = new Map();\n    }\n\n    async computeStatWeights(eventID: EventID, epStats: Array<Stat>, epReferenceStat: Stat, onProgress: Function): Promise<StatWeightsResult> {\n        const result = await this.sim.statWeights(this, epStats, epReferenceStat, onProgress);\n        return result;\n    }\n\n    getCurrentStats(): PlayerStats {\n        return PlayerStats.clone(this.currentStats);\n    }\n\n    setCurrentStats(eventID: EventID, newStats: PlayerStats) {\n        this.currentStats = newStats;\n        this.currentStatsEmitter.emit(eventID);\n\n        //// Remove item cooldowns if there is no cooldown available for the item.\n        //const availableCooldowns = this.currentStats.cooldowns;\n        //const newCooldowns = this.getCooldowns();\n        //newCooldowns.cooldowns = newCooldowns.cooldowns.filter(cd => {\n        //\tif (cd.id && 'itemId' in cd.id.rawId) {\n        //\t\treturn availableCooldowns.find(acd => ActionIdProto.equals(acd, cd.id)) != null;\n        //\t} else {\n        //\t\treturn true;\n        //\t}\n        //});\n        //// TODO: Reference the parent event ID\n        //this.setCooldowns(TypedEvent.nextEventID(), newCooldowns);\n    }\n\n    getName(): string {\n        return this.name;\n    }\n    setName(eventID: EventID, newName: string) {\n        if (newName != this.name) {\n            this.name = newName;\n            this.nameChangeEmitter.emit(eventID);\n        }\n    }\n\n    getLabel(): string {\n        if (this.party) {\n            return `${this.name} (#${this.getRaidIndex() + 1})`;\n        } else {\n            return this.name;\n        }\n    }\n\n    getRace(): Race {\n        return this.race;\n    }\n    setRace(eventID: EventID, newRace: Race) {\n        if (newRace != this.race) {\n            this.race = newRace;\n            this.raceChangeEmitter.emit(eventID);\n        }\n    }\n\n    getProfession1(): Profession {\n        return this.profession1;\n    }\n    setProfession1(eventID: EventID, newProfession: Profession) {\n        if (newProfession != this.profession1) {\n            this.profession1 = newProfession;\n            this.professionChangeEmitter.emit(eventID);\n        }\n    }\n    getProfession2(): Profession {\n        return this.profession2;\n    }\n    setProfession2(eventID: EventID, newProfession: Profession) {\n        if (newProfession != this.profession2) {\n            this.profession2 = newProfession;\n            this.professionChangeEmitter.emit(eventID);\n        }\n    }\n    getProfessions(): Array<Profession> {\n        return [this.profession1, this.profession2].filter(p => p != Profession.ProfessionUnknown);\n    }\n    hasProfession(prof: Profession): boolean {\n        return this.getProfessions().includes(prof);\n    }\n\t\tisBlacksmithing(): boolean {\n\t\t\treturn this.hasProfession(Profession.Blacksmithing);\n\t\t}\n\n    getShattFaction(): ShattrathFaction {\n        return this.shattFaction;\n    }\n    setShattFaction(eventID: EventID, newFaction: ShattrathFaction) {\n        if (newFaction != this.shattFaction) {\n            this.shattFaction = newFaction;\n            this.raceChangeEmitter.emit(eventID);\n        }\n    }\n\n    getFaction(): Faction {\n        return raceToFaction[this.getRace()];\n    }\n\n    getBuffs(): IndividualBuffs {\n        // Make a defensive copy\n        return IndividualBuffs.clone(this.buffs);\n    }\n\n    setBuffs(eventID: EventID, newBuffs: IndividualBuffs) {\n        if (IndividualBuffs.equals(this.buffs, newBuffs))\n            return;\n\n        // Make a defensive copy\n        this.buffs = IndividualBuffs.clone(newBuffs);\n        this.buffsChangeEmitter.emit(eventID);\n    }\n\n    getConsumes(): Consumes {\n        // Make a defensive copy\n        return Consumes.clone(this.consumes);\n    }\n\n    setConsumes(eventID: EventID, newConsumes: Consumes) {\n        if (Consumes.equals(this.consumes, newConsumes))\n            return;\n\n        // Make a defensive copy\n        this.consumes = Consumes.clone(newConsumes);\n        this.consumesChangeEmitter.emit(eventID);\n    }\n\n    getCooldowns(): Cooldowns {\n        // Make a defensive copy\n        return Cooldowns.clone(this.cooldowns);\n    }\n\n    setCooldowns(eventID: EventID, newCooldowns: Cooldowns) {\n        if (Cooldowns.equals(this.cooldowns, newCooldowns))\n            return;\n\n        // Make a defensive copy\n        this.cooldowns = Cooldowns.clone(newCooldowns);\n        this.cooldownsChangeEmitter.emit(eventID);\n    }\n\n\t\tcanDualWield2H(): boolean {\n\t\t\treturn this.getClass() == Class.ClassWarrior && (this.getTalents() as SpecTalents<Spec.SpecWarrior>).titansGrip;\n\t\t}\n\n    equipItem(eventID: EventID, slot: ItemSlot, newItem: EquippedItem | null) {\n        this.setGear(eventID, this.gear.withEquippedItem(slot, newItem, this.canDualWield2H()));\n    }\n\n    getEquippedItem(slot: ItemSlot): EquippedItem | null {\n        return this.gear.getEquippedItem(slot);\n    }\n\n    getGear(): Gear {\n        return this.gear;\n    }\n\n    setGear(eventID: EventID, newGear: Gear) {\n        if (newGear.equals(this.gear))\n            return;\n\n        // Commented for now because the UI for this is weird.\n        //// If trinkets have changed and there were cooldowns assigned for those trinkets,\n        //// try to match them up and switch to the new trinkets.\n        //const newCooldowns = this.getCooldowns();\n        //const oldTrinketIds = this.gear.getTrinkets().map(trinket => trinket?.asActionIdProto() || ActionIdProto.create());\n        //const newTrinketIds = newGear.getTrinkets().map(trinket => trinket?.asActionIdProto() || ActionIdProto.create());\n\n        //for (let i = 0; i < 2; i++) {\n        //\tconst oldTrinketId = oldTrinketIds[i];\n        //\tconst newTrinketId = newTrinketIds[i];\n        //\tif (ActionIdProto.equals(oldTrinketId, ActionIdProto.create())) {\n        //\t\tcontinue;\n        //\t}\n        //\tif (ActionIdProto.equals(newTrinketId, ActionIdProto.create())) {\n        //\t\tcontinue;\n        //\t}\n        //\tif (ActionIdProto.equals(oldTrinketId, newTrinketId)) {\n        //\t\tcontinue;\n        //\t}\n        //\tnewCooldowns.cooldowns.forEach(cd => {\n        //\t\tif (ActionIdProto.equals(cd.id, oldTrinketId)) {\n        //\t\t\tcd.id = newTrinketId;\n        //\t\t}\n        //\t});\n        //}\n\n        TypedEvent.freezeAllAndDo(() => {\n            this.gear = newGear;\n            this.gearChangeEmitter.emit(eventID);\n            //this.setCooldowns(eventID, newCooldowns);\n        });\n    }\n\n    getBonusStats(): Stats {\n        return this.bonusStats;\n    }\n\n    setBonusStats(eventID: EventID, newBonusStats: Stats) {\n        if (newBonusStats.equals(this.bonusStats))\n            return;\n\n        this.bonusStats = newBonusStats;\n        this.bonusStatsChangeEmitter.emit(eventID);\n    }\n\n    getRotation(): SpecRotation<SpecType> {\n        return this.specTypeFunctions.rotationCopy(this.rotation);\n    }\n\n    setRotation(eventID: EventID, newRotation: SpecRotation<SpecType>) {\n        if (this.specTypeFunctions.rotationEquals(newRotation, this.rotation))\n            return;\n\n        this.rotation = this.specTypeFunctions.rotationCopy(newRotation);\n        this.rotationChangeEmitter.emit(eventID);\n    }\n\n    getTalents(): SpecTalents<SpecType> {\n        if (this.talents == null) {\n            this.talents = playerTalentStringToProto(this.spec, this.talentsString) as SpecTalents<SpecType>;\n        }\n        return this.talents;\n    }\n\n    getTalentsString(): string {\n        return this.talentsString;\n    }\n\n    setTalentsString(eventID: EventID, newTalentsString: string) {\n        if (newTalentsString == this.talentsString)\n            return;\n\n        this.talentsString = newTalentsString;\n        this.talents = null;\n        this.talentsChangeEmitter.emit(eventID);\n    }\n\n    getTalentTree(): number {\n        return getTalentTree(this.getTalentsString());\n    }\n\n    getTalentTreeIcon(): string {\n        return getTalentTreeIcon(this.spec, this.getTalentsString());\n    }\n\n    getGlyphs(): Glyphs {\n        // Make a defensive copy\n        return Glyphs.clone(this.glyphs);\n    }\n\n    setGlyphs(eventID: EventID, newGlyphs: Glyphs) {\n        if (Glyphs.equals(this.glyphs, newGlyphs))\n            return;\n\n        // Make a defensive copy\n        this.glyphs = Glyphs.clone(newGlyphs);\n        this.glyphsChangeEmitter.emit(eventID);\n    }\n\n    getMajorGlyphs(): Array<number> {\n        return [\n            this.glyphs.major1,\n            this.glyphs.major2,\n            this.glyphs.major3,\n        ].filter(glyph => glyph != 0);\n    }\n\n    getMinorGlyphs(): Array<number> {\n        return [\n            this.glyphs.minor1,\n            this.glyphs.minor2,\n            this.glyphs.minor3,\n        ].filter(glyph => glyph != 0);\n    }\n\n    getAllGlyphs(): Array<number> {\n        return this.getMajorGlyphs().concat(this.getMinorGlyphs());\n    }\n\n    getSpecOptions(): SpecOptions<SpecType> {\n        return this.specTypeFunctions.optionsCopy(this.specOptions);\n    }\n\n    setSpecOptions(eventID: EventID, newSpecOptions: SpecOptions<SpecType>) {\n        if (this.specTypeFunctions.optionsEquals(newSpecOptions, this.specOptions))\n            return;\n\n        this.specOptions = this.specTypeFunctions.optionsCopy(newSpecOptions);\n        this.specOptionsChangeEmitter.emit(eventID);\n    }\n\n    getInFrontOfTarget(): boolean {\n        return this.inFrontOfTarget;\n    }\n\n    setInFrontOfTarget(eventID: EventID, newInFrontOfTarget: boolean) {\n        if (newInFrontOfTarget == this.inFrontOfTarget)\n            return;\n\n        this.inFrontOfTarget = newInFrontOfTarget;\n        this.inFrontOfTargetChangeEmitter.emit(eventID);\n    }\n\n    getDistanceFromTarget(): number {\n        return this.distanceFromTarget;\n    }\n\n    setDistanceFromTarget(eventID: EventID, newDistanceFromTarget: number) {\n        if (newDistanceFromTarget == this.distanceFromTarget)\n            return;\n\n        this.distanceFromTarget = newDistanceFromTarget;\n        this.distanceFromTargetChangeEmitter.emit(eventID);\n    }\n\n    getHealingModel(): HealingModel {\n        // Make a defensive copy\n        return HealingModel.clone(this.healingModel);\n    }\n\n    setHealingModel(eventID: EventID, newHealingModel: HealingModel) {\n        if (HealingModel.equals(this.healingModel, newHealingModel))\n            return;\n\n        // Make a defensive copy\n        this.healingModel = HealingModel.clone(newHealingModel);\n        this.healingModelChangeEmitter.emit(eventID);\n    }\n\n    computeStatsEP(stats?: Stats): number {\n        if (stats == undefined) {\n            return 0;\n        }\n        return stats.computeEP(this.epWeights);\n    }\n\n    computeGemEP(gem: Gem): number {\n        if (this.gemEPCache.has(gem.id)) {\n            return this.gemEPCache.get(gem.id)!;\n        }\n\n        const epFromStats = this.computeStatsEP(new Stats(gem.stats));\n        const epFromEffect = getMetaGemEffectEP(this.spec, gem, new Stats(this.currentStats.finalStats));\n        let bonusEP = 0;\n        // unique items are slightly worse than non-unique because you can have only one.\n        if (gem.unique) {\n            bonusEP -= 0.01;\n        }\n\n        let ep = epFromStats + epFromEffect + bonusEP;\n        this.gemEPCache.set(gem.id, ep);\n        return ep;\n    }\n\n    computeEnchantEP(enchant: Enchant): number {\n        if (this.enchantEPCache.has(enchant.id)) {\n            return this.enchantEPCache.get(enchant.id)!;\n        }\n\n        let ep = this.computeStatsEP(new Stats(enchant.stats));\n        this.enchantEPCache.set(enchant.id, ep);\n        return ep\n    }\n\n    computeItemEP(item: Item): number {\n        if (item == null)\n            return 0;\n\n        if (this.itemEPCache.has(item.id)) {\n            return this.itemEPCache.get(item.id)!;\n        }\n\n        let itemStats = new Stats(item.stats);\n        if (item.weaponType != WeaponType.WeaponTypeUnknown) {\n            // Add weapon dps as attack power, so the EP is appropriate.\n            const weaponDps = getWeaponDPS(item);\n            itemStats = itemStats.addStat(Stat.StatAttackPower, this.spec == Spec.SpecFeralDruid ? 0 : weaponDps * 14);\n        } else if (![RangedWeaponType.RangedWeaponTypeUnknown, RangedWeaponType.RangedWeaponTypeThrown].includes(item.rangedWeaponType)) {\n            const weaponDps = getWeaponDPS(item);\n            itemStats = itemStats.addStat(Stat.StatRangedAttackPower, weaponDps * 14);\n        }\n        let ep = itemStats.computeEP(this.epWeights);\n\n        // unique items are slightly worse than non-unique because you can have only one.\n        if (item.unique) {\n            ep -= 0.01;\n        }\n\n        const slot = getEligibleItemSlots(item)[0];\n        const enchants = this.sim.getEnchants(slot);\n        if (enchants.length > 0) {\n            ep += Math.max(...enchants.map(enchant => this.computeEnchantEP(enchant)));\n        }\n\n        // Compare whether its better to match sockets + get socket bonus, or just use best gems.\n        const bestGemEPNotMatchingSockets = sum(item.gemSockets.map(socketColor => {\n            const gems = this.sim.getGems(socketColor).filter(gem => isUnrestrictedGem(gem, this.sim.getPhase()));\n            if (gems.length > 0) {\n                return Math.max(...gems.map(gem => this.computeGemEP(gem)));\n            } else {\n                return 0;\n            }\n        }));\n\n        const bestGemEPMatchingSockets = sum(item.gemSockets.map(socketColor => {\n            const gems = this.sim.getGems(socketColor).filter(gem => isUnrestrictedGem(gem, this.sim.getPhase()) && gemMatchesSocket(gem, socketColor));\n            if (gems.length > 0) {\n                return Math.max(...gems.map(gem => this.computeGemEP(gem)));\n            } else {\n                return 0;\n            }\n        })) + this.computeStatsEP(new Stats(item.socketBonus));\n\n        ep += Math.max(bestGemEPMatchingSockets, bestGemEPNotMatchingSockets);\n\n        this.itemEPCache.set(item.id, ep);\n        return ep;\n    }\n\n    setWowheadData(equippedItem: EquippedItem, elem: HTMLElement) {\n        let parts = [];\n        if (equippedItem.gems.length > 0) {\n            parts.push('gems=' + equippedItem.gems.map(gem => gem ? gem.id : 0).join(':'));\n        }\n        if (equippedItem.enchant != null) {\n            parts.push('ench=' + equippedItem.enchant.effectId);\n        }\n        parts.push('pcs=' + this.gear.asArray().filter(ei => ei != null).map(ei => ei!.item.id).join(':'));\n\n        if (equippedItem.hasExtraSocket(this.hasProfession(Profession.Blacksmithing))) {\n            parts.push('sock');\n        }\n\n        elem.setAttribute('data-wowhead', parts.join('&'));\n    }\n\n    makeRaidTarget(): RaidTarget {\n        if (this.party == null) {\n            return emptyRaidTarget();\n        } else {\n            return newRaidTarget(this.getRaidIndex());\n        }\n    }\n\n    toProto(forExport?: boolean): PlayerProto {\n        return withSpecProto(\n            this.spec,\n            PlayerProto.create({\n                name: this.getName(),\n                race: this.getRace(),\n                shattFaction: this.getShattFaction(),\n                class: this.getClass(),\n                equipment: this.getGear().asSpec(),\n                consumes: this.getConsumes(),\n                bonusStats: this.getBonusStats().asArray(),\n                buffs: this.getBuffs(),\n                cooldowns: this.getCooldowns(),\n                talentsString: this.getTalentsString(),\n                glyphs: this.getGlyphs(),\n                profession1: this.getProfession1(),\n                profession2: this.getProfession2(),\n                inFrontOfTarget: this.getInFrontOfTarget(),\n                distanceFromTarget: this.getDistanceFromTarget(),\n                healingModel: this.getHealingModel(),\n            }),\n            this.getRotation(),\n            forExport ? this.specTypeFunctions.talentsCreate() : this.getTalents(),\n            this.getSpecOptions());\n    }\n\n    fromProto(eventID: EventID, proto: PlayerProto) {\n        TypedEvent.freezeAllAndDo(() => {\n            this.setName(eventID, proto.name);\n            this.setRace(eventID, proto.race);\n            this.setShattFaction(eventID, proto.shattFaction);\n            this.setGear(eventID, proto.equipment ? this.sim.lookupEquipmentSpec(proto.equipment) : new Gear({}));\n            this.setConsumes(eventID, proto.consumes || Consumes.create());\n            this.setBonusStats(eventID, new Stats(proto.bonusStats));\n            this.setBuffs(eventID, proto.buffs || IndividualBuffs.create());\n            this.setCooldowns(eventID, proto.cooldowns || Cooldowns.create());\n            this.setTalentsString(eventID, proto.talentsString);\n            this.setGlyphs(eventID, proto.glyphs || Glyphs.create());\n            this.setProfession1(eventID, proto.profession1);\n            this.setProfession2(eventID, proto.profession2);\n            this.setInFrontOfTarget(eventID, proto.inFrontOfTarget);\n            this.setDistanceFromTarget(eventID, proto.distanceFromTarget);\n            this.setHealingModel(eventID, proto.healingModel || HealingModel.create());\n            this.setRotation(eventID, this.specTypeFunctions.rotationFromPlayer(proto));\n            this.setSpecOptions(eventID, this.specTypeFunctions.optionsFromPlayer(proto));\n        });\n    }\n\n    clone(eventID: EventID): Player<SpecType> {\n        const newPlayer = new Player<SpecType>(this.spec, this.sim);\n        newPlayer.fromProto(eventID, this.toProto());\n        return newPlayer;\n    }\n\n    applySharedDefaults(eventID: EventID) {\n        TypedEvent.freezeAllAndDo(() => {\n            this.setShattFaction(eventID, ShattrathFaction.ShattrathFactionAldor);\n            this.setInFrontOfTarget(eventID, isTankSpec(this.spec));\n            this.setHealingModel(eventID, HealingModel.create());\n            this.setCooldowns(eventID, Cooldowns.create({\n                hpPercentForDefensives: isTankSpec(this.spec) ? 0.35 : 0,\n            }));\n            this.setBonusStats(eventID, new Stats());\n        });\n    }\n\n    static applySharedDefaultsToProto(proto: PlayerProto) {\n        const spec = playerToSpec(proto);\n        proto.shattFaction = ShattrathFaction.ShattrathFactionAldor;\n        proto.inFrontOfTarget = isTankSpec(spec);\n        proto.healingModel = HealingModel.create();\n        proto.cooldowns = Cooldowns.create({\n            hpPercentForDefensives: isTankSpec(spec) ? 0.35 : 0,\n        });\n        proto.bonusStats = new Stats().asArray();\n    }\n}\n","import { Party as PartyProto } from './proto/api.js';\nimport { PartyStats as PartyStatsProto } from './proto/api.js';\nimport { Player as PlayerProto } from './proto/api.js';\nimport { PartyBuffs } from './proto/common.js';\nimport { Class } from './proto/common.js';\nimport { Spec } from './proto/common.js';\nimport { playerToSpec } from './proto_utils/utils.js';\n\nimport { Raid } from './raid.js';\nimport { Player } from './player.js';\nimport { EventID, TypedEvent } from './typed_event.js';\nimport { Sim } from './sim.js';\n\nexport const MAX_PARTY_SIZE = 5;\n\n// Manages all the settings for a single Party.\nexport class Party {\n    readonly sim: Sim;\n    readonly raid: Raid;\n\n    private buffs: PartyBuffs = PartyBuffs.create();\n\n    // Emits when a party member is added/removed/moved.\n    readonly compChangeEmitter = new TypedEvent<void>();\n\n    readonly buffsChangeEmitter = new TypedEvent<void>();\n\n    // Emits when anything in the party changes.\n    readonly changeEmitter: TypedEvent<void>;\n\n    // Should always hold exactly MAX_PARTY_SIZE elements.\n    private players: Array<Player<any> | null>;\n\n    private readonly playerChangeListener: (eventID: EventID) => void;\n\n    constructor(raid: Raid, sim: Sim) {\n        this.sim = sim;\n        this.raid = raid;\n        this.players = [...Array(MAX_PARTY_SIZE).keys()].map(i => null);\n        this.playerChangeListener = eventID => this.changeEmitter.emit(eventID);\n\n        this.changeEmitter = TypedEvent.onAny([\n            this.compChangeEmitter,\n            this.buffsChangeEmitter,\n        ], 'PartyChange');\n    }\n\n    size(): number {\n        return this.players.filter(player => player != null).length;\n    }\n\n    isEmpty(): boolean {\n        return this.size() == 0;\n    }\n\n    clear(eventID: EventID) {\n        this.setBuffs(eventID, PartyBuffs.create());\n        for (let i = 0; i < MAX_PARTY_SIZE; i++) {\n            this.setPlayer(eventID, i, null);\n        }\n    }\n\n    // Returns this party's index within the raid [0-4].\n    getIndex(): number {\n        return this.raid.getParties().indexOf(this);\n    }\n\n    getPlayers(): Array<Player<any> | null> {\n        // Make defensive copy.\n        return this.players.slice();\n    }\n\n    getPlayer(playerIndex: number): Player<any> | null {\n        return this.players[playerIndex];\n    }\n\n    setPlayer(eventID: EventID, playerIndex: number, newPlayer: Player<any> | null) {\n        if (playerIndex < 0 || playerIndex >= MAX_PARTY_SIZE) {\n            throw new Error('Invalid player index: ' + playerIndex);\n        }\n\n        if (newPlayer == this.players[playerIndex]) {\n            return;\n        }\n\n        TypedEvent.freezeAllAndDo(() => {\n            const oldPlayer = this.players[playerIndex];\n            if (oldPlayer != null) {\n                oldPlayer.changeEmitter.off(this.playerChangeListener);\n                oldPlayer.setParty(null);\n            }\n            if (newPlayer != null) {\n                const newPlayerOldParty = newPlayer.getParty();\n                if (newPlayerOldParty) {\n                    newPlayerOldParty.setPlayer(eventID, newPlayer.getPartyIndex(), null);\n                }\n                this.players[playerIndex] = newPlayer;\n                newPlayer.changeEmitter.on(this.playerChangeListener);\n                newPlayer.setParty(this);\n            } else {\n                this.players[playerIndex] = null;\n            }\n\n            this.compChangeEmitter.emit(eventID);\n        });\n    }\n\n    getBuffs(): PartyBuffs {\n        // Make a defensive copy\n        return PartyBuffs.clone(this.buffs);\n    }\n\n    setBuffs(eventID: EventID, newBuffs: PartyBuffs) {\n        if (PartyBuffs.equals(this.buffs, newBuffs))\n            return;\n\n        // Make a defensive copy\n        this.buffs = PartyBuffs.clone(newBuffs);\n        this.buffsChangeEmitter.emit(eventID);\n    }\n\n    toProto(forExport?: boolean): PartyProto {\n        return PartyProto.create({\n            players: this.players.map(player => player == null ? PlayerProto.create() : player.toProto(forExport)),\n            buffs: this.buffs,\n        });\n    }\n\n    fromProto(eventID: EventID, proto: PartyProto) {\n        TypedEvent.freezeAllAndDo(() => {\n            this.setBuffs(eventID, proto.buffs || PartyBuffs.create());\n\n            for (let i = 0; i < MAX_PARTY_SIZE; i++) {\n                if (!proto.players[i] || proto.players[i].class == Class.ClassUnknown) {\n                    this.setPlayer(eventID, i, null);\n                    continue;\n                }\n\n                const playerProto = proto.players[i];\n                const spec = playerToSpec(playerProto);\n                const currentPlayer = this.players[i];\n\n                // Reuse the current player if possible, so that event handlers are preserved.\n                if (currentPlayer && spec == currentPlayer.spec) {\n                    currentPlayer.fromProto(eventID, playerProto);\n                } else {\n                    const newPlayer = new Player(spec, this.sim);\n                    newPlayer.fromProto(eventID, playerProto);\n                    this.setPlayer(eventID, i, newPlayer);\n                }\n            }\n        });\n    }\n}\n","import { Class } from './proto/common.js';\nimport { Debuffs } from './proto/common.js';\nimport { RaidTarget } from './proto/common.js';\nimport { Raid as RaidProto } from './proto/api.js';\nimport { RaidStats as RaidStatsProto } from './proto/api.js';\nimport { RaidBuffs } from './proto/common.js';\nimport { Spec } from './proto/common.js';\nimport { NO_TARGET } from './proto_utils/utils.js';\n\nimport { Party, MAX_PARTY_SIZE } from './party.js';\nimport { Player } from './player.js';\nimport { EventID, TypedEvent } from './typed_event.js';\nimport { Sim } from './sim.js';\nimport { sum } from './utils.js';\n\nexport const MAX_NUM_PARTIES = 5;\n\n// Manages all the settings for a single Raid.\nexport class Raid {\n    private buffs: RaidBuffs = RaidBuffs.create();\n    private debuffs: Debuffs = Debuffs.create();\n    private tanks: Array<RaidTarget> = [];\n\n    // Emits when a raid member is added/removed/moved.\n    readonly compChangeEmitter = new TypedEvent<void>();\n\n    readonly buffsChangeEmitter = new TypedEvent<void>();\n    readonly debuffsChangeEmitter = new TypedEvent<void>();\n    readonly tanksChangeEmitter = new TypedEvent<void>();\n\n    // Emits when anything in the raid changes.\n    readonly changeEmitter: TypedEvent<void>;\n\n    // Should always hold exactly MAX_NUM_PARTIES elements.\n    private parties: Array<Party>;\n\n    readonly sim: Sim;\n\n    constructor(sim: Sim) {\n        this.sim = sim;\n\n        this.parties = [...Array(MAX_NUM_PARTIES).keys()].map(i => {\n            const newParty = new Party(this, sim);\n            newParty.compChangeEmitter.on(eventID => this.compChangeEmitter.emit(eventID));\n            newParty.changeEmitter.on(eventID => this.changeEmitter.emit(eventID));\n            return newParty;\n        });\n\n        this.changeEmitter = TypedEvent.onAny([\n            this.compChangeEmitter,\n            this.buffsChangeEmitter,\n            this.debuffsChangeEmitter,\n            this.tanksChangeEmitter,\n        ], 'RaidChange');\n    }\n\n    size(): number {\n        return sum(this.parties.map(party => party.size()));\n    }\n\n    isEmpty(): boolean {\n        return this.size() == 0;\n    }\n\n    getParties(): Array<Party> {\n        // Make defensive copy.\n        return this.parties.slice();\n    }\n\n    getParty(index: number): Party {\n        return this.parties[index];\n    }\n\n    getPlayers(): Array<Player<any> | null> {\n        return this.parties.map(party => party.getPlayers()).flat();\n    }\n\n    getPlayer(index: number): Player<any> | null {\n        const party = this.parties[Math.floor(index / MAX_PARTY_SIZE)];\n        return party.getPlayer(index % MAX_PARTY_SIZE);\n    }\n\n    getPlayerFromRaidTarget(raidTarget: RaidTarget): Player<any> | null {\n        if (raidTarget.targetIndex == NO_TARGET) {\n            return null;\n        } else {\n            return this.getPlayer(raidTarget.targetIndex);\n        }\n    }\n\n    setPlayer(eventID: EventID, index: number, newPlayer: Player<any> | null) {\n        const party = this.parties[Math.floor(index / MAX_PARTY_SIZE)];\n        party.setPlayer(eventID, index % MAX_PARTY_SIZE, newPlayer);\n    }\n\n    getClassCount(playerClass: Class) {\n        return this.getPlayers().filter(player => player != null && player.getClass() == playerClass).length;\n    }\n\n    getBuffs(): RaidBuffs {\n        // Make a defensive copy\n        return RaidBuffs.clone(this.buffs);\n    }\n\n    setBuffs(eventID: EventID, newBuffs: RaidBuffs) {\n        if (RaidBuffs.equals(this.buffs, newBuffs))\n            return;\n\n\t\t// Make a defensive copy\n\t\tthis.buffs = RaidBuffs.clone(newBuffs);\n\n\t\t// Special handle ToW since it crosses buffs/debuffs.\n\t\tif (this.debuffs.totemOfWrath != this.buffs.totemOfWrath) {\n\t\t\tvar newDebuff = Debuffs.clone(this.debuffs);\n\t\t\tnewDebuff.totemOfWrath = this.buffs.totemOfWrath;\n\t\t\tthis.setDebuffs(eventID, newDebuff);\n\t\t}\n\t\tthis.buffsChangeEmitter.emit(eventID);\n\t}\n\n    getDebuffs(): Debuffs {\n        // Make a defensive copy\n        return Debuffs.clone(this.debuffs);\n    }\n\n    setDebuffs(eventID: EventID, newDebuffs: Debuffs) {\n        if (Debuffs.equals(this.debuffs, newDebuffs))\n            return;\n\n\t\t// Make a defensive copy\n\t\tthis.debuffs = Debuffs.clone(newDebuffs);\n\t\t\n\t\t// Special handle ToW since it crosses buffs/debuffs.\n\t\tif (this.debuffs.totemOfWrath != this.buffs.totemOfWrath) {\n\t\t\tvar newBuffs = RaidBuffs.clone(this.buffs);\n\t\t\tnewBuffs.totemOfWrath = this.debuffs.totemOfWrath;\n\t\t\tthis.setBuffs(eventID, newBuffs);\n\t\t}\n\t\tthis.debuffsChangeEmitter.emit(eventID);\n\t}\n\n    getTanks(): Array<RaidTarget> {\n        // Make a defensive copy\n        return this.tanks.map(tank => RaidTarget.clone(tank));\n    }\n\n    setTanks(eventID: EventID, newTanks: Array<RaidTarget>) {\n        if (this.tanks.length == newTanks.length && this.tanks.every((tank, i) => RaidTarget.equals(tank, newTanks[i])))\n            return;\n\n        // Make a defensive copy\n        this.tanks = newTanks.map(tank => RaidTarget.clone(tank));\n        this.tanksChangeEmitter.emit(eventID);\n    }\n\n    toProto(forExport?: boolean): RaidProto {\n        return RaidProto.create({\n            parties: this.parties.map(party => party.toProto(forExport)),\n            buffs: this.getBuffs(),\n            debuffs: this.getDebuffs(),\n            tanks: this.getTanks(),\n        });\n    }\n\n    fromProto(eventID: EventID, proto: RaidProto) {\n        TypedEvent.freezeAllAndDo(() => {\n            this.setBuffs(eventID, proto.buffs || RaidBuffs.create());\n            this.setDebuffs(eventID, proto.debuffs || Debuffs.create());\n            this.setTanks(eventID, proto.tanks);\n\n            for (let i = 0; i < MAX_NUM_PARTIES; i++) {\n                if (proto.parties[i]) {\n                    this.parties[i].fromProto(eventID, proto.parties[i]);\n                } else {\n                    this.parties[i].clear(eventID);\n                }\n            }\n        });\n    }\n\n    clear(eventID: EventID) {\n        TypedEvent.freezeAllAndDo(() => {\n            for (let i = 0; i < MAX_NUM_PARTIES; i++) {\n                this.parties[i].clear(eventID);\n            }\n        });\n    }\n}\n","import { REPO_NAME } from './constants/other.js'\nimport { Enchant } from './proto/common.js';\nimport { Gem } from './proto/common.js';\nimport { GemColor } from './proto/common.js';\nimport { Item } from './proto/common.js';\nimport { ItemQuality } from './proto/common.js';\nimport { ItemSlot } from './proto/common.js';\nimport { ItemSpec } from './proto/common.js';\nimport { ItemType } from './proto/common.js';\nimport { Stat } from './proto/common.js';\n\nimport { ComputeStatsRequest, ComputeStatsResult } from './proto/api.js';\nimport { GearListRequest, GearListResult } from './proto/api.js';\nimport { RaidSimRequest, RaidSimResult, ProgressMetrics } from './proto/api.js';\nimport { StatWeightsRequest, StatWeightsResult } from './proto/api.js';\n\nimport { wait } from './utils.js';\n\nconst SIM_WORKER_URL = `/${REPO_NAME}/sim_worker.js`;\n\nexport class WorkerPool {\n    private workers: Array<SimWorker>;\n\n    constructor(numWorkers: number) {\n        this.workers = [];\n        for (let i = 0; i < numWorkers; i++) {\n            this.workers.push(new SimWorker());\n        }\n    }\n\n    private getLeastBusyWorker(): SimWorker {\n        return this.workers.reduce(\n            (curMinWorker, nextWorker) => curMinWorker.numTasksRunning < nextWorker.numTasksRunning ?\n                curMinWorker : nextWorker);\n    }\n\n    async makeApiCall(requestName: string, request: Uint8Array): Promise<Uint8Array> {\n        return await this.getLeastBusyWorker().doApiCall(requestName, request, \"\");\n    }\n\n    async getGearList(request: GearListRequest): Promise<GearListResult> {\n        const result = await this.makeApiCall('gearList', GearListRequest.toBinary(request));\n        return GearListResult.fromBinary(result);\n    }\n\n    async computeStats(request: ComputeStatsRequest): Promise<ComputeStatsResult> {\n        const result = await this.makeApiCall('computeStats', ComputeStatsRequest.toBinary(request));\n        return ComputeStatsResult.fromBinary(result);\n    }\n\n    async statWeightsAsync(request: StatWeightsRequest, onProgress: Function): Promise<StatWeightsResult> {\n        console.log('Stat weights request: ' + StatWeightsRequest.toJsonString(request));\n        const worker = this.getLeastBusyWorker();\n        const id = worker.makeTaskId();\n        // Add handler for the progress events\n        worker.addPromiseFunc(id + \"progress\", this.newProgressHandler(id, worker, onProgress), (err) => { })\n\n        // Now start the async sim\n        const resultData = await worker.doApiCall('statWeightsAsync', StatWeightsRequest.toBinary(request), id);\n        const result = ProgressMetrics.fromBinary(resultData)\n        console.log('Stat weights result: ' + StatWeightsResult.toJsonString(result.finalWeightResult!));\n        return result.finalWeightResult!;\n    }\n\n    async raidSimAsync(request: RaidSimRequest, onProgress: Function): Promise<RaidSimResult> {\n        console.log('Raid sim request: ' + RaidSimRequest.toJsonString(request));\n        const worker = this.getLeastBusyWorker();\n        const id = worker.makeTaskId();\n        // Add handler for the progress events\n        worker.addPromiseFunc(id + \"progress\", this.newProgressHandler(id, worker, onProgress), (err) => { })\n\n        // Now start the async sim\n        const resultData = await worker.doApiCall('raidSimAsync', RaidSimRequest.toBinary(request), id);\n        const result = ProgressMetrics.fromBinary(resultData)\n\n        // Don't print the logs because it just clogs the console.\n        const resultJson = RaidSimResult.toJson(result.finalRaidResult!) as any;\n        delete resultJson!['logs'];\n        console.log('Raid sim result: ' + JSON.stringify(resultJson));\n        return result.finalRaidResult!;\n    }\n\n    newProgressHandler(id: string, worker: SimWorker, onProgress: Function): (progressData: any) => void {\n        return (progressData: any) => {\n            var progress = ProgressMetrics.fromBinary(progressData);\n            onProgress(progress);\n            // If we are done, stop adding the handler.\n            if (progress.finalRaidResult != null || progress.finalWeightResult != null) {\n                return;\n            }\n\n            worker.addPromiseFunc(id + \"progress\", this.newProgressHandler(id, worker, onProgress), (err) => { });\n        };\n    }\n}\n\nclass SimWorker {\n    numTasksRunning: number;\n    private taskIdsToPromiseFuncs: Record<string, [(result: any) => void, (error: any) => void]>;\n    private worker: Worker;\n    private onReady: Promise<void>;\n\n    constructor() {\n        this.numTasksRunning = 0;\n        this.taskIdsToPromiseFuncs = {};\n        this.worker = new window.Worker(SIM_WORKER_URL);\n\n        let resolveReady: (() => void) | null = null;\n        this.onReady = new Promise((_resolve, _reject) => {\n            resolveReady = _resolve;\n        });\n\n        this.worker.onmessage = event => {\n            if (event.data.msg == 'ready') {\n                this.worker.postMessage({ msg: 'setID', id: '1' });\n                resolveReady!();\n            } else if (event.data.msg == 'idconfirm') {\n                // Do nothing\n            } else {\n                const id = event.data.id;\n                if (!this.taskIdsToPromiseFuncs[id]) {\n                    console.warn('Unrecognized result id: ' + id);\n                    return;\n                }\n\n                const promiseFuncs = this.taskIdsToPromiseFuncs[id];\n                delete this.taskIdsToPromiseFuncs[id];\n                this.numTasksRunning--;\n\n                promiseFuncs[0](event.data.outputData);\n            }\n        };\n    }\n\n    addPromiseFunc(id: string, callback: (result: any) => void, onError: (error: any) => void) {\n        this.taskIdsToPromiseFuncs[id] = [callback, onError];\n    }\n\n    makeTaskId(): string {\n        let id = '';\n        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        for (let i = 0; i < 16; i++) {\n            id += characters.charAt(Math.floor(Math.random() * characters.length));\n        }\n        return id;\n    }\n\n    async doApiCall(requestName: string, request: Uint8Array, id: string): Promise<Uint8Array> {\n        this.numTasksRunning++;\n        await this.onReady;\n\n        const taskPromise = new Promise<Uint8Array>((resolve, reject) => {\n            if (!id) {\n                id = this.makeTaskId();\n            }\n            this.taskIdsToPromiseFuncs[id] = [resolve, reject];\n\n            this.worker.postMessage({\n                msg: requestName,\n                id: id,\n                inputData: request,\n            });\n        });\n        return await taskPromise;\n    }\n}\n","import { Class, Faction } from './proto/common.js';\nimport { Consumes } from './proto/common.js';\nimport { Enchant } from './proto/common.js';\nimport { Encounter as EncounterProto } from './proto/common.js';\nimport { EquipmentSpec } from './proto/common.js';\nimport { Gem } from './proto/common.js';\nimport { GemColor } from './proto/common.js';\nimport { ItemQuality } from './proto/common.js';\nimport { ItemSlot } from './proto/common.js';\nimport { ItemSpec } from './proto/common.js';\nimport { ItemType } from './proto/common.js';\nimport { Item } from './proto/common.js';\nimport { Profession } from './proto/common.js';\nimport { Race } from './proto/common.js';\nimport { RaidTarget } from './proto/common.js';\nimport { Spec } from './proto/common.js';\nimport { Stat } from './proto/common.js';\nimport { Raid as RaidProto } from './proto/api.js';\nimport { PresetEncounter, PresetTarget } from './proto/api.js';\nimport { ComputeStatsRequest, ComputeStatsResult } from './proto/api.js';\nimport { GearListRequest, GearListResult } from './proto/api.js';\nimport { RaidSimRequest, RaidSimResult } from './proto/api.js';\nimport { SimOptions } from './proto/api.js';\nimport { StatWeightsRequest, StatWeightsResult } from './proto/api.js';\nimport { SimSettings as SimSettingsProto } from './proto/ui.js';\n\nimport { EquippedItem } from './proto_utils/equipped_item.js';\nimport { Gear } from './proto_utils/gear.js';\nimport { SimResult } from './proto_utils/sim_result.js';\nimport { Stats } from './proto_utils/stats.js';\nimport { gemEligibleForSocket } from './proto_utils/gems.js';\nimport { gemMatchesSocket } from './proto_utils/gems.js';\nimport { SpecRotation } from './proto_utils/utils.js';\nimport { SpecTalents } from './proto_utils/utils.js';\nimport { SpecTypeFunctions } from './proto_utils/utils.js';\nimport { specTypeFunctions } from './proto_utils/utils.js';\nimport { SpecOptions } from './proto_utils/utils.js';\nimport { specToClass } from './proto_utils/utils.js';\nimport { specToEligibleRaces } from './proto_utils/utils.js';\nimport { getEligibleItemSlots } from './proto_utils/utils.js';\nimport { getEligibleEnchantSlots } from './proto_utils/utils.js';\nimport { playerToSpec } from './proto_utils/utils.js';\n\nimport { Encounter } from './encounter.js';\nimport { Player } from './player.js';\nimport { Raid } from './raid.js';\nimport { Listener } from './typed_event.js';\nimport { EventID, TypedEvent } from './typed_event.js';\nimport { sum } from './utils.js';\nimport { wait } from './utils.js';\nimport { WorkerPool } from './worker_pool.js';\n\nimport * as OtherConstants from './constants/other.js';\n\nexport type RaidSimData = {\n    request: RaidSimRequest,\n    result: RaidSimResult,\n};\n\nexport type StatWeightsData = {\n    request: StatWeightsRequest,\n    result: StatWeightsResult,\n};\n\n// Core Sim module which deals only with api types, no UI-related stuff.\nexport class Sim {\n\tprivate readonly workerPool: WorkerPool;\n\n\tprivate iterations: number = 3000;\n\tprivate phase: number = OtherConstants.CURRENT_PHASE;\n\tprivate faction: Faction = Faction.Alliance;\n\tprivate fixedRngSeed: number = 0;\n\tprivate show1hWeapons: boolean = true;\n\tprivate show2hWeapons: boolean = true;\n\tprivate showMatchingGems: boolean = true;\n\tprivate showThreatMetrics: boolean = false;\n\tprivate showExperimental: boolean = false;\n\n\treadonly raid: Raid;\n\treadonly encounter: Encounter;\n\n\t// Database\n\tprivate items: Record<number, Item> = {};\n\tprivate enchants: Enchant[] = [];\n\tprivate gems: Record<number, Gem> = {};\n\tprivate presetEncounters: Record<string, PresetEncounter> = {};\n\tprivate presetTargets: Record<string, PresetTarget> = {};\n\n\treadonly iterationsChangeEmitter = new TypedEvent<void>();\n\treadonly phaseChangeEmitter = new TypedEvent<void>();\n\treadonly factionChangeEmitter = new TypedEvent<void>();\n\treadonly fixedRngSeedChangeEmitter = new TypedEvent<void>();\n\treadonly lastUsedRngSeedChangeEmitter = new TypedEvent<void>();\n\treadonly show1hWeaponsChangeEmitter = new TypedEvent<void>();\n\treadonly show2hWeaponsChangeEmitter = new TypedEvent<void>();\n\treadonly showMatchingGemsChangeEmitter = new TypedEvent<void>();\n\treadonly showThreatMetricsChangeEmitter = new TypedEvent<void>();\n\treadonly showExperimentalChangeEmitter = new TypedEvent<void>();\n\treadonly crashEmitter = new TypedEvent<SimError>();\n\n\t// Emits when any of the settings change (but not the raid / encounter).\n\treadonly settingsChangeEmitter: TypedEvent<void>;\n\n\t// Emits when any of the above emitters emit.\n\treadonly changeEmitter: TypedEvent<void>;\n\n\t// Fires when a raid sim API call completes.\n\treadonly simResultEmitter = new TypedEvent<SimResult>();\n\n\tprivate readonly _initPromise: Promise<void>;\n\tprivate lastUsedRngSeed: number = 0;\n\n\t// These callbacks are needed so we can apply BuffBot modifications automatically before sending requests.\n\tprivate modifyRaidProto: ((raidProto: RaidProto) => void) = () => { };\n\n\tconstructor() {\n\t\tthis.workerPool = new WorkerPool(3);\n\n\t\tthis._initPromise = this.workerPool.getGearList(GearListRequest.create()).then(result => {\n\t\t\tresult.items.forEach(item => this.items[item.id] = item);\n\t\t\t// result.enchants.forEach(enchant => this.enchants[enchant.id] = enchant);\n\t\t\tthis.enchants = result.enchants;\n\t\t\tresult.gems.forEach(gem => this.gems[gem.id] = gem);\n\t\t\tresult.encounters.forEach(encounter => this.presetEncounters[encounter.path] = encounter);\n\t\t\tresult.encounters.map(e => e.targets).flat().forEach(target => this.presetTargets[target.path] = target);\n\t\t});\n\n\t\tthis.raid = new Raid(this);\n\t\tthis.encounter = new Encounter(this);\n\n\t\tthis.settingsChangeEmitter = TypedEvent.onAny([\n\t\t\tthis.iterationsChangeEmitter,\n\t\t\tthis.phaseChangeEmitter,\n\t\t\tthis.fixedRngSeedChangeEmitter,\n\t\t\tthis.show1hWeaponsChangeEmitter,\n\t\t\tthis.show2hWeaponsChangeEmitter,\n\t\t\tthis.showMatchingGemsChangeEmitter,\n\t\t\tthis.showThreatMetricsChangeEmitter,\n\t\t\tthis.showExperimentalChangeEmitter,\n\t\t]);\n\n\t\tthis.changeEmitter = TypedEvent.onAny([\n\t\t\tthis.settingsChangeEmitter,\n\t\t\tthis.raid.changeEmitter,\n\t\t\tthis.encounter.changeEmitter,\n\t\t]);\n\n\t\tthis.raid.changeEmitter.on(eventID => this.updateCharacterStats(eventID));\n\t}\n\n\twaitForInit(): Promise<void> {\n\t\treturn this._initPromise;\n\t}\n\n\tsetModifyRaidProto(newModFn: (raidProto: RaidProto) => void) {\n\t\tthis.modifyRaidProto = newModFn;\n\t}\n\tgetModifiedRaidProto(): RaidProto {\n\t\tconst raidProto = this.raid.toProto();\n\t\tthis.modifyRaidProto(raidProto);\n\n\t\t// Remove any inactive meta gems, since the backend doesn't have its own validation.\n\t\traidProto.parties.forEach(party => {\n\t\t\tparty.players.forEach(player => {\n\t\t\t\tif (!player.equipment) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet gear = this.lookupEquipmentSpec(player.equipment);\n\t\t\t\tlet gearChanged = false;\n\n\t\t\t\tconst isBlacksmith = [player.profession1, player.profession2].includes(Profession.Blacksmithing);\n\n\t\t\t\t// Disable meta gem if inactive.\n\t\t\t\tif (gear.hasInactiveMetaGem(isBlacksmith)) {\n\t\t\t\t\tgear = gear.withoutMetaGem();\n\t\t\t\t\tgearChanged = true;\n\t\t\t\t}\n\n\t\t\t\t// Remove bonus sockets if not blacksmith.\n\t\t\t\tif (!isBlacksmith) {\n\t\t\t\t\tgear = gear.withoutBlacksmithSockets();\n\t\t\t\t\tgearChanged = true;\n\t\t\t\t}\n\n\t\t\t\tif (gearChanged) {\n\t\t\t\t\tplayer.equipment = gear.asSpec();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn raidProto;\n\t}\n\n\tprivate makeRaidSimRequest(debug: boolean): RaidSimRequest {\n\t\tconst raid = this.getModifiedRaidProto();\n\t\tconst encounter = this.encounter.toProto();\n\n\t\t// TODO: remove any replenishment from sim request here? probably makes more sense to do it inside the sim to protect against accidents\n\n\t\treturn RaidSimRequest.create({\n\t\t\traid: raid,\n\t\t\tencounter: encounter,\n\t\t\tsimOptions: SimOptions.create({\n\t\t\t\titerations: debug ? 1 : this.getIterations(),\n\t\t\t\trandomSeed: BigInt(this.nextRngSeed()),\n\t\t\t\tdebugFirstIteration: true,\n\t\t\t}),\n\t\t});\n\t}\n\n\tasync runRaidSim(eventID: EventID, onProgress: Function) {\n\t\tif (this.raid.isEmpty()) {\n\t\t\tthrow new Error('Raid is empty! Try adding some players first.');\n\t\t} else if (this.encounter.getNumTargets() < 1) {\n\t\t\tthrow new Error('Encounter has no targets! Try adding some targets first.');\n\t\t}\n\n\t\tawait this.waitForInit();\n\n\t\tconst request = this.makeRaidSimRequest(false);\n\n\t\tvar result = await this.workerPool.raidSimAsync(request, onProgress);\n\t\tif (result.errorResult != \"\") {\n\t\t\tthrow new SimError(result.errorResult);\n\t\t}\n\t\tconst simResult = await SimResult.makeNew(request, result);\n\t\tthis.simResultEmitter.emit(eventID, simResult);\n\t}\n\n\tasync runRaidSimWithLogs(eventID: EventID): Promise<SimResult> {\n\t\tif (this.raid.isEmpty()) {\n\t\t\tthrow new Error('Raid is empty! Try adding some players first.');\n\t\t} else if (this.encounter.getNumTargets() < 1) {\n\t\t\tthrow new Error('Encounter has no targets! Try adding some targets first.');\n\t\t}\n\n\t\tawait this.waitForInit();\n\n\t\tconst request = this.makeRaidSimRequest(true);\n\t\tconst result = await this.workerPool.raidSimAsync(request, () => { });\n\t\tif (result.errorResult != \"\") {\n\t\t\tthrow new SimError(result.errorResult);\n\t\t}\n\t\tconst simResult = await SimResult.makeNew(request, result);\n\t\tthis.simResultEmitter.emit(eventID, simResult);\n\t\treturn simResult;\n\t}\n\n\t// This should be invoked internally whenever stats might have changed.\n\tprivate async updateCharacterStats(eventID: EventID) {\n\t\tif (eventID == 0) {\n\t\t\t// Skip the first event ID because it interferes with the loaded stats.\n\t\t\treturn;\n\t\t}\n\t\teventID = TypedEvent.nextEventID();\n\n\t\tawait this.waitForInit();\n\n\t\t// Capture the current players so we avoid issues if something changes while\n\t\t// request is in-flight.\n\t\tconst players = this.raid.getPlayers();\n\n\t\tconst req = ComputeStatsRequest.create({ raid: this.getModifiedRaidProto() });\n\t\tconst result = await this.workerPool.computeStats(req);\n\n\t\tif (result.errorResult != \"\") {\n\t\t\tthis.crashEmitter.emit(eventID, new SimError(result.errorResult));\n\t\t\treturn;\n\t\t}\n\n\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\tresult.raidStats!.parties\n\t\t\t\t.forEach((partyStats, partyIndex) =>\n\t\t\t\t\tpartyStats.players.forEach((playerStats, playerIndex) =>\n\t\t\t\t\t\tplayers[partyIndex * 5 + playerIndex]?.setCurrentStats(eventID, playerStats)));\n\t\t});\n\t}\n\n\tasync statWeights(player: Player<any>, epStats: Array<Stat>, epReferenceStat: Stat, onProgress: Function): Promise<StatWeightsResult> {\n\t\tif (this.raid.isEmpty()) {\n\t\t\tthrow new Error('Raid is empty! Try adding some players first.');\n\t\t} else if (this.encounter.getNumTargets() < 1) {\n\t\t\tthrow new Error('Encounter has no targets! Try adding some targets first.');\n\t\t}\n\n\t\tawait this.waitForInit();\n\n\t\tif (player.getParty() == null) {\n\t\t\tconsole.warn('Trying to get stat weights without a party!');\n\t\t\treturn StatWeightsResult.create();\n\t\t} else {\n\t\t\tconst tanks = this.raid.getTanks().map(tank => tank.targetIndex).includes(player.getRaidIndex())\n\t\t\t\t? [RaidTarget.create({ targetIndex: 0 })]\n\t\t\t\t: [];\n\t\t\tconst request = StatWeightsRequest.create({\n\t\t\t\tplayer: player.toProto(),\n\t\t\t\traidBuffs: this.raid.getBuffs(),\n\t\t\t\tpartyBuffs: player.getParty()!.getBuffs(),\n\t\t\t\tdebuffs: this.raid.getDebuffs(),\n\t\t\t\tencounter: this.encounter.toProto(),\n\t\t\t\tsimOptions: SimOptions.create({\n\t\t\t\t\titerations: this.getIterations(),\n\t\t\t\t\trandomSeed: BigInt(this.nextRngSeed()),\n\t\t\t\t\tdebug: false,\n\t\t\t\t}),\n\t\t\t\ttanks: tanks,\n\n\t\t\t\tstatsToWeigh: epStats,\n\t\t\t\tepReferenceStat: epReferenceStat,\n\t\t\t});\n\t\t\tvar result = await this.workerPool.statWeightsAsync(request, onProgress);\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tgetItems(slot: ItemSlot | undefined): Array<Item> {\n\t\tlet items = Object.values(this.items);\n\t\tif (slot != undefined) {\n\t\t\titems = items.filter(item => getEligibleItemSlots(item).includes(slot));\n\t\t}\n\t\treturn items;\n\t}\n\n\tgetEnchants(slot: ItemSlot | undefined): Array<Enchant> {\n\t\tlet enchants = Object.values(this.enchants);\n\t\tif (slot != undefined) {\n\t\t\tenchants = enchants.filter(enchant => getEligibleEnchantSlots(enchant).includes(slot));\n\t\t}\n\t\treturn enchants;\n\t}\n\n\t// ID can be the formula ID OR the effect ID.\n\tgetEnchantFlexible(id: number): Enchant | null {\n\t\treturn Object.values(this.enchants).find(enchant => enchant.id == id || enchant.effectId == id) || null;\n\t}\n\n\tgetGems(socketColor?: GemColor): Array<Gem> {\n\t\tlet gems = Object.values(this.gems);\n\t\tif (socketColor) {\n\t\t\tgems = gems.filter(gem => gemEligibleForSocket(gem, socketColor));\n\t\t}\n\t\treturn gems;\n\t}\n\n\tgetMatchingGems(socketColor: GemColor): Array<Gem> {\n\t\treturn Object.values(this.gems).filter(gem => gemMatchesSocket(gem, socketColor));\n\t}\n\n\tgetPresetEncounter(path: string): PresetEncounter | null {\n\t\treturn this.presetEncounters[path] || null;\n\t}\n\tgetPresetTarget(path: string): PresetTarget | null {\n\t\treturn this.presetTargets[path] || null;\n\t}\n\tgetAllPresetEncounters(): Array<PresetEncounter> {\n\t\treturn Object.values(this.presetEncounters);\n\t}\n\tgetAllPresetTargets(): Array<PresetTarget> {\n\t\treturn Object.values(this.presetTargets);\n\t}\n\n\tgetPhase(): number {\n\t\treturn this.phase;\n\t}\n\tsetPhase(eventID: EventID, newPhase: number) {\n\t\tif (newPhase != this.phase && newPhase > 0) {\n\t\t\tthis.phase = newPhase;\n\t\t\tthis.phaseChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tgetFaction(): Faction {\n\t\treturn this.faction;\n\t}\n\tsetFaction(eventID: EventID, newFaction: Faction) {\n\t\tif (newFaction != this.faction && !!newFaction) {\n\t\t\tthis.faction = newFaction;\n\t\t\tthis.factionChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tgetFixedRngSeed(): number {\n\t\treturn this.fixedRngSeed;\n\t}\n\tsetFixedRngSeed(eventID: EventID, newFixedRngSeed: number) {\n\t\tif (newFixedRngSeed != this.fixedRngSeed) {\n\t\t\tthis.fixedRngSeed = newFixedRngSeed;\n\t\t\tthis.fixedRngSeedChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tstatic MAX_RNG_SEED = Math.pow(2, 32) - 1;\n\tprivate nextRngSeed(): number {\n\t\tlet rngSeed = 0;\n\t\tif (this.fixedRngSeed) {\n\t\t\trngSeed = this.fixedRngSeed;\n\t\t} else {\n\t\t\trngSeed = Math.floor(Math.random() * Sim.MAX_RNG_SEED);\n\t\t}\n\n\t\tthis.lastUsedRngSeed = rngSeed;\n\t\tthis.lastUsedRngSeedChangeEmitter.emit(TypedEvent.nextEventID());\n\t\treturn rngSeed;\n\t}\n\tgetLastUsedRngSeed(): number {\n\t\treturn this.lastUsedRngSeed;\n\t}\n\n\n\tgetShow1hWeapons(): boolean {\n\t\treturn this.show1hWeapons;\n\t}\n\tsetShow1hWeapons(eventID: EventID, newShow1hWeapons: boolean) {\n\t\tif (newShow1hWeapons != this.show1hWeapons) {\n\t\t\tthis.show1hWeapons = newShow1hWeapons;\n\t\t\tthis.show1hWeaponsChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tgetShow2hWeapons(): boolean {\n\t\treturn this.show2hWeapons;\n\t}\n\tsetShow2hWeapons(eventID: EventID, newShow2hWeapons: boolean) {\n\t\tif (newShow2hWeapons != this.show2hWeapons) {\n\t\t\tthis.show2hWeapons = newShow2hWeapons;\n\t\t\tthis.show2hWeaponsChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tgetShowMatchingGems(): boolean {\n\t\treturn this.showMatchingGems;\n\t}\n\tsetShowMatchingGems(eventID: EventID, newShowMatchingGems: boolean) {\n\t\tif (newShowMatchingGems != this.showMatchingGems) {\n\t\t\tthis.showMatchingGems = newShowMatchingGems;\n\t\t\tthis.showMatchingGemsChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tgetShowThreatMetrics(): boolean {\n\t\treturn this.showThreatMetrics;\n\t}\n\tsetShowThreatMetrics(eventID: EventID, newShowThreatMetrics: boolean) {\n\t\tif (newShowThreatMetrics != this.showThreatMetrics) {\n\t\t\tthis.showThreatMetrics = newShowThreatMetrics;\n\t\t\tthis.showThreatMetricsChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tgetShowExperimental(): boolean {\n\t\treturn this.showExperimental;\n\t}\n\tsetShowExperimental(eventID: EventID, newShowExperimental: boolean) {\n\t\tif (newShowExperimental != this.showExperimental) {\n\t\t\tthis.showExperimental = newShowExperimental;\n\t\t\tthis.showExperimentalChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tgetIterations(): number {\n\t\treturn this.iterations;\n\t}\n\tsetIterations(eventID: EventID, newIterations: number) {\n\t\tif (newIterations != this.iterations) {\n\t\t\tthis.iterations = newIterations;\n\t\t\tthis.iterationsChangeEmitter.emit(eventID);\n\t\t}\n\t}\n\n\tlookupItemSpec(itemSpec: ItemSpec): EquippedItem | null {\n\t\tconst item = this.items[itemSpec.id];\n\t\tif (!item)\n\t\t\treturn null;\n\t\t\n\t\tconst enchant = itemSpec.enchant > 0 ? this.enchants.find(e => (e.id == itemSpec.enchant && e.type == item.type)) : null;\n\t\tconst gems = itemSpec.gems.map(gemId => this.gems[gemId] || null);\n\n\t\treturn new EquippedItem(item, enchant, gems);\n\t}\n\n\tlookupEquipmentSpec(equipSpec: EquipmentSpec): Gear {\n\t\t// EquipmentSpec is supposed to be indexed by slot, but here we assume\n\t\t// it isn't just in case.\n\t\tconst gearMap: Partial<Record<ItemSlot, EquippedItem | null>> = {};\n\n\t\tequipSpec.items.forEach(itemSpec => {\n\t\t\tconst item = this.lookupItemSpec(itemSpec);\n\t\t\tif (!item)\n\t\t\t\treturn;\n\n\t\t\tconst itemSlots = getEligibleItemSlots(item.item);\n\n\t\t\tconst assignedSlot = itemSlots.find(slot => !gearMap[slot]);\n\t\t\tif (assignedSlot == null)\n\t\t\t\tthrow new Error('No slots left to equip ' + Item.toJsonString(item.item));\n\n\t\t\tgearMap[assignedSlot] = item;\n\t\t});\n\n\t\treturn new Gear(gearMap);\n\t}\n\n\ttoProto(): SimSettingsProto {\n\t\treturn SimSettingsProto.create({\n\t\t\titerations: this.getIterations(),\n\t\t\tphase: this.getPhase(),\n\t\t\tfixedRngSeed: BigInt(this.getFixedRngSeed()),\n\t\t\tshowThreatMetrics: this.getShowThreatMetrics(),\n\t\t\tshowExperimental: this.getShowExperimental(),\n\t\t\tfaction: this.getFaction(),\n\t\t});\n\t}\n\n\tfromProto(eventID: EventID, proto: SimSettingsProto) {\n\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\tthis.setIterations(eventID, proto.iterations || 3000);\n\t\t\tthis.setPhase(eventID, proto.phase || OtherConstants.CURRENT_PHASE);\n\t\t\tthis.setFixedRngSeed(eventID, Number(proto.fixedRngSeed));\n\t\t\tthis.setShowThreatMetrics(eventID, proto.showThreatMetrics);\n\t\t\tthis.setShowExperimental(eventID, proto.showExperimental);\n\t\t\tthis.setFaction(eventID, proto.faction || Faction.Alliance)\n\t\t});\n\t}\n\n\tapplyDefaults(eventID: EventID, isTankSim: boolean) {\n\t\tthis.fromProto(eventID, SimSettingsProto.create({\n\t\t\titerations: 3000,\n\t\t\tphase: OtherConstants.CURRENT_PHASE,\n\t\t\tfaction: Faction.Alliance,\n\t\t\tshowThreatMetrics: isTankSim,\n\t\t}));\n\t}\n}\n\nexport class SimError extends Error {\n    readonly errorStr: string;\n\n    constructor(errorStr: string) {\n        super(errorStr);\n        this.errorStr = errorStr;\n    }\n}\n","import { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Input, InputConfig } from './input.js';\n\n/**\n * Data for creating a number picker.\n */\nexport interface NumberPickerConfig<ModObject> extends InputConfig<ModObject, number> {\n\tfloat?: boolean,\n\tpositive?: boolean,\n}\n\n// UI element for picking an arbitrary number field.\nexport class NumberPicker<ModObject> extends Input<ModObject, number> {\n\tprivate readonly inputElem: HTMLInputElement;\n\tprivate float: boolean;\n\tprivate positive: boolean;\n\n\tconstructor(parent: HTMLElement, modObject: ModObject, config: NumberPickerConfig<ModObject>) {\n\t\tsuper(parent, 'number-picker-root', modObject, config);\n\t\tthis.float = config.float || false;\n\t\tthis.positive = config.positive || false;\n\n\t\tthis.inputElem = document.createElement('input');\n\t\tif (this.float) {\n\t\t\tthis.inputElem.type = 'text';\n\t\t\tthis.inputElem.inputMode = 'numeric';\n\t\t} else {\n\t\t\tthis.inputElem.type = 'number';\n\t\t\tif (this.positive) {\n\t\t\t\tthis.inputElem.min = \"0\"\n\t\t\t\tthis.inputElem.onchange = e => {\n\t\t\t\t\tthis.inputElem.value = Math.abs(parseInt(this.inputElem.value)).toString()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.inputElem.classList.add('number-picker-input');\n\t\tthis.rootElem.appendChild(this.inputElem);\n\n\t\tthis.init();\n\n\t\tthis.inputElem.addEventListener('change', event => {\n\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t});\n\t}\n\n\tgetInputElem(): HTMLElement {\n\t\treturn this.inputElem;\n\t}\n\n\tgetInputValue(): number {\n\t\tif (this.float) {\n\t\t\treturn parseFloat(this.inputElem.value || '') || 0;\n\t\t} else {\n\t\t\treturn parseInt(this.inputElem.value || '') || 0;\n\t\t}\n\t}\n\n\tsetInputValue(newValue: number) {\n\t\tthis.inputElem.value = String(newValue);\n\t}\n}\n","import { Stat } from '../proto/common.js';\nimport { statNames, statOrder } from '../proto_utils/names.js';\nimport { Stats } from '../proto_utils/stats.js';\nimport { Player } from '../player.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Component } from './component.js';\nimport { NumberPicker } from './number_picker.js';\n\ndeclare var tippy: any;\n\nexport class BonusStatsPicker extends Component {\n\treadonly stats: Array<Stat>;\n\treadonly statPickers: Array<NumberPicker<Player<any>>>;\n\n\tconstructor(parent: HTMLElement, player: Player<any>, stats: Array<Stat>) {\n\t\tsuper(parent, 'bonus-stats-root');\n\t\tthis.stats = stats;\n\n\t\tconst label = document.createElement('span');\n\t\tlabel.classList.add('bonus-stats-label');\n\t\tlabel.textContent = 'Bonus Stats';\n\t\ttippy(label, {\n\t\t\t'content': 'Extra stats to add on top of gear, buffs, etc.',\n\t\t\t'allowHTML': true,\n\t\t});\n\t\tthis.rootElem.appendChild(label);\n\n\t\tthis.statPickers = statOrder.filter(stat => this.stats.includes(stat)).map(stat => new NumberPicker(this.rootElem, player, {\n\t\t\tlabel: statNames[stat],\n\t\t\tchangedEvent: (player: Player<any>) => player.bonusStatsChangeEmitter,\n\t\t\tgetValue: (player: Player<any>) => player.getBonusStats().getStat(stat),\n\t\t\tsetValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n\t\t\t\tconst bonusStats = player.getBonusStats().withStat(stat, newValue);\n\t\t\t\tplayer.setBonusStats(eventID, bonusStats);\n\t\t\t},\n\t\t}));\n\n\t\tplayer.bonusStatsChangeEmitter.on(() => {\n\t\t\tthis.statPickers.forEach(statPicker => {\n\t\t\t\tif (statPicker.getInputValue() > 0) {\n\t\t\t\t\tstatPicker.rootElem.classList.remove('negative');\n\t\t\t\t\tstatPicker.rootElem.classList.add('positive');\n\t\t\t\t} else if (statPicker.getInputValue() < 0) {\n\t\t\t\t\tstatPicker.rootElem.classList.remove('positive');\n\t\t\t\t\tstatPicker.rootElem.classList.add('negative');\n\t\t\t\t} else {\n\t\t\t\t\tstatPicker.rootElem.classList.remove('negative');\n\t\t\t\t\tstatPicker.rootElem.classList.remove('positive');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n","import { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Input, InputConfig } from './input.js';\n\n/**\n * Data for creating a boolean picker (checkbox).\n */\nexport interface BooleanPickerConfig<ModObject> extends InputConfig<ModObject, boolean> {\n}\n\n// UI element for picking an arbitrary number field.\nexport class BooleanPicker<ModObject> extends Input<ModObject, boolean> {\n\tprivate readonly inputElem: HTMLInputElement;\n\n\tconstructor(parent: HTMLElement, modObject: ModObject, config: BooleanPickerConfig<ModObject>) {\n\t\tsuper(parent, 'boolean-picker-root', modObject, config);\n\n\t\tthis.inputElem = document.createElement('input');\n\t\tthis.inputElem.type = 'checkbox';\n\t\tthis.inputElem.classList.add('boolean-picker-input');\n\t\tthis.rootElem.appendChild(this.inputElem);\n\n\t\tthis.init();\n\n\t\tthis.inputElem.addEventListener('change', event => {\n\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t});\n\t}\n\n\tgetInputElem(): HTMLElement {\n\t\treturn this.inputElem;\n\t}\n\n\tgetInputValue(): boolean {\n\t\treturn Boolean(this.inputElem.checked);\n\t}\n\n\tsetInputValue(newValue: boolean) {\n\t\tthis.inputElem.checked = newValue;\n\t}\n}\n","import { PlayerStats } from '..//proto/api.js';\nimport { Stat, \tClass } from '..//proto/common.js';\nimport { TristateEffect } from '..//proto/common.js'\nimport { statNames, statOrder } from '..//proto_utils/names.js';\nimport { Stats } from '..//proto_utils/stats.js';\nimport { Player } from '..//player.js';\nimport { EventID, TypedEvent } from '..//typed_event.js';\n\nimport * as Mechanics from '../constants/mechanics.js';\n\nimport { Component } from './component.js';\n\ndeclare var tippy: any;\n\nconst spellPowerTypeStats = [\n\tStat.StatArcaneSpellPower,\n\tStat.StatFireSpellPower,\n\tStat.StatFrostSpellPower,\n\tStat.StatHolySpellPower,\n\tStat.StatNatureSpellPower,\n\tStat.StatShadowSpellPower,\n];\n\nexport type StatMods = { talents: Stats };\n\nexport class CharacterStats extends Component {\n\treadonly stats: Array<Stat>;\n\treadonly valueElems: Array<HTMLTableCellElement>;\n\treadonly tooltipElems: Array<HTMLElement>;\n\n\tprivate readonly player: Player<any>;\n\tprivate readonly modifyDisplayStats?: (player: Player<any>) => StatMods;\n\n\tconstructor(parent: HTMLElement, player: Player<any>, stats: Array<Stat>, modifyDisplayStats?: (player: Player<any>) => StatMods) {\n\t\tsuper(parent, 'character-stats-root');\n\t\tthis.stats = statOrder.filter(stat => stats.includes(stat));\n\t\tthis.player = player;\n\t\tthis.modifyDisplayStats = modifyDisplayStats;\n\n\t\tconst table = document.createElement('table');\n\t\ttable.classList.add('character-stats-table');\n\t\tthis.rootElem.appendChild(table);\n\n\t\tthis.valueElems = [];\n\t\tthis.tooltipElems = [];\n\t\tthis.stats.forEach(stat => {\n\t\t\tconst row = document.createElement('tr');\n\t\t\trow.classList.add('character-stats-table-row');\n\t\t\trow.innerHTML = `\n\t\t\t\t<td class=\"character-stats-table-label\">\n\t\t\t\t\t<span>${statNames[stat].toUpperCase()}<span>\n\t\t\t\t\t<span class=\"character-stats-table-tooltip fas fa-search\"></span>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"character-stats-table-value\"></td>\n\t\t\t`;\n\t\t\ttable.appendChild(row);\n\n\t\t\tconst valueElem = row.getElementsByClassName('character-stats-table-value')[0] as HTMLTableCellElement;\n\t\t\tthis.valueElems.push(valueElem);\n\n\t\t\tconst tooltipElem = row.getElementsByClassName('character-stats-table-tooltip')[0] as HTMLElement;\n\t\t\tthis.tooltipElems.push(tooltipElem);\n\t\t});\n\n\t\tthis.updateStats(player);\n\t\tTypedEvent.onAny([player.currentStatsEmitter, player.sim.changeEmitter]).on(() => {\n\t\t\tthis.updateStats(player);\n\t\t});\n\t}\n\n\tprivate updateStats(player: Player<any>) {\n\t\tconst playerStats = player.getCurrentStats();\n\n\t\tconst statMods = this.modifyDisplayStats ? this.modifyDisplayStats(this.player) : {\n\t\t\ttalents: new Stats(),\n\t\t};\n\n\t\tconst baseStats = new Stats(playerStats.baseStats);\n\t\tconst gearStats = new Stats(playerStats.gearStats);\n\t\tconst talentsStats = new Stats(playerStats.talentsStats);\n\t\tconst buffsStats = new Stats(playerStats.buffsStats);\n\t\tconst consumesStats = new Stats(playerStats.consumesStats);\n\t\tconst debuffStats = CharacterStats.getDebuffStats(player);\n\t\tconst finalStats = new Stats(playerStats.finalStats).add(statMods.talents).add(debuffStats);\n\n\t\tconst gearDelta = gearStats.subtract(baseStats);\n\t\tconst talentsDelta = talentsStats.subtract(gearStats).add(statMods.talents);\n\t\tconst buffsDelta = buffsStats.subtract(talentsStats);\n\t\tconst consumesDelta = consumesStats.subtract(buffsStats);\n\n\t\tthis.stats.forEach((stat, idx) => {\n\t\t\tthis.valueElems[idx].textContent = CharacterStats.statDisplayString(player, finalStats, stat);\n\n\t\t\ttippy(this.tooltipElems[idx], {\n\t\t\t\t'content': `\n\t\t\t\t\t<div class=\"character-stats-tooltip-row\">\n\t\t\t\t\t\t<span>Base:</span>\n\t\t\t\t\t\t<span>${CharacterStats.statDisplayString(player, baseStats, stat)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"character-stats-tooltip-row\">\n\t\t\t\t\t\t<span>Gear:</span>\n\t\t\t\t\t\t<span>${CharacterStats.statDisplayString(player, gearDelta, stat)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"character-stats-tooltip-row\">\n\t\t\t\t\t\t<span>Talents:</span>\n\t\t\t\t\t\t<span>${CharacterStats.statDisplayString(player, talentsDelta, stat)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"character-stats-tooltip-row\">\n\t\t\t\t\t\t<span>Buffs:</span>\n\t\t\t\t\t\t<span>${CharacterStats.statDisplayString(player, buffsDelta, stat)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"character-stats-tooltip-row\">\n\t\t\t\t\t\t<span>Consumes:</span>\n\t\t\t\t\t\t<span>${CharacterStats.statDisplayString(player, consumesDelta, stat)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t${debuffStats.getStat(stat) == 0 ? '' : `\n\t\t\t\t\t<div class=\"character-stats-tooltip-row\">\n\t\t\t\t\t\t<span>Debuffs:</span>\n\t\t\t\t\t\t<span>${CharacterStats.statDisplayString(player, debuffStats, stat)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t`}\n\t\t\t\t\t<div class=\"character-stats-tooltip-row\">\n\t\t\t\t\t\t<span>Total:</span>\n\t\t\t\t\t\t<span>${CharacterStats.statDisplayString(player, finalStats, stat)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t`,\n\t\t\t\t'allowHTML': true,\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic statDisplayString(player: Player<any>, stats: Stats, stat: Stat): string {\n\t\tlet rawValue = stats.getStat(stat);\n\t\tif (spellPowerTypeStats.includes(stat)) {\n\t\t\trawValue = rawValue + stats.getStat(Stat.StatSpellPower);\n\t\t}\n\t\tlet displayStr = String(Math.round(rawValue));\n\n\t\tif (stat == Stat.StatMeleeHit) {\n\t\t\tdisplayStr += ` (${(rawValue / Mechanics.MELEE_HIT_RATING_PER_HIT_CHANCE).toFixed(2)}%)`;\n\t\t} else if (stat == Stat.StatSpellHit) {\n\t\t\tdisplayStr += ` (${(rawValue / Mechanics.SPELL_HIT_RATING_PER_HIT_CHANCE).toFixed(2)}%)`;\n\t\t} else if (stat == Stat.StatMeleeCrit || stat == Stat.StatSpellCrit) {\n\t\t\tdisplayStr += ` (${(rawValue / Mechanics.SPELL_CRIT_RATING_PER_CRIT_CHANCE).toFixed(2)}%)`;\n\t\t} else if (stat == Stat.StatMeleeHaste) {\n\t\t\tif ([Class.ClassDruid, Class.ClassShaman, Class.ClassPaladin, Class.ClassDeathknight].includes(player.getClass())) {\n\t\t\t\tdisplayStr += ` (${(rawValue / Mechanics.SPECIAL_MELEE_HASTE_RATING_PER_HASTE_PERCENT).toFixed(2)}%)`;\n\t\t\t} else {\n\t\t\t\tdisplayStr += ` (${(rawValue / Mechanics.HASTE_RATING_PER_HASTE_PERCENT).toFixed(2)}%)`;\n\t\t\t}\n\t\t} else if (stat == Stat.StatSpellHaste) {\n\t\t\tdisplayStr += ` (${(rawValue / Mechanics.HASTE_RATING_PER_HASTE_PERCENT).toFixed(2)}%)`;\n\t\t} else if (stat == Stat.StatExpertise) {\n\t\t\tdisplayStr += ` (${(Math.floor(rawValue / Mechanics.EXPERTISE_PER_QUARTER_PERCENT_REDUCTION)).toFixed(0)})`;\n\t\t} else if (stat == Stat.StatDefense) {\n\t\t\tdisplayStr += ` (${(Mechanics.CHARACTER_LEVEL * 5 + rawValue / Mechanics.DEFENSE_RATING_PER_DEFENSE).toFixed(1)})`;\n\t\t} else if (stat == Stat.StatBlock) {\n\t\t\tdisplayStr += ` (${(rawValue / Mechanics.BLOCK_RATING_PER_BLOCK_CHANCE).toFixed(2)}%)`;\n\t\t} else if (stat == Stat.StatDodge) {\n\t\t\tdisplayStr += ` (${(rawValue / Mechanics.DODGE_RATING_PER_DODGE_CHANCE).toFixed(2)}%)`;\n\t\t} else if (stat == Stat.StatParry) {\n\t\t\tdisplayStr += ` (${(rawValue / Mechanics.PARRY_RATING_PER_PARRY_CHANCE).toFixed(2)}%)`;\n\t\t}\n\n\t\treturn displayStr;\n\t}\n\n\tstatic getDebuffStats(player: Player<any>): Stats {\n\t\tlet debuffStats = new Stats();\n\n\t\tconst debuffs = player.sim.raid.getDebuffs();\n\t\tif (debuffs.misery || debuffs.faerieFire == TristateEffect.TristateEffectImproved) {\n\t\t\tdebuffStats = debuffStats.addStat(Stat.StatSpellHit, 3 * Mechanics.SPELL_HIT_RATING_PER_HIT_CHANCE);\n\t\t}\n\t\tif (debuffs.totemOfWrath || debuffs.heartOfTheCrusader || debuffs.masterPoisoner) {\n\t\t\tdebuffStats = debuffStats.addStat(Stat.StatSpellCrit, 3 * Mechanics.SPELL_CRIT_RATING_PER_CRIT_CHANCE);\n\t\t\tdebuffStats = debuffStats.addStat(Stat.StatMeleeCrit, 3 * Mechanics.MELEE_CRIT_RATING_PER_CRIT_CHANCE);\n\t\t}\n\t\tif (debuffs.improvedScorch || debuffs.wintersChill || debuffs.shadowMastery) {\n\t\t\tdebuffStats = debuffStats.addStat(Stat.StatSpellCrit, 5 * Mechanics.SPELL_CRIT_RATING_PER_CRIT_CHANCE);\n\t\t}\n\n\t\treturn debuffStats;\n\t}\n}\n","import { ActionId } from '../proto_utils/action_id.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Component } from './component.js';\nimport { Input, InputConfig } from './input.js';\n\ndeclare var tippy: any;\n\nexport interface IconEnumValueConfig<ModObject, T> {\n\t// One of these should be set. If actionId is set, shows the icon for that id. If\n\t// color is set, shows that color.\n\tactionId?: ActionId,\n\tcolor?: string,\n\n\tvalue: T,\n\n\t// Hover tooltip.\n\ttooltip?: string,\n\n\tshowWhen?: (obj: ModObject) => boolean,\n}\n\nexport interface IconEnumPickerConfig<ModObject, T> extends InputConfig<ModObject, T> {\n\tnumColumns: number,\n\n\tvalues: Array<IconEnumValueConfig<ModObject, T>>;\n\n\t// Function for comparing two values.\n\tequals: (a: T, b: T) => boolean,\n\n\t// Value that will be considered inactive.\n\tzeroValue: T,\n\n\tbackupIconUrl?: (value: T) => ActionId,\n}\n\n// Icon-based UI for picking enum values.\n// ModObject is the object being modified (Sim, Player, or Target).\nexport class IconEnumPicker<ModObject, T> extends Input<ModObject, T> {\n\tprivate readonly config: IconEnumPickerConfig<ModObject, T>;\n\n\tprivate currentValue: T;\n\n\tprivate readonly buttonElem: HTMLAnchorElement;\n\n\tconstructor(parent: HTMLElement, modObj: ModObject, config: IconEnumPickerConfig<ModObject, T>) {\n\t\tsuper(parent, 'icon-enum-picker-root', modObj, config);\n\t\tthis.config = config;\n\t\tthis.currentValue = this.config.zeroValue;\n\t\tthis.rootElem.classList.add('dropdown-root');\n\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<a class=\"dropdown-button icon-enum-picker-button\"></a>\n\t\t\t<div class=\"dropdown-panel icon-enum-picker-dropdown\"></div>\n    `;\n\n\t\tthis.buttonElem = this.rootElem.getElementsByClassName('icon-enum-picker-button')[0] as HTMLAnchorElement;\n\t\tconst dropdownElem = this.rootElem.getElementsByClassName('icon-enum-picker-dropdown')[0] as HTMLElement;\n\n\t\tthis.buttonElem.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\t\tthis.buttonElem.addEventListener('touchstart', event => {\n\t\t\tif (dropdownElem.style.display == \"block\") {\n\t\t\t\tdropdownElem.style.display = \"none\";\n\t\t\t} else {\n\t\t\t\tdropdownElem.style.display = \"block\";\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t});\n\t\tthis.buttonElem.addEventListener('touchend', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\n\t\tdropdownElem.style.gridTemplateColumns = `repeat(${this.config.numColumns}, 1fr)`;\n\n\t\tconfig.values.forEach((valueConfig, i) => {\n\t\t\tconst optionContainer = document.createElement('div');\n\t\t\toptionContainer.classList.add('dropdown-option-container');\n\t\t\tdropdownElem.appendChild(optionContainer);\n\n\t\t\tconst option = document.createElement('a');\n\t\t\toption.classList.add('dropdown-option', 'icon-enum-picker-option');\n\t\t\toptionContainer.appendChild(option);\n\t\t\tthis.setImage(option, valueConfig);\n\n\t\t\tif (valueConfig.tooltip) {\n\t\t\t\ttippy(option, {\n\t\t\t\t\t'content': valueConfig.tooltip,\n\t\t\t\t\t'allowHTML': true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (valueConfig.showWhen) {\n\t\t\t\tconfig.changedEvent(this.modObject).on(eventID => {\n\t\t\t\t\tconst show = valueConfig.showWhen && valueConfig.showWhen(this.modObject);\n\t\t\t\t\tif (show) {\n\t\t\t\t\t\toptionContainer.classList.remove('hide');\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptionContainer.classList.add('hide');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\toption.addEventListener('click', event => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.currentValue = valueConfig.value;\n\t\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\n\t\t\t\t// Wowhead tooltips can't seem to detect when an element is hidden while\n\t\t\t\t// being moused over, and the tooltip doesn't disappear. Patch this by\n\t\t\t\t// dispatching our own mouseout event.\n\t\t\t\toption.dispatchEvent(new Event('mouseout'));\n\t\t\t});\n\t\t\toption.addEventListener('touchstart', event => {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t\t\toption.addEventListener('touchend', event => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.currentValue = valueConfig.value;\n\t\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t\t\tdropdownElem.style.display = \"none\";\n\t\t\t});\n\t\t});\n\n\t\tthis.init();\n\t}\n\n\tprivate setActionImage(elem: HTMLAnchorElement, actionId: ActionId) {\n\t\tactionId.fillAndSet(elem, true, true);\n\t}\n\n\tprivate setImage(elem: HTMLAnchorElement, valueConfig: IconEnumValueConfig<ModObject, T>) {\n\t\tif (valueConfig.actionId) {\n\t\t\tthis.setActionImage(elem, valueConfig.actionId);\n\t\t} else {\n\t\t\telem.style.backgroundImage = '';\n\t\t\telem.style.backgroundColor = valueConfig.color!;\n\t\t}\n\t}\n\n\tgetInputElem(): HTMLElement {\n\t\treturn this.buttonElem;\n\t}\n\n\tgetInputValue(): T {\n\t\treturn this.currentValue;\n\t}\n\n\tsetInputValue(newValue: T) {\n\t\tthis.currentValue = newValue;\n\n\t\tif (!this.config.equals(this.currentValue, this.config.zeroValue)) {\n\t\t\tthis.rootElem.classList.add('active');\n\t\t} else {\n\t\t\tthis.rootElem.classList.remove('active');\n\t\t}\n\n\t\tconst valueConfig = this.config.values.find(valueConfig => this.config.equals(valueConfig.value, this.currentValue))!;\n\t\tif (valueConfig) {\n\t\t\tthis.setImage(this.buttonElem, valueConfig);\n\t\t} else if (this.config.backupIconUrl) {\n\t\t\tconst backupId = this.config.backupIconUrl(this.currentValue);\n\t\t\tthis.setActionImage(this.buttonElem, backupId);\n\t\t\tthis.rootElem.classList.remove('active');\n\t\t}\n\t}\n}\n","import { EventID, TypedEvent } from '../typed_event.js';\nimport { arrayEquals } from '../utils.js';\n\nimport { Input, InputConfig } from './input.js';\n\n/**\n * Data for creating a number list picker.\n */\nexport interface NumberListPickerConfig<ModObject> extends InputConfig<ModObject, Array<number>> {\n\tplaceholder?: string,\n}\n\n// UI element for picking an arbitrary number list field.\nexport class NumberListPicker<ModObject> extends Input<ModObject, Array<number>> {\n\tprivate readonly inputElem: HTMLInputElement;\n\n\tconstructor(parent: HTMLElement, modObject: ModObject, config: NumberListPickerConfig<ModObject>) {\n\t\tsuper(parent, 'number-list-picker-root', modObject, config);\n\n\t\tthis.inputElem = document.createElement('input');\n\t\tthis.inputElem.type = 'text';\n\t\tthis.inputElem.placeholder = config.placeholder || '';\n\t\tthis.inputElem.classList.add('number-list-picker-input');\n\t\tthis.rootElem.appendChild(this.inputElem);\n\n\t\tthis.init();\n\n\t\tthis.inputElem.addEventListener('change', event => {\n\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t});\n\t}\n\n\tgetInputElem(): HTMLElement {\n\t\treturn this.inputElem;\n\t}\n\n\tgetInputValue(): Array<number> {\n\t\tconst str = this.inputElem.value;\n\t\tif (!str) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn str.split(',').map(parseFloat).filter(val => !isNaN(val));\n\t}\n\n\tsetInputValue(newValue: Array<number>) {\n\t\tif (arrayEquals(this.getInputValue(), newValue)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.inputElem.value = newValue.map(v => String(v)).join(',');\n\t}\n}\n","import { Component } from '../components/component.js';\nimport { IconEnumPicker, IconEnumValueConfig } from '../components/icon_enum_picker.js';\nimport { Input, InputConfig } from '../components/input.js';\nimport { NumberListPicker } from '../components/number_list_picker.js';\nimport { Player } from '../player.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { ActionID as ActionIdProto } from '../proto/common.js';\nimport { Cooldowns } from '../proto/common.js';\nimport { Cooldown } from '../proto/common.js';\nimport { ActionId } from '../proto_utils/action_id.js';\nimport { Class } from '../proto/common.js';\nimport { Spec } from '../proto/common.js';\nimport { getEnumValues } from '../utils.js';\nimport { wait } from '../utils.js';\n\ndeclare var tippy: any;\n\nexport class CooldownsPicker extends Component {\n\treadonly player: Player<any>;\n\n\tprivate cooldownPickers: Array<HTMLElement>;\n\n\tconstructor(parentElem: HTMLElement, player: Player<any>) {\n\t\tsuper(parentElem, 'cooldowns-picker-root');\n\t\tthis.player = player;\n\t\tthis.cooldownPickers = [];\n\n\t\tTypedEvent.onAny([this.player.currentStatsEmitter]).on(eventID => {\n\t\t\tthis.update();\n\t\t});\n\t\tthis.update();\n\t}\n\n\tprivate update() {\n\t\tthis.rootElem.innerHTML = '';\n\t\tconst cooldowns = this.player.getCooldowns().cooldowns;\n\n\t\tthis.cooldownPickers = [];\n\t\tfor (let i = 0; i < cooldowns.length + 1; i++) {\n\t\t\tconst cooldown = cooldowns[i];\n\n\t\t\tconst row = document.createElement('div');\n\t\t\trow.classList.add('cooldown-picker');\n\t\t\tif (i == cooldowns.length) {\n\t\t\t\trow.classList.add('add-cooldown-picker');\n\t\t\t}\n\t\t\tthis.rootElem.appendChild(row);\n\n\t\t\tconst deleteButton = document.createElement('span');\n\t\t\tdeleteButton.classList.add('delete-cooldown', 'fa', 'fa-times');\n\t\t\tdeleteButton.addEventListener('click', event => {\n\t\t\t\tconst newCooldowns = this.player.getCooldowns();\n\t\t\t\tnewCooldowns.cooldowns.splice(i, 1);\n\t\t\t\tthis.player.setCooldowns(TypedEvent.nextEventID(), newCooldowns);\n\t\t\t});\n\t\t\trow.appendChild(deleteButton);\n\n\t\t\tconst actionPicker = this.makeActionPicker(row, i);\n\n\t\t\tconst label = document.createElement('span');\n\t\t\tlabel.classList.add('cooldown-picker-label');\n\t\t\tif (cooldown && cooldown.id) {\n\t\t\t\tActionId.fromProto(cooldown.id).fill(this.player.getRaidIndex()).then(filledId => label.textContent = filledId.name);\n\t\t\t}\n\t\t\trow.appendChild(label);\n\n\t\t\tconst timingsPicker = this.makeTimingsPicker(row, i);\n\n\t\t\tthis.cooldownPickers.push(row);\n\t\t}\n\t}\n\n\tprivate makeActionPicker(parentElem: HTMLElement, cooldownIndex: number): IconEnumPicker<Player<any>, ActionIdProto> {\n\t\tconst availableCooldowns = this.player.getCurrentStats().cooldowns;\n\n\t\tconst actionPicker = new IconEnumPicker<Player<any>, ActionIdProto>(parentElem, this.player, {\n\t\t\textraCssClasses: [\n\t\t\t\t'cooldown-action-picker',\n\t\t\t],\n\t\t\tnumColumns: 3,\n\t\t\tvalues: ([\n\t\t\t\t{ color: '#grey', value: ActionIdProto.create() },\n\t\t\t] as Array<IconEnumValueConfig<Player<any>, ActionIdProto>>).concat(availableCooldowns.map(cooldownAction => {\n\t\t\t\treturn { actionId: ActionId.fromProto(cooldownAction), value: cooldownAction };\n\t\t\t})),\n\t\t\tequals: (a: ActionIdProto, b: ActionIdProto) => ActionIdProto.equals(a, b),\n\t\t\tzeroValue: ActionIdProto.create(),\n\t\t\tbackupIconUrl: (value: ActionIdProto) => ActionId.fromProto(value),\n\t\t\tchangedEvent: (player: Player<any>) => player.cooldownsChangeEmitter,\n\t\t\tgetValue: (player: Player<any>) => player.getCooldowns().cooldowns[cooldownIndex]?.id || ActionIdProto.create(),\n\t\t\tsetValue: (eventID: EventID, player: Player<any>, newValue: ActionIdProto) => {\n\t\t\t\tconst newCooldowns = player.getCooldowns();\n\n\t\t\t\twhile (newCooldowns.cooldowns.length < cooldownIndex) {\n\t\t\t\t\tnewCooldowns.cooldowns.push(Cooldown.create());\n\t\t\t\t}\n\t\t\t\tnewCooldowns.cooldowns[cooldownIndex] = Cooldown.create({\n\t\t\t\t\tid: newValue,\n\t\t\t\t\ttimings: [],\n\t\t\t\t});\n\n\t\t\t\tplayer.setCooldowns(eventID, newCooldowns);\n\t\t\t},\n\t\t});\n\t\treturn actionPicker;\n\t}\n\n\tprivate makeTimingsPicker(parentElem: HTMLElement, cooldownIndex: number): NumberListPicker<Player<any>> {\n\t\tconst actionPicker = new NumberListPicker(parentElem, this.player, {\n\t\t\textraCssClasses: [\n\t\t\t\t'cooldown-timings-picker',\n\t\t\t],\n\t\t\tplaceholder: '20, 40, ...',\n\t\t\tchangedEvent: (player: Player<any>) => player.cooldownsChangeEmitter,\n\t\t\tgetValue: (player: Player<any>) => {\n\t\t\t\treturn player.getCooldowns().cooldowns[cooldownIndex]?.timings || [];\n\t\t\t},\n\t\t\tsetValue: (eventID: EventID, player: Player<any>, newValue: Array<number>) => {\n\t\t\t\tconst newCooldowns = player.getCooldowns();\n\t\t\t\tnewCooldowns.cooldowns[cooldownIndex].timings = newValue;\n\t\t\t\tplayer.setCooldowns(eventID, newCooldowns);\n\t\t\t},\n\t\t\tenableWhen: (player: Player<any>) => {\n\t\t\t\tconst curCooldown = player.getCooldowns().cooldowns[cooldownIndex];\n\t\t\t\treturn curCooldown && !ActionIdProto.equals(curCooldown.id, ActionIdProto.create());\n\t\t\t},\n\t\t});\n\t\treturn actionPicker;\n\t}\n}\n","import { REPO_NAME } from '../constants/other.js'\nimport { RaidSimRequest, RaidSimResult } from '../proto/api.js';\nimport { DetailedResultsUpdate, SimRun, SimRunData } from '../proto/ui.js';\nimport { SimResult } from '../proto_utils/sim_result.js';\nimport { SimUI } from '../sim_ui.js';\n\nimport { Component } from './component.js';\nimport { RaidSimResultsManager } from './raid_sim_action.js';\n\nexport class DetailedResults extends Component {\n\tprivate readonly simUI: SimUI;\n\tprivate readonly iframeElem: HTMLIFrameElement;\n\tprivate tabWindow: Window | null;\n\tprivate latestRun: SimRunData | null;\n\n\tconstructor(parent: HTMLElement, simUI: SimUI, simResultsManager: RaidSimResultsManager) {\n\t\tsuper(parent, 'detailed-results-manager-root');\n\t\tthis.simUI = simUI;\n\t\tthis.tabWindow = null;\n\t\tthis.latestRun = null;\n\n\t\tthis.simUI.sim.settingsChangeEmitter.on(() => this.updateSettings());\n\n\t\tconst computedStyles = window.getComputedStyle(this.rootElem);\n\n\t\tconst url = new URL(`${window.location.protocol}//${window.location.host}/${REPO_NAME}/detailed_results/index.html`);\n\t\turl.searchParams.append('mainTextColor', computedStyles.getPropertyValue('--main-text-color').trim());\n\t\turl.searchParams.append('themeColorPrimary', computedStyles.getPropertyValue('--theme-color-primary').trim());\n\t\turl.searchParams.append('themeColorBackground', computedStyles.getPropertyValue('--theme-color-background').trim());\n\t\turl.searchParams.append('themeColorBackgroundRaw', computedStyles.getPropertyValue('--theme-color-background-raw').trim());\n\t\turl.searchParams.append('themeBackgroundImage', computedStyles.getPropertyValue('--theme-background-image').trim());\n\t\turl.searchParams.append('themeBackgroundOpacity', computedStyles.getPropertyValue('--theme-background-opacity').trim());\n\t\tif (simUI.isIndividualSim()) {\n\t\t\turl.searchParams.append('isIndividualSim', '');\n\t\t}\n\n\t\tthis.rootElem.innerHTML = `\n\t\t<div class=\"detailed-results-controls-div\">\n\t\t\t<button class=\"detailed-results-new-tab-button sim-button\">VIEW IN SEPARATE TAB</button>\n\t\t</div>\n\t\t<iframe class=\"detailed-results-iframe\" src=\"${url.href}\" allowtransparency=\"true\"></iframe>\n\t\t`;\n\n\t\tthis.iframeElem = this.rootElem.getElementsByClassName('detailed-results-iframe')[0] as HTMLIFrameElement;\n\n\t\tconst newTabButton = this.rootElem.getElementsByClassName('detailed-results-new-tab-button')[0] as HTMLButtonElement;\n\t\tnewTabButton.addEventListener('click', event => {\n\t\t\tif (this.tabWindow == null || this.tabWindow.closed) {\n\t\t\t\tthis.tabWindow = window.open(url.href, 'Detailed Results');\n\t\t\t\tthis.tabWindow!.addEventListener('load', event => {\n\t\t\t\t\tif (this.latestRun) {\n\t\t\t\t\t\tthis.updateSettings();\n\t\t\t\t\t\tthis.setSimRunData(this.latestRun);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.tabWindow.focus();\n\t\t\t}\n\t\t});\n\n\t\tsimResultsManager.currentChangeEmitter.on(() => {\n\t\t\tconst runData = simResultsManager.getRunData();\n\t\t\tif (runData) {\n\t\t\t\tthis.setSimRunData(runData);\n\t\t\t}\n\t\t});\n\t}\n\n\t// TODO: Decide whether to continue using this or just remove it.\n\t//setPending() {\n\t//\tthis.latestRun = null;\n\t//\tthis.iframeElem.contentWindow!.postMessage(null, '*');\n\t//\tif (this.tabWindow) {\n\t//\t\tthis.tabWindow.postMessage(null, '*');\n\t//\t}\n\t//}\n\n\tprivate setSimRunData(simRunData: SimRunData) {\n\t\tthis.latestRun = simRunData;\n\t\tthis.postMessage(DetailedResultsUpdate.create({\n\t\t\tdata: {\n\t\t\t\toneofKind: 'runData',\n\t\t\t\trunData: simRunData,\n\t\t\t},\n\t\t}));\n\t}\n\n\tprivate updateSettings() {\n\t\tthis.postMessage(DetailedResultsUpdate.create({\n\t\t\tdata: {\n\t\t\t\toneofKind: 'settings',\n\t\t\t\tsettings: this.simUI.sim.toProto(),\n\t\t\t},\n\t\t}));\n\t}\n\n\tprivate postMessage(update: DetailedResultsUpdate) {\n\t\tthis.iframeElem.contentWindow!.postMessage(DetailedResultsUpdate.toJson(update), '*');\n\t\tif (this.tabWindow) {\n\t\t\tthis.tabWindow.postMessage(DetailedResultsUpdate.toJson(update), '*');\n\t\t}\n\t}\n}\n","import { EventID, TypedEvent } from '../typed_event.js';\nimport { arrayEquals, swap } from '../utils.js';\n\nimport { Input, InputConfig } from './input.js';\n\ndeclare var tippy: any;\n\nexport interface ListPickerConfig<ModObject, ItemType, ItemPicker> extends InputConfig<ModObject, Array<ItemType>> {\n\ttitle?: string,\n\ttitleTooltip?: string,\n\titemLabel: string,\n\tnewItem: () => ItemType,\n\tcopyItem: (oldItem: ItemType) => ItemType,\n\tnewItemPicker: (parent: HTMLElement, item: ItemType, listPicker: ListPicker<ModObject, ItemType, ItemPicker>) => ItemPicker,\n\tinlineMenuBar?: boolean,\n}\n\ninterface ItemPickerPair<ItemType, ItemPicker> {\n\titem: ItemType,\n\telem: HTMLElement,\n\tpicker: ItemPicker,\n}\n\nexport class ListPicker<ModObject, ItemType, ItemPicker> extends Input<ModObject, Array<ItemType>> {\n\tprivate readonly config: ListPickerConfig<ModObject, ItemType, ItemPicker>;\n\tprivate readonly itemsDiv: HTMLElement;\n\n\tprivate itemPickerPairs: Array<ItemPickerPair<ItemType, ItemPicker>>;\n\n\tconstructor(parent: HTMLElement, modObject: ModObject, config: ListPickerConfig<ModObject, ItemType, ItemPicker>) {\n\t\tsuper(parent, 'list-picker-root', modObject, config);\n\t\tthis.config = config;\n\t\tthis.itemPickerPairs = [];\n\n\t\tthis.rootElem.innerHTML = `\n\t\t\t${this.config.title ? `<span class=\"list-picker-title\">${this.config.title}</span>` : ''}\n\t\t\t<div class=\"list-picker-items\"></div>\n\t\t\t<button class=\"list-picker-new-button sim-button\">NEW ${config.itemLabel.toUpperCase()}</button>\n\t\t`;\n\n\t\tif (this.config.title && this.config.titleTooltip) {\n\t\t\tconst title = this.rootElem.getElementsByClassName('list-picker-title')[0] as HTMLElement;\n\t\t\ttippy(title, {\n\t\t\t\t'content': this.config.titleTooltip,\n\t\t\t\t'allowHTML': true,\n\t\t\t});\n\t\t}\n\n\t\tthis.itemsDiv = this.rootElem.getElementsByClassName('list-picker-items')[0] as HTMLElement;\n\n\t\tconst newItemButton = this.rootElem.getElementsByClassName('list-picker-new-button')[0] as HTMLElement;\n\t\tnewItemButton.addEventListener('click', event => {\n\t\t\tconst newItem = this.config.newItem();\n\t\t\tconst newList = this.config.getValue(this.modObject).concat([newItem]);\n\t\t\tthis.config.setValue(TypedEvent.nextEventID(), this.modObject, newList);\n\t\t});\n\n\t\tthis.init();\n\t}\n\n\tgetInputElem(): HTMLElement {\n\t\treturn this.rootElem;\n\t}\n\n\tgetInputValue(): Array<ItemType> {\n\t\treturn this.itemPickerPairs.map(pair => pair.item);\n\t}\n\n\tsetInputValue(newValue: Array<ItemType>): void {\n\t\t// Remove items that are no longer in the list.\n\t\tconst removePairs = this.itemPickerPairs.filter(ipp => !newValue.includes(ipp.item));\n\t\tremovePairs.forEach(ipp => ipp.elem.remove());\n\t\tthis.itemPickerPairs = this.itemPickerPairs.filter(ipp => !removePairs.includes(ipp));\n\n\t\t// Add items that were missing.\n\t\tconst curItems = this.getInputValue();\n\t\tnewValue\n\t\t\t.filter(newItem => !curItems.includes(newItem))\n\t\t\t.forEach(newItem => this.addNewPicker(newItem));\n\n\t\t// Reorder to match the new list.\n\t\tthis.itemPickerPairs = newValue.map(item => this.itemPickerPairs.find(ipp => ipp.item == item)!);\n\n\t\t// Reorder item picker elements in the DOM if necessary.\n\t\tconst curPickerElems = Array.from(this.itemsDiv.children);\n\t\tif (!curPickerElems.every((elem, i) => elem == this.itemPickerPairs[i].elem)) {\n\t\t\tthis.itemPickerPairs.forEach(ipp => ipp.elem.remove());\n\t\t\tthis.itemPickerPairs.forEach(ipp => this.itemsDiv.appendChild(ipp.elem));\n\t\t}\n\t}\n\n\tgetPickerIndex(picker: ItemPicker): number {\n\t\treturn this.itemPickerPairs.findIndex(ipp => ipp.picker == picker);\n\t}\n\n\tprivate addNewPicker(item: ItemType) {\n\t\tconst itemContainer = document.createElement('div');\n\t\titemContainer.classList.add('list-picker-item-container');\n\t\tif (this.config.inlineMenuBar) {\n\t\t\titemContainer.classList.add('inline');\n\t\t}\n\n\t\tconst itemHTML = '<div class=\"list-picker-item\"></div>';\n\t\titemContainer.innerHTML = `\n\t\t\t${this.config.inlineMenuBar ? itemHTML : ''}\n\t\t\t<div class=\"list-picker-item-header\">\n\t\t\t\t<span class=\"list-picker-item-up fa fa-angle-up\"></span>\n\t\t\t\t<span class=\"list-picker-item-down fa fa-angle-down\"></span>\n\t\t\t\t<span class=\"list-picker-item-copy fa fa-copy\"></span>\n\t\t\t\t<span class=\"list-picker-item-delete fa fa-times\"></span>\n\t\t\t</div>\n\t\t\t${!this.config.inlineMenuBar ? itemHTML : ''}\n\t\t`;\n\n\t\tconst upButton = itemContainer.getElementsByClassName('list-picker-item-up')[0] as HTMLElement;\n\t\tupButton.addEventListener('click', event => {\n\t\t\tconst index = this.itemPickerPairs.findIndex(ipp => ipp.item == item);\n\t\t\tif (index == -1) {\n\t\t\t\tconsole.error('Could not find list picker item!');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (index == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newList = this.config.getValue(this.modObject);\n\t\t\tswap(newList, index, index - 1);\n\t\t\tthis.config.setValue(TypedEvent.nextEventID(), this.modObject, newList);\n\t\t});\n\t\ttippy(upButton, {\n\t\t\t'content': `Move Up`,\n\t\t\t'allowHTML': true,\n\t\t});\n\n\t\tconst downButton = itemContainer.getElementsByClassName('list-picker-item-down')[0] as HTMLElement;\n\t\tdownButton.addEventListener('click', event => {\n\t\t\tconst index = this.itemPickerPairs.findIndex(ipp => ipp.item == item);\n\t\t\tif (index == -1) {\n\t\t\t\tconsole.error('Could not find list picker item!');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (index == this.itemPickerPairs.length - 1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newList = this.config.getValue(this.modObject);\n\t\t\tswap(newList, index, index + 1);\n\t\t\tthis.config.setValue(TypedEvent.nextEventID(), this.modObject, newList);\n\t\t});\n\t\ttippy(downButton, {\n\t\t\t'content': `Move Down`,\n\t\t\t'allowHTML': true,\n\t\t});\n\n\t\tconst copyButton = itemContainer.getElementsByClassName('list-picker-item-copy')[0] as HTMLElement;\n\t\tcopyButton.addEventListener('click', event => {\n\t\t\tconst index = this.itemPickerPairs.findIndex(ipp => ipp.item == item);\n\t\t\tif (index == -1) {\n\t\t\t\tconsole.error('Could not find list picker item!');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst copiedItem = this.config.copyItem(item);\n\t\t\tconst newList = this.config.getValue(this.modObject).concat([copiedItem]);\n\t\t\tthis.config.setValue(TypedEvent.nextEventID(), this.modObject, newList);\n\t\t});\n\t\ttippy(copyButton, {\n\t\t\t'content': `Copy to New ${this.config.itemLabel}`,\n\t\t\t'allowHTML': true,\n\t\t});\n\n\t\tconst deleteButton = itemContainer.getElementsByClassName('list-picker-item-delete')[0] as HTMLElement;\n\t\tdeleteButton.addEventListener('click', event => {\n\t\t\tconst index = this.itemPickerPairs.findIndex(ipp => ipp.item == item);\n\t\t\tif (index == -1) {\n\t\t\t\tconsole.error('Could not find list picker item!');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newList = this.config.getValue(this.modObject);\n\t\t\tnewList.splice(index, 1);\n\t\t\tthis.config.setValue(TypedEvent.nextEventID(), this.modObject, newList);\n\t\t});\n\t\ttippy(deleteButton, {\n\t\t\t'content': `Delete`,\n\t\t\t'allowHTML': true,\n\t\t});\n\n\t\tconst itemElem = itemContainer.getElementsByClassName('list-picker-item')[0] as HTMLElement;\n\t\tconst itemPicker = this.config.newItemPicker(itemElem, item, this);\n\t\tthis.itemsDiv.appendChild(itemContainer);\n\n\t\tthis.itemPickerPairs.push({ item: item, elem: itemContainer, picker: itemPicker });\n\t}\n}\n","import { Spec } from '../proto/common.js';\nimport { CustomRotation, CustomSpell } from '../proto/common.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { Player } from '../player.js';\nimport { BooleanPicker } from '../components/boolean_picker.js';\nimport { IconEnumPicker, IconEnumPickerConfig, IconEnumValueConfig } from '../components/icon_enum_picker.js';\nimport { ListPicker, ListPickerConfig } from '../components/list_picker.js';\nimport { NumberPicker } from '../components/number_picker.js';\nimport { getEnumValues } from '../utils.js';\n\nimport { Component } from './component.js';\n\nexport interface CustomRotationPickerConfig<SpecType extends Spec, T> {\n\tgetValue: (player: Player<SpecType>) => CustomRotation,\n\tsetValue: (eventID: EventID, player: Player<SpecType>, newValue: CustomRotation) => void,\n\n\tnumColumns: number,\n\tvalues: Array<IconEnumValueConfig<Player<SpecType>, T>>;\n\n\tshowWhen?: (player: Player<SpecType>) => boolean,\n}\n\nexport class CustomRotationPicker<SpecType extends Spec, T> extends Component {\n\tconstructor(parent: HTMLElement, modPlayer: Player<SpecType>, config: CustomRotationPickerConfig<SpecType, T>) {\n\t\tsuper(parent, 'custom-rotation-picker-root');\n\n\t\tnew ListPicker<Player<SpecType>, CustomSpell, CustomSpellPicker<SpecType, T>>(this.rootElem, modPlayer, {\n\t\t\textraCssClasses: [\n\t\t\t\t'custom-spells-picker',\n\t\t\t],\n\t\t\ttitle: 'Spell Priority',\n\t\t\ttitleTooltip: 'Spells at the top of the list are prioritized first. Safely ignores untalented options.',\n\t\t\titemLabel: 'Spell',\n\t\t\tchangedEvent: (player: Player<SpecType>) => player.changeEmitter,\n\t\t\tgetValue: (player: Player<SpecType>) => config.getValue(player).spells,\n\t\t\tsetValue: (eventID: EventID, player: Player<SpecType>, newValue: Array<CustomSpell>) => {\n\t\t\t\tconfig.setValue(eventID, player, CustomRotation.create({\n\t\t\t\t\tspells: newValue,\n\t\t\t\t}));\n\t\t\t},\n\t\t\tnewItem: () => CustomSpell.create(),\n\t\t\tcopyItem: (oldItem: CustomSpell) => CustomSpell.clone(oldItem),\n\t\t\tnewItemPicker: (parent: HTMLElement, newItem: CustomSpell, listPicker: ListPicker<Player<SpecType>, CustomSpell, CustomSpellPicker<SpecType, T>>) => new CustomSpellPicker(parent, modPlayer, newItem, config, listPicker),\n\t\t\tinlineMenuBar: true,\n\t\t\tshowWhen: config.showWhen,\n\t\t});\n\t}\n}\n\nclass CustomSpellPicker<SpecType extends Spec, T> extends Component {\n\tprivate readonly player: Player<SpecType>;\n\tprivate readonly config: CustomRotationPickerConfig<SpecType, T>;\n\tprivate readonly listPicker: ListPicker<Player<SpecType>, CustomSpell, CustomSpellPicker<SpecType, T>>;\n\n\tconstructor(parent: HTMLElement, player: Player<SpecType>, modSpell: CustomSpell, config: CustomRotationPickerConfig<SpecType, T>, listPicker: ListPicker<Player<SpecType>, CustomSpell, CustomSpellPicker<SpecType, T>>) {\n\t\tsuper(parent, 'custom-spell-picker-root');\n\t\tthis.player = player;\n\t\tthis.config = config;\n\t\tthis.listPicker = listPicker;\n\n\t\tnew IconEnumPicker<CustomSpell, number>(this.rootElem, modSpell, {\n\t\t\tnumColumns: config.numColumns,\n\t\t\tvalues: config.values.map(value => {\n\t\t\t\tif (value.showWhen) {\n\t\t\t\t\tconst oldShowWhen = value.showWhen;\n\t\t\t\t\tvalue.showWhen = ((spell: CustomSpell) => oldShowWhen(player)) as unknown as ((player: Player<SpecType>) => boolean);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}) as unknown as Array<IconEnumValueConfig<CustomSpell, number>>,\n\t\t\tequals: (a: number, b: number) => a == b,\n\t\t\tzeroValue: 0,\n\t\t\tchangedEvent: (spell: CustomSpell) => player.changeEmitter,\n\t\t\tgetValue: (spell: CustomSpell) => spell.spell,\n\t\t\tsetValue: (eventID: EventID, spell: CustomSpell, newValue: number) => {\n\t\t\t\tspell.spell = newValue;\n\t\t\t\tthis.setSpell(eventID, spell);\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate setSpell(eventID: EventID, spell: CustomSpell) {\n\t\tconst index = this.listPicker.getPickerIndex(this);\n\t\tconst cr = this.config.getValue(this.player);\n\t\tcr.spells[index] = CustomSpell.clone(spell);\n\t\tthis.config.setValue(eventID, this.player, cr);\n\t}\n}\n","import { Race } from '../proto/common.js';\nimport { specToEligibleRaces } from '../proto_utils/utils.js';\nimport { raceNames } from '../proto_utils/names.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Input, InputConfig } from './input.js';\n\nexport interface EnumValueConfig {\n\tname: string,\n\tvalue: number,\n\ttooltip?: string,\n}\n\nexport interface EnumPickerConfig<ModObject> extends InputConfig<ModObject, number> {\n\tvalues: Array<EnumValueConfig>;\n}\n\nexport class EnumPicker<ModObject> extends Input<ModObject, number> {\n\tprivate readonly selectElem: HTMLSelectElement;\n\n\tconstructor(parent: HTMLElement, modObject: ModObject, config: EnumPickerConfig<ModObject>) {\n\t\tsuper(parent, 'enum-picker-root', modObject, config);\n\n\t\tthis.selectElem = document.createElement('select');\n\t\tthis.selectElem.classList.add('enum-picker-selector');\n\t\tthis.rootElem.appendChild(this.selectElem);\n\n\t\tconfig.values.forEach((value) => {\n\t\t\tconst option = document.createElement('option');\n\t\t\toption.value = String(value.value);\n\t\t\toption.textContent = value.name;\n\t\t\tthis.selectElem.appendChild(option);\n\n\t\t\tif (value.tooltip) {\n\t\t\t\toption.title = value.tooltip;\n\t\t\t}\n\t\t});\n\n\t\tthis.init();\n\n\t\tthis.selectElem.addEventListener('change', event => {\n\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t});\n\t}\n\n\tgetInputElem(): HTMLElement {\n\t\treturn this.selectElem;\n\t}\n\n\tgetInputValue(): number {\n\t\treturn parseInt(this.selectElem.value);\n\t}\n\n\tsetInputValue(newValue: number) {\n\t\tthis.selectElem.value = String(newValue);\n\t}\n}\n","import { MobType } from '../proto/common.js';\nimport { SpellSchool } from '../proto/common.js';\nimport { Stat } from '../proto/common.js';\nimport { Encounter } from '../encounter.js';\nimport { Target } from '../target.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { BooleanPicker } from '../components/boolean_picker.js';\nimport { EnumPicker, EnumPickerConfig } from '../components/enum_picker.js';\nimport { ListPicker, ListPickerConfig } from '../components/list_picker.js';\nimport { NumberPicker } from '../components/number_picker.js';\nimport { Stats } from '../proto_utils/stats.js';\nimport { isTankSpec } from '../proto_utils/utils.js';\nimport { statNames } from '../proto_utils/names.js';\nimport { getEnumValues } from '../utils.js';\n\nimport { Component } from './component.js';\nimport { Popup } from './popup.js';\n\nimport * as Mechanics from '../constants/mechanics.js';\nimport { IndividualSimUI } from '../individual_sim_ui.js';\nimport { SimUI } from '../sim_ui.js';\n\nexport interface EncounterPickerConfig {\n\tshowExecuteProportion: boolean,\n}\n\nexport class EncounterPicker extends Component {\n\tconstructor(parent: HTMLElement, modEncounter: Encounter, config: EncounterPickerConfig, simUI: SimUI) {\n\t\tsuper(parent, 'encounter-picker-root');\n\n\t\taddEncounterFieldPickers(this.rootElem, modEncounter, config.showExecuteProportion);\n\n\t\t// Need to wait so that the encounter and target presets will be loaded.\n\t\tmodEncounter.sim.waitForInit().then(() => {\n\t\t\tconst presetTargets = modEncounter.sim.getAllPresetTargets();\n\t\t\tnew EnumPicker<Encounter>(this.rootElem, modEncounter, {\n\t\t\t\textraCssClasses: ['npc-picker'],\n\t\t\t\tlabel: 'NPC',\n\t\t\t\tlabelTooltip: 'Selects a preset NPC configuration.',\n\t\t\t\tvalues: [\n\t\t\t\t\t{ name: 'Custom', value: -1 },\n\t\t\t\t].concat(presetTargets.map((pe, i) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: pe.path,\n\t\t\t\t\t\tvalue: i,\n\t\t\t\t\t};\n\t\t\t\t})),\n\t\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\t\tgetValue: (encounter: Encounter) => presetTargets.findIndex(pe => encounter.primaryTarget.matchesPreset(pe)),\n\t\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t\t\tif (newValue != -1) {\n\t\t\t\t\t\tencounter.primaryTarget.applyPreset(eventID, presetTargets[newValue]);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t//new EnumPicker<Encounter>(this.rootElem, modEncounter, {\n\t\t\t//\tlabel: 'Target Level',\n\t\t\t//\tvalues: [\n\t\t\t//\t\t{ name: '83', value: 83 },\n\t\t\t//\t\t{ name: '82', value: 82 },\n\t\t\t//\t\t{ name: '81', value: 81 },\n\t\t\t//\t\t{ name: '80', value: 80 },\n\t\t\t//\t],\n\t\t\t//\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\t//\tgetValue: (encounter: Encounter) => encounter.primaryTarget.getLevel(),\n\t\t\t//\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t//\t\tencounter.primaryTarget.setLevel(eventID, newValue);\n\t\t\t//\t},\n\t\t\t//});\n\n\t\t\t//new EnumPicker(this.rootElem, modEncounter, {\n\t\t\t//\tlabel: 'Mob Type',\n\t\t\t//\tvalues: mobTypeEnumValues,\n\t\t\t//\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\t//\tgetValue: (encounter: Encounter) => encounter.primaryTarget.getMobType(),\n\t\t\t//\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t//\t\tencounter.primaryTarget.setMobType(eventID, newValue);\n\t\t\t//\t},\n\t\t\t//});\n\n\t\t\t// Leaving this commented in case we want it later. But it takes up a lot of\n\t\t\t// screen space and none of these fields get changed much.\n\t\t\t//if (config.simpleTargetStats) {\n\t\t\t//\tconfig.simpleTargetStats.forEach(stat => {\n\t\t\t//\t\tnew NumberPicker(this.rootElem, modEncounter, {\n\t\t\t//\t\t\tlabel: statNames[stat],\n\t\t\t//\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\t//\t\t\tgetValue: (encounter: Encounter) => encounter.primaryTarget.getStats().getStat(stat),\n\t\t\t//\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t//\t\t\t\tencounter.primaryTarget.setStats(eventID, encounter.primaryTarget.getStats().withStat(stat, newValue));\n\t\t\t//\t\t\t},\n\t\t\t//\t\t});\n\t\t\t//\t});\n\t\t\t//}\n\n\t\t\tif (simUI.isIndividualSim() && isTankSpec((simUI as IndividualSimUI<any>).player.spec)) {\n\t\t\t\tnew NumberPicker(this.rootElem, modEncounter, {\n\t\t\t\t\tlabel: 'Min Base Damage',\n\t\t\t\t\tlabelTooltip: 'Base damage for auto attacks, i.e. lowest roll with 0 AP against a 0-armor Player.',\n\t\t\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\t\t\tgetValue: (encounter: Encounter) => encounter.primaryTarget.getMinBaseDamage(),\n\t\t\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t\t\t\tencounter.primaryTarget.setMinBaseDamage(eventID, newValue);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst advancedButton = document.createElement('button');\n\t\t\tadvancedButton.classList.add('sim-button', 'advanced-button');\n\t\t\tadvancedButton.textContent = 'ADVANCED';\n\t\t\tadvancedButton.addEventListener('click', () => new AdvancedEncounterPicker(this.rootElem, modEncounter, simUI));\n\t\t\tthis.rootElem.appendChild(advancedButton);\n\t\t});\n\t}\n}\n\nclass AdvancedEncounterPicker extends Popup {\n\tprivate readonly encounter: Encounter;\n\n\tconstructor(parent: HTMLElement, encounter: Encounter, simUI: SimUI) {\n\t\tsuper(parent);\n\t\tthis.encounter = encounter;\n\n\t\tthis.rootElem.classList.add('advanced-encounter-picker');\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<div class=\"encounter-type\"></div>\n\t\t\t<div class=\"encounter-header\">\n\t\t\t</div>\n\t\t\t<div class=\"encounter-targets\">\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.addCloseButton();\n\n\t\tconst presetEncounters = this.encounter.sim.getAllPresetEncounters();\n\n\t\tconst encounterTypeContainer = this.rootElem.getElementsByClassName('encounter-type')[0] as HTMLElement;\n\t\tnew EnumPicker<Encounter>(encounterTypeContainer, this.encounter, {\n\t\t\tlabel: 'ENCOUNTER',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Custom', value: -1 },\n\t\t\t].concat(presetEncounters.map((pe, i) => {\n\t\t\t\treturn {\n\t\t\t\t\tname: pe.path,\n\t\t\t\t\tvalue: i,\n\t\t\t\t};\n\t\t\t})),\n\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\tgetValue: (encounter: Encounter) => presetEncounters.findIndex(pe => encounter.matchesPreset(pe)),\n\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t\tif (newValue != -1) {\n\t\t\t\t\tencounter.applyPreset(eventID, presetEncounters[newValue]);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tconst header = this.rootElem.getElementsByClassName('encounter-header')[0] as HTMLElement;\n\t\tconst targetsElem = this.rootElem.getElementsByClassName('encounter-targets')[0] as HTMLElement;\n\n\t\taddEncounterFieldPickers(header, this.encounter, true);\n\t\tif (!simUI.isIndividualSim()) {\n\t\t\tnew BooleanPicker<Encounter>(header, encounter, {\n\t\t\t\tlabel: 'Use Health',\n\t\t\t\tlabelTooltip: 'Uses a damage limit in place of a duration limit. Damage limit is equal to sum of all targets health.',\n\t\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\t\tgetValue: (encounter: Encounter) => encounter.getUseHealth(),\n\t\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: boolean) => {\n\t\t\t\t\tencounter.setUseHealth(eventID, newValue);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tnew ListPicker<Encounter, Target, TargetPicker>(targetsElem, this.encounter, {\n\t\t\textraCssClasses: [\n\t\t\t\t'targets-picker',\n\t\t\t],\n\t\t\titemLabel: 'Target',\n\t\t\tchangedEvent: (encounter: Encounter) => encounter.targetsChangeEmitter,\n\t\t\tgetValue: (encounter: Encounter) => encounter.getTargets(),\n\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: Array<Target>) => {\n\t\t\t\tencounter.setTargets(eventID, newValue);\n\t\t\t},\n\t\t\tnewItem: () => Target.fromDefaults(TypedEvent.nextEventID(), this.encounter.sim),\n\t\t\tcopyItem: (oldItem: Target) => oldItem.clone(TypedEvent.nextEventID()),\n\t\t\tnewItemPicker: (parent: HTMLElement, target: Target) => new TargetPicker(parent, target),\n\t\t});\n\t}\n}\n\nclass TargetPicker extends Component {\n\tconstructor(parent: HTMLElement, modTarget: Target) {\n\t\tsuper(parent, 'target-picker-root');\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<div class=\"target-picker-section target-picker-section1\"></div>\n\t\t\t<div class=\"target-picker-section target-picker-section2\"></div>\n\t\t\t<div class=\"target-picker-section target-picker-section3 threat-metrics\"></div>\n\t\t`;\n\n\t\tconst encounter = modTarget.sim.encounter;\n\t\tconst section1 = this.rootElem.getElementsByClassName('target-picker-section1')[0] as HTMLElement;\n\t\tconst section2 = this.rootElem.getElementsByClassName('target-picker-section2')[0] as HTMLElement;\n\t\tconst section3 = this.rootElem.getElementsByClassName('target-picker-section3')[0] as HTMLElement;\n\n\t\tconst presetTargets = modTarget.sim.getAllPresetTargets();\n\t\tnew EnumPicker<Target>(section1, modTarget, {\n\t\t\textraCssClasses: ['npc-picker'],\n\t\t\tlabel: 'NPC',\n\t\t\tlabelTooltip: 'Selects a preset NPC configuration.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Custom', value: -1 },\n\t\t\t].concat(presetTargets.map((pe, i) => {\n\t\t\t\treturn {\n\t\t\t\t\tname: pe.path,\n\t\t\t\t\tvalue: i,\n\t\t\t\t};\n\t\t\t})),\n\t\t\tchangedEvent: (target: Target) => target.changeEmitter,\n\t\t\tgetValue: (target: Target) => presetTargets.findIndex(pe => target.matchesPreset(pe)),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\tif (newValue != -1) {\n\t\t\t\t\ttarget.applyPreset(eventID, presetTargets[newValue]);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tnew EnumPicker<Target>(section1, modTarget, {\n\t\t\textraCssClasses: ['ai-picker'],\n\t\t\tlabel: 'AI',\n\t\t\tlabelTooltip: `\n\t\t\t\t<p>Determines the target\\'s ability rotation.</p>\n\t\t\t\t<p>Note that most rotations are not yet implemented.</p>\n\t\t\t`,\n\t\t\tvalues: [\n\t\t\t\t{ name: 'None', value: 0 },\n\t\t\t].concat(presetTargets.map(pe => {\n\t\t\t\treturn {\n\t\t\t\t\tname: pe.path,\n\t\t\t\t\tvalue: pe.target!.id,\n\t\t\t\t};\n\t\t\t})),\n\t\t\tchangedEvent: (target: Target) => target.changeEmitter,\n\t\t\tgetValue: (target: Target) => target.getId(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\ttarget.setId(eventID, newValue);\n\t\t\t},\n\t\t});\n\n\t\tnew EnumPicker<Target>(section1, modTarget, {\n\t\t\tlabel: 'Level',\n\t\t\tvalues: [\n\t\t\t\t{ name: '83', value: 83 },\n\t\t\t\t{ name: '82', value: 82 },\n\t\t\t\t{ name: '81', value: 81 },\n\t\t\t\t{ name: '80', value: 80 },\n\t\t\t],\n\t\t\tchangedEvent: (target: Target) => target.levelChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getLevel(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\ttarget.setLevel(eventID, newValue);\n\t\t\t},\n\t\t});\n\t\tnew EnumPicker(section1, modTarget, {\n\t\t\tlabel: 'Mob Type',\n\t\t\tvalues: mobTypeEnumValues,\n\t\t\tchangedEvent: (target: Target) => target.mobTypeChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getMobType(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\ttarget.setMobType(eventID, newValue);\n\t\t\t},\n\t\t});\n\t\tnew EnumPicker<Target>(section1, modTarget, {\n\t\t\textraCssClasses: ['threat-metrics'],\n\t\t\tlabel: 'Tanked By',\n\t\t\tlabelTooltip: 'Determines which player in the raid this enemy will attack. If no player is assigned to the specified tank slot, this enemy will not attack.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'None', value: -1 },\n\t\t\t\t{ name: 'Main Tank', value: 0 },\n\t\t\t\t{ name: 'Tank 2', value: 1 },\n\t\t\t\t{ name: 'Tank 3', value: 2 },\n\t\t\t\t{ name: 'Tank 4', value: 3 },\n\t\t\t],\n\t\t\tchangedEvent: (target: Target) => target.propChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getTankIndex(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\ttarget.setTankIndex(eventID, newValue);\n\t\t\t},\n\t\t});\n\n\t\tALL_TARGET_STATS.forEach(statData => {\n\t\t\tconst stat = statData.stat;\n\t\t\tnew NumberPicker(section2, modTarget, {\n\t\t\t\textraCssClasses: statData.extraCssClasses,\n\t\t\t\tlabel: statNames[stat],\n\t\t\t\tlabelTooltip: statData.tooltip,\n\t\t\t\tchangedEvent: (target: Target) => target.statsChangeEmitter,\n\t\t\t\tgetValue: (target: Target) => target.getStats().getStat(stat),\n\t\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\t\ttarget.setStats(eventID, target.getStats().withStat(stat, newValue));\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\n\t\tnew NumberPicker(section3, modTarget, {\n\t\t\tlabel: 'Swing Speed',\n\t\t\tlabelTooltip: 'Time in seconds between auto attacks. Set to 0 to disable auto attacks.',\n\t\t\tchangedEvent: (target: Target) => target.propChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getSwingSpeed(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\ttarget.setSwingSpeed(eventID, newValue);\n\t\t\t},\n\t\t});\n\t\tnew NumberPicker(section3, modTarget, {\n\t\t\tlabel: 'Min Base Damage',\n\t\t\tlabelTooltip: 'Base damage for auto attacks, i.e. lowest roll with 0 AP against a 0-armor Player.',\n\t\t\tchangedEvent: (target: Target) => target.propChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getMinBaseDamage(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\ttarget.setMinBaseDamage(eventID, newValue);\n\t\t\t},\n\t\t});\n\t\tnew BooleanPicker(section3, modTarget, {\n\t\t\tlabel: 'Dual Wield',\n\t\t\tlabelTooltip: 'Uses 2 separate weapons to attack.',\n\t\t\tchangedEvent: (target: Target) => target.propChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getDualWield(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: boolean) => {\n\t\t\t\ttarget.setDualWield(eventID, newValue);\n\t\t\t},\n\t\t});\n\t\tnew BooleanPicker(section3, modTarget, {\n\t\t\tlabel: 'DW Miss Penalty',\n\t\t\tlabelTooltip: 'Enables the Dual Wield Miss Penalty (+19% chance to miss) if dual wielding. Bosses in Hyjal/BT/SWP usually have this disabled to stop tanks from avoidance stacking.',\n\t\t\tchangedEvent: (target: Target) => target.changeEmitter,\n\t\t\tgetValue: (target: Target) => target.getDualWieldPenalty(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: boolean) => {\n\t\t\t\ttarget.setDualWieldPenalty(eventID, newValue);\n\t\t\t},\n\t\t\tenableWhen: (target: Target) => target.getDualWield(),\n\t\t});\n\t\tnew BooleanPicker(section3, modTarget, {\n\t\t\tlabel: 'Parry Haste',\n\t\t\tlabelTooltip: 'Whether this enemy will gain parry haste when parrying attacks.',\n\t\t\tchangedEvent: (target: Target) => target.propChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getParryHaste(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: boolean) => {\n\t\t\t\ttarget.setParryHaste(eventID, newValue);\n\t\t\t},\n\t\t});\n\t\tnew EnumPicker<Target>(section3, modTarget, {\n\t\t\tlabel: 'Spell School',\n\t\t\tlabelTooltip: 'Type of damage caused by auto attacks. This is usually Physical, but some enemies have elemental attacks.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Physical', value: SpellSchool.SpellSchoolPhysical },\n\t\t\t\t{ name: 'Arcane', value: SpellSchool.SpellSchoolArcane },\n\t\t\t\t{ name: 'Fire', value: SpellSchool.SpellSchoolFire },\n\t\t\t\t{ name: 'Frost', value: SpellSchool.SpellSchoolFrost },\n\t\t\t\t{ name: 'Holy', value: SpellSchool.SpellSchoolHoly },\n\t\t\t\t{ name: 'Nature', value: SpellSchool.SpellSchoolNature },\n\t\t\t\t{ name: 'Shadow', value: SpellSchool.SpellSchoolShadow },\n\t\t\t],\n\t\t\tchangedEvent: (target: Target) => target.propChangeEmitter,\n\t\t\tgetValue: (target: Target) => target.getSpellSchool(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: number) => {\n\t\t\t\ttarget.setSpellSchool(eventID, newValue);\n\t\t\t},\n\t\t});\n\t\tnew BooleanPicker(section3, modTarget, {\n\t\t\tlabel: 'Sunwell Radiance',\n\t\t\tlabelTooltip: 'Reduces the chance for this enemy\\'s attacks to be dodged by 20% and be missed by 5%. All Sunwell Plateau bosses have this.',\n\t\t\tchangedEvent: (target: Target) => target.changeEmitter,\n\t\t\tgetValue: (target: Target) => target.getSuppressDodge(),\n\t\t\tsetValue: (eventID: EventID, target: Target, newValue: boolean) => {\n\t\t\t\ttarget.setSuppressDodge(eventID, newValue);\n\t\t\t},\n\t\t\tenableWhen: (target: Target) => target.getLevel() == Mechanics.BOSS_LEVEL,\n\t\t});\n\t}\n}\n\nfunction addEncounterFieldPickers(rootElem: HTMLElement, encounter: Encounter, showExecuteProportion: boolean) {\n\tnew NumberPicker(rootElem, encounter, {\n\t\tlabel: 'Duration',\n\t\tlabelTooltip: 'The fight length for each sim iteration, in seconds.',\n\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\tgetValue: (encounter: Encounter) => encounter.getDuration(),\n\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\tencounter.setDuration(eventID, newValue);\n\t\t},\n\t\tenableWhen: (obj) => { return !encounter.getUseHealth() },\n\t});\n\tnew NumberPicker(rootElem, encounter, {\n\t\tlabel: 'Duration +/-',\n\t\tlabelTooltip: 'Adds a random amount of time, in seconds, between [value, -1 * value] to each sim iteration. For example, setting Duration to 180 and Duration +/- to 10 will result in random durations between 170s and 190s.',\n\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\tgetValue: (encounter: Encounter) => encounter.getDurationVariation(),\n\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\tencounter.setDurationVariation(eventID, newValue);\n\t\t},\n\t\tenableWhen: (obj) => { return !encounter.getUseHealth() },\n\t});\n\n\tif (showExecuteProportion) {\n\t\tnew NumberPicker(rootElem, encounter, {\n\t\t\tlabel: 'Execute Duration 20 (%)',\n\t\t\tlabelTooltip: 'Percentage of the total encounter duration, for which the targets will be considered to be in execute range (< 20% HP) for the purpose of effects like Warrior Execute or Mage Molten Fury.',\n\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\tgetValue: (encounter: Encounter) => encounter.getExecuteProportion20() * 100,\n\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t\tencounter.setExecuteProportion20(eventID, newValue / 100);\n\t\t\t},\n\t\t\tenableWhen: (obj) => { return !encounter.getUseHealth() },\n\t\t});\n\t\tnew NumberPicker(rootElem, encounter, {\n\t\t\tlabel: 'Execute Duration 25 (%)',\n\t\t\tlabelTooltip: 'Percentage of the total encounter duration, for which the targets will be considered to be in execute range (< 25% HP) for the purpose of effects like Warlock\\'s Drain Soul.',\n\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\tgetValue: (encounter: Encounter) => encounter.getExecuteProportion25() * 100,\n\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t\tencounter.setExecuteProportion25(eventID, newValue / 100);\n\t\t\t},\n\t\t\tenableWhen: (obj) => { return !encounter.getUseHealth() },\n\t\t});\n\t\tnew NumberPicker(rootElem, encounter, {\n\t\t\tlabel: 'Execute Duration 35 (%)',\n\t\t\tlabelTooltip: 'Percentage of the total encounter duration, for which the targets will be considered to be in execute range (< 35% HP) for the purpose of effects like Warrior Execute or Mage Molten Fury.',\n\t\t\tchangedEvent: (encounter: Encounter) => encounter.changeEmitter,\n\t\t\tgetValue: (encounter: Encounter) => encounter.getExecuteProportion35() * 100,\n\t\t\tsetValue: (eventID: EventID, encounter: Encounter, newValue: number) => {\n\t\t\t\tencounter.setExecuteProportion35(eventID, newValue / 100);\n\t\t\t},\n\t\t\tenableWhen: (obj) => { return !encounter.getUseHealth() },\n\t\t});\n\t}\n}\n\nconst ALL_TARGET_STATS: Array<{ stat: Stat, tooltip: string, extraCssClasses: Array<string> }> = [\n\t{ stat: Stat.StatHealth, tooltip: '', extraCssClasses: [] },\n\t{ stat: Stat.StatArmor, tooltip: '', extraCssClasses: [] },\n\t{ stat: Stat.StatArcaneResistance, tooltip: '', extraCssClasses: [] },\n\t{ stat: Stat.StatFireResistance, tooltip: '', extraCssClasses: [] },\n\t{ stat: Stat.StatFrostResistance, tooltip: '', extraCssClasses: [] },\n\t{ stat: Stat.StatNatureResistance, tooltip: '', extraCssClasses: [] },\n\t{ stat: Stat.StatShadowResistance, tooltip: '', extraCssClasses: [] },\n\t{ stat: Stat.StatAttackPower, tooltip: '', extraCssClasses: ['threat-metrics'] },\n\t{ stat: Stat.StatBlockValue, tooltip: '', extraCssClasses: ['threat-metrics'] },\n];\n\nconst mobTypeEnumValues = [\n\t{ name: 'None', value: MobType.MobTypeUnknown },\n\t{ name: 'Beast', value: MobType.MobTypeBeast },\n\t{ name: 'Demon', value: MobType.MobTypeDemon },\n\t{ name: 'Dragonkin', value: MobType.MobTypeDragonkin },\n\t{ name: 'Elemental', value: MobType.MobTypeElemental },\n\t{ name: 'Giant', value: MobType.MobTypeGiant },\n\t{ name: 'Humanoid', value: MobType.MobTypeHumanoid },\n\t{ name: 'Mechanical', value: MobType.MobTypeMechanical },\n\t{ name: 'Undead', value: MobType.MobTypeUndead },\n];\n","import { Enchant } from '../proto/common.js';\n\nlet descriptionsPromise: Promise<Record<number, string>> | null = null;\nfunction fetchEnchantDescriptions(): Promise<Record<number, string>> {\n\tif (descriptionsPromise == null) {\n\t\tdescriptionsPromise = fetch('/wotlk/assets/enchants/descriptions.json')\n\t\t.then(response => response.json())\n\t\t.then(json => {\n\t\t\tconst descriptionsMap: Record<number, string> = {};\n\t\t\tfor (let idStr in json) {\n\t\t\t\tdescriptionsMap[parseInt(idStr)] = json[idStr];\n\t\t\t}\n\t\t\treturn descriptionsMap;\n\t\t});\n\t}\n\treturn descriptionsPromise;\n}\n\nexport async function getEnchantDescription(enchant: Enchant): Promise<string> {\n\tconst descriptionsMap = await fetchEnchantDescriptions();\n\treturn descriptionsMap[enchant.effectId] || enchant.name;\n}\n","import { BooleanPicker } from '../components/boolean_picker.js';\nimport { EnumPicker, EnumPickerConfig } from '../components/enum_picker.js';\nimport { Conjured } from '../proto/common.js';\nimport { RaidTarget } from '../proto/common.js';\nimport { TristateEffect } from '../proto/common.js';\nimport { Party } from '../party.js';\nimport { Player } from '../player.js';\nimport { Sim } from '../sim.js';\nimport { Target } from '../target.js';\nimport { Encounter } from '../encounter.js';\nimport { Raid } from '../raid.js';\nimport { SimUI } from '../sim_ui.js';\nimport { IndividualSimUI } from '../individual_sim_ui.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { emptyRaidTarget } from '../proto_utils/utils.js';\n\nexport function makeShow1hWeaponsSelector(parent: HTMLElement, sim: Sim): BooleanPicker<Sim> {\n    return new BooleanPicker<Sim>(parent, sim, {\n        extraCssClasses: [\n            'show-1h-weapons-selector',\n        ],\n        label: '1H',\n        changedEvent: (sim: Sim) => sim.show1hWeaponsChangeEmitter,\n        getValue: (sim: Sim) => sim.getShow1hWeapons(),\n        setValue: (eventID: EventID, sim: Sim, newValue: boolean) => {\n            sim.setShow1hWeapons(eventID, newValue);\n        },\n    });\n}\n\nexport function makeShow2hWeaponsSelector(parent: HTMLElement, sim: Sim): BooleanPicker<Sim> {\n    return new BooleanPicker<Sim>(parent, sim, {\n        extraCssClasses: [\n            'show-2h-weapons-selector',\n        ],\n        label: '2H',\n        changedEvent: (sim: Sim) => sim.show2hWeaponsChangeEmitter,\n        getValue: (sim: Sim) => sim.getShow2hWeapons(),\n        setValue: (eventID: EventID, sim: Sim, newValue: boolean) => {\n            sim.setShow2hWeapons(eventID, newValue);\n        },\n    });\n}\n\nexport function makeShowMatchingGemsSelector(parent: HTMLElement, sim: Sim): BooleanPicker<Sim> {\n    return new BooleanPicker<Sim>(parent, sim, {\n        extraCssClasses: [\n            'show-matching-gems-selector',\n        ],\n        label: 'Match Socket',\n        changedEvent: (sim: Sim) => sim.showMatchingGemsChangeEmitter,\n        getValue: (sim: Sim) => sim.getShowMatchingGems(),\n        setValue: (eventID: EventID, sim: Sim, newValue: boolean) => {\n            sim.setShowMatchingGems(eventID, newValue);\n        },\n    });\n}\n\nexport function makePhaseSelector(parent: HTMLElement, sim: Sim): EnumPicker<Sim> {\n    return new EnumPicker<Sim>(parent, sim, {\n        extraCssClasses: [\n            'phase-selector',\n        ],\n        values: [\n            { name: 'Phase 1', value: 1 },\n            { name: 'Phase 2', value: 2 },\n            { name: 'Phase 3', value: 3 },\n            { name: 'Phase 4', value: 4 },\n            { name: 'Phase 5', value: 5 },\n        ],\n        changedEvent: (sim: Sim) => sim.phaseChangeEmitter,\n        getValue: (sim: Sim) => sim.getPhase(),\n        setValue: (eventID: EventID, sim: Sim, newValue: number) => {\n            sim.setPhase(eventID, newValue);\n        },\n    });\n}\n\nexport const StartingConjured = {\n\ttype: 'enum' as const,\n\tlabel: 'Starting Conjured',\n\tlabelTooltip: 'If set, this conjured will be used instead of the default conjured for the first few uses.',\n\tvalues: [\n\t\t{ name: 'None', value: Conjured.ConjuredUnknown },\n\t\t{ name: 'Dark Rune', value: Conjured.ConjuredDarkRune },\n\t\t{ name: 'Flame Cap', value: Conjured.ConjuredFlameCap },\n\t\t{ name: 'Thistle Tea', value: Conjured.ConjuredRogueThistleTea },\n\t],\n\tchangedEvent: (player: Player<any>) => player.consumesChangeEmitter,\n\tgetValue: (player: Player<any>) => player.getConsumes().startingConjured,\n\tsetValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n\t\tconst newConsumes = player.getConsumes();\n\t\tnewConsumes.startingConjured = newValue;\n\t\tplayer.setConsumes(eventID, newConsumes);\n\t},\n};\n\nexport const NumStartingConjured = {\n    type: 'number' as const,\n    label: '# to use',\n    labelTooltip: 'The number of starting conjured items to use before going back to the default conjured.',\n    changedEvent: (player: Player<any>) => player.consumesChangeEmitter,\n    getValue: (player: Player<any>) => player.getConsumes().numStartingConjured,\n    setValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n        const newConsumes = player.getConsumes();\n        newConsumes.numStartingConjured = newValue;\n        player.setConsumes(eventID, newConsumes);\n    },\n    enableWhen: (player: Player<any>) => player.getConsumes().startingConjured != Conjured.ConjuredUnknown,\n};\n\nexport const InFrontOfTarget = {\n    type: 'boolean' as const,\n    label: 'In Front of Target',\n    labelTooltip: 'Stand in front of the target, causing Blocks and Parries to be included in the attack table.',\n    changedEvent: (player: Player<any>) => player.inFrontOfTargetChangeEmitter,\n    getValue: (player: Player<any>) => player.getInFrontOfTarget(),\n    setValue: (eventID: EventID, player: Player<any>, newValue: boolean) => {\n        player.setInFrontOfTarget(eventID, newValue);\n    },\n};\n\nexport const DistanceFromTarget = {\n    type: 'number' as const,\n    label: 'Distance From Target',\n    labelTooltip: 'Distance from targets, in yards. Used to calculate travel time for certain spells.',\n    changedEvent: (player: Player<any>) => player.distanceFromTargetChangeEmitter,\n    getValue: (player: Player<any>) => player.getDistanceFromTarget(),\n    setValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n        player.setDistanceFromTarget(eventID, newValue);\n    },\n};\n\nexport const TankAssignment = {\n    type: 'enum' as const,\n    extraCssClasses: [\n        'tank-selector',\n        'threat-metrics',\n        'within-raid-sim-hide',\n    ],\n    label: 'Tank Assignment',\n    labelTooltip: 'Determines which mobs will be tanked. Most mobs default to targeting the Main Tank, but in preset multi-target encounters this is not always true.',\n    values: [\n        { name: 'None', value: -1 },\n        { name: 'Main Tank', value: 0 },\n        { name: 'Tank 2', value: 1 },\n        { name: 'Tank 3', value: 2 },\n        { name: 'Tank 4', value: 3 },\n    ],\n    changedEvent: (player: Player<any>) => player.getRaid()!.tanksChangeEmitter,\n    getValue: (player: Player<any>) => player.getRaid()!.getTanks().findIndex(tank => RaidTarget.equals(tank, player.makeRaidTarget())),\n    setValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n        const newTanks = [];\n        if (newValue != -1) {\n            for (let i = 0; i < newValue; i++) {\n                newTanks.push(emptyRaidTarget());\n            }\n            newTanks.push(player.makeRaidTarget());\n        }\n        player.getRaid()!.setTanks(eventID, newTanks);\n    },\n};\n\nexport const IncomingHps = {\n    type: 'number' as const,\n    label: 'Incoming HPS',\n    labelTooltip: `\n\t\t<p>Average amount of healing received per second. Used for calculating chance of death.</p>\n\t\t<p>If set to 0, defaults to 125% of DTPS.</p>\n\t`,\n    changedEvent: (player: Player<any>) => player.getRaid()!.changeEmitter,\n    getValue: (player: Player<any>) => player.getHealingModel().hps,\n    setValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n        const healingModel = player.getHealingModel();\n        healingModel.hps = newValue;\n        player.setHealingModel(eventID, healingModel);\n    },\n    enableWhen: (player: Player<any>) => player.getRaid()!.getTanks().find(tank => RaidTarget.equals(tank, player.makeRaidTarget())) != null,\n};\n\nexport const HealingCadence = {\n    type: 'number' as const,\n    float: true,\n    label: 'Healing Cadence',\n    labelTooltip: `\n\t\t<p>How often the incoming heal 'ticks', in seconds. Generally, longer durations favor Effective Hit Points (EHP) for minimizing Chance of Death, while shorter durations favor avoidance.</p>\n\t\t<p>Example: if Incoming HPS is set to 1000 and this is set to 1s, then every 1s a heal will be received for 1000. If this is instead set to 2s, then every 2s a heal will be recieved for 2000.</p>\n\t\t<p>If set to 0, defaults to 2.5 seconds.</p>\n\t`,\n    changedEvent: (player: Player<any>) => player.getRaid()!.changeEmitter,\n    getValue: (player: Player<any>) => player.getHealingModel().cadenceSeconds,\n    setValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n        const healingModel = player.getHealingModel();\n        healingModel.cadenceSeconds = newValue;\n        player.setHealingModel(eventID, healingModel);\n    },\n    enableWhen: (player: Player<any>) => player.getRaid()!.getTanks().find(tank => RaidTarget.equals(tank, player.makeRaidTarget())) != null,\n};\n\nexport const HpPercentForDefensives = {\n    type: 'number' as const,\n    float: true,\n    label: 'HP % for Defensive CDs',\n    labelTooltip: `\n\t\t<p>% of Maximum Health, below which defensive cooldowns are allowed to be used.</p>\n\t\t<p>If set to 0, this restriction is disabled.</p>\n\t`,\n    changedEvent: (player: Player<any>) => player.cooldownsChangeEmitter,\n    getValue: (player: Player<any>) => player.getCooldowns().hpPercentForDefensives * 100,\n    setValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n        const cooldowns = player.getCooldowns();\n        cooldowns.hpPercentForDefensives = newValue / 100;\n        player.setCooldowns(eventID, cooldowns);\n    },\n};\n","import { getWowheadItemId } from '../proto_utils/equipped_item.js';\nimport { EquippedItem } from '../proto_utils/equipped_item.js';\nimport { getEmptyGemSocketIconUrl, gemMatchesSocket } from '../proto_utils/gems.js';\nimport { setGemSocketCssClass } from '../proto_utils/gems.js';\nimport { Stats } from '../proto_utils/stats.js';\nimport { enchantAppliesToItem } from '../proto_utils/utils.js';\nimport { Class, Enchant, Gem, GemColor } from '../proto/common.js';\nimport { HandType } from '../proto/common.js';\nimport { WeaponType } from '../proto/common.js';\nimport { Item } from '../proto/common.js';\nimport { ItemQuality } from '../proto/common.js';\nimport { ItemSlot } from '../proto/common.js';\nimport { ItemType } from '../proto/common.js';\nimport { Profession } from '../proto/common.js';\nimport { getEnchantDescription } from '../proto_utils/enchants.js';\nimport { ActionId } from '../proto_utils/action_id.js';\nimport { slotNames } from '../proto_utils/names.js';\nimport { setItemQualityCssClass } from '../css_utils.js';\nimport { Player } from '../player.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { formatDeltaTextElem } from '../utils.js';\nimport { getEnumValues } from '../utils.js';\n\nimport { Component } from './component.js';\nimport { Popup } from './popup.js';\nimport { makePhaseSelector } from './other_inputs.js';\nimport { makeShow1hWeaponsSelector } from './other_inputs.js';\nimport { makeShow2hWeaponsSelector } from './other_inputs.js';\nimport { makeShowMatchingGemsSelector } from './other_inputs.js';\n\ndeclare var $: any;\n\nexport class GearPicker extends Component {\n\t// ItemSlot is used as the index\n\treadonly itemPickers: Array<ItemPicker>;\n\n\tconstructor(parent: HTMLElement, player: Player<any>) {\n\t\tsuper(parent, 'gear-picker-root');\n\n\t\tconst leftSide = document.createElement('div');\n\t\tleftSide.classList.add('gear-picker-left');\n\t\tthis.rootElem.appendChild(leftSide);\n\n\t\tconst rightSide = document.createElement('div');\n\t\trightSide.classList.add('gear-picker-right');\n\t\tthis.rootElem.appendChild(rightSide);\n\n\t\tconst leftItemPickers = [\n\t\t\tItemSlot.ItemSlotHead,\n\t\t\tItemSlot.ItemSlotNeck,\n\t\t\tItemSlot.ItemSlotShoulder,\n\t\t\tItemSlot.ItemSlotBack,\n\t\t\tItemSlot.ItemSlotChest,\n\t\t\tItemSlot.ItemSlotWrist,\n\t\t\tItemSlot.ItemSlotMainHand,\n\t\t\tItemSlot.ItemSlotOffHand,\n\t\t].map(slot => new ItemPicker(leftSide, player, slot));\n\n\t\tconst rightItemPickers = [\n\t\t\tItemSlot.ItemSlotHands,\n\t\t\tItemSlot.ItemSlotWaist,\n\t\t\tItemSlot.ItemSlotLegs,\n\t\t\tItemSlot.ItemSlotFeet,\n\t\t\tItemSlot.ItemSlotFinger1,\n\t\t\tItemSlot.ItemSlotFinger2,\n\t\t\tItemSlot.ItemSlotTrinket1,\n\t\t\tItemSlot.ItemSlotTrinket2,\n\t\t\tItemSlot.ItemSlotRanged,\n\t\t].map(slot => new ItemPicker(rightSide, player, slot));\n\n\t\tthis.itemPickers = leftItemPickers.concat(rightItemPickers).sort((a, b) => a.slot - b.slot);\n\t}\n}\n\nclass ItemPicker extends Component {\n\treadonly slot: ItemSlot;\n\n\tprivate readonly player: Player<any>;\n\tprivate readonly iconElem: HTMLAnchorElement;\n\tprivate readonly nameElem: HTMLAnchorElement;\n\tprivate readonly enchantElem: HTMLAnchorElement;\n\tprivate readonly socketsContainerElem: HTMLElement;\n\n\t// All items and enchants that are eligible for this slot\n\tprivate _items: Array<Item> = [];\n\tprivate _enchants: Array<Enchant> = [];\n\n\tprivate _equippedItem: EquippedItem | null = null;\n\n\n\tconstructor(parent: HTMLElement, player: Player<any>, slot: ItemSlot) {\n\t\tsuper(parent, 'item-picker-root');\n\t\tthis.slot = slot;\n\t\tthis.player = player;\n\n\t\tthis.rootElem.innerHTML = `\n      <a class=\"item-picker-icon\">\n        <div class=\"item-picker-sockets-container\">\n        </div>\n      </a>\n      <div class=\"item-picker-labels-container\">\n        <a class=\"item-picker-name\"></a><br>\n        <a class=\"item-picker-enchant\"></a>\n      </div>\n    `;\n\n\t\tthis.iconElem = this.rootElem.getElementsByClassName('item-picker-icon')[0] as HTMLAnchorElement;\n\t\tthis.nameElem = this.rootElem.getElementsByClassName('item-picker-name')[0] as HTMLAnchorElement;\n\t\tthis.enchantElem = this.rootElem.getElementsByClassName('item-picker-enchant')[0] as HTMLAnchorElement;\n\t\tthis.socketsContainerElem = this.rootElem.getElementsByClassName('item-picker-sockets-container')[0] as HTMLElement;\n\n\t\tthis.item = player.getEquippedItem(slot);\n\t\tplayer.sim.waitForInit().then(() => {\n\t\t\tthis._items = this.player.getItems(this.slot);\n\t\t\tthis._enchants = this.player.getEnchants(this.slot);\n\n\t\t\tconst onClickStart = (event: Event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst selectorModal = new SelectorModal(this.rootElem.closest('.individual-sim-ui')!, this.player, this.slot, this._equippedItem, this._items, this._enchants);\n\t\t\t};\n\t\t\tconst onClickEnd = (event: Event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t\tthis.iconElem.addEventListener('click', onClickStart);\n\t\t\tthis.iconElem.addEventListener('touchstart', onClickStart);\n\t\t\tthis.iconElem.addEventListener('touchend', onClickEnd);\n\t\t\tthis.nameElem.addEventListener('click', onClickStart);\n\t\t\tthis.nameElem.addEventListener('touchstart', onClickStart);\n\t\t\tthis.nameElem.addEventListener('touchend', onClickEnd);\n\n\t\t\t// Make enchant name open enchant tab.\n\t\t\tthis.enchantElem.addEventListener('click', (ev: Event) => {\n\t\t\t\tev.preventDefault();\n\t\t\t\tconst selectorModal = new SelectorModal(this.rootElem.closest('.individual-sim-ui')!, this.player, this.slot, this._equippedItem, this._items, this._enchants);\n\t\t\t\tselectorModal.openTab(1);\n\t\t\t});\n\t\t\tthis.enchantElem.addEventListener('touchstart', (ev: Event) => {\n\t\t\t\tev.preventDefault();\n\t\t\t\tconst selectorModal = new SelectorModal(this.rootElem.closest('.individual-sim-ui')!, this.player, this.slot, this._equippedItem, this._items, this._enchants);\n\t\t\t\tselectorModal.openTab(1);\n\t\t\t});\n\t\t\tthis.enchantElem.addEventListener('touchend', onClickEnd);\n\t\t});\n\t\tplayer.gearChangeEmitter.on(() => {\n\t\t\tthis.item = player.getEquippedItem(slot);\n\t\t});\n\t\tplayer.professionChangeEmitter.on(() => {\n\t\t\tif (this._equippedItem != null) {\n\t\t\t\tthis.player.setWowheadData(this._equippedItem, this.iconElem);\n\t\t\t}\n\t\t});\n\t}\n\n\tset item(newItem: EquippedItem | null) {\n\t\t// Clear everything first\n\t\tthis.nameElem.removeAttribute('data-wowhead');\n\t\tthis.nameElem.removeAttribute('href');\n\t\tthis.iconElem.style.backgroundImage = `url('${getEmptySlotIconUrl(this.slot)}')`;\n\t\tthis.iconElem.removeAttribute('data-wowhead');\n\t\tthis.iconElem.removeAttribute('href');\n\t\tthis.enchantElem.removeAttribute('data-wowhead');\n\n\t\tthis.nameElem.textContent = slotNames[this.slot];\n\t\tsetItemQualityCssClass(this.nameElem, null);\n\n\t\tthis.enchantElem.innerHTML = '';\n\t\tthis.socketsContainerElem.innerHTML = '';\n\n\t\tif (newItem != null) {\n\t\t\tthis.nameElem.textContent = newItem.item.name;\n\t\t\tif (newItem.item.heroic) {\n\t\t\t\tvar heroic_span = document.createElement('span');\n\t\t\t\theroic_span.style.color = \"green\";\n\t\t\t\theroic_span.style.marginLeft = \"3px\";\n\t\t\t\theroic_span.innerText = \"[H]\";\n\t\t\t\tthis.nameElem.appendChild(heroic_span);\n\t\t\t}\n\n\t\t\tsetItemQualityCssClass(this.nameElem, newItem.item.quality);\n\n\t\t\tthis.player.setWowheadData(newItem, this.iconElem);\n\t\t\tthis.player.setWowheadData(newItem, this.nameElem);\n\t\t\tnewItem.asActionId().fill().then(filledId => {\n\t\t\t\tfilledId.setBackgroundAndHref(this.iconElem);\n\t\t\t\tfilledId.setWowheadHref(this.nameElem);\n\t\t\t});\n\n\t\t\tif (newItem.enchant) {\n\t\t\t\tgetEnchantDescription(newItem.enchant).then(description => {\n\t\t\t\t\tthis.enchantElem.textContent = description;\n\t\t\t\t});\n\t\t\t\t// Make enchant text hover have a tooltip.\n\t\t\t\tif (newItem.enchant.isSpellId) {\n\t\t\t\t\tthis.enchantElem.setAttribute('data-wowhead', `spell=${newItem.enchant.id}`);\n\t\t\t\t} else {\n\t\t\t\t\tthis.enchantElem.setAttribute('data-wowhead', `item=${newItem.enchant.id}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnewItem.allSocketColors().forEach((socketColor, gemIdx) => {\n\t\t\t\tconst gemIconElem = document.createElement('img');\n\t\t\t\tgemIconElem.classList.add('item-picker-gem-icon');\n\t\t\t\tsetGemSocketCssClass(gemIconElem, socketColor);\n\t\t\t\tif (newItem.gems[gemIdx] == null) {\n\t\t\t\t\tgemIconElem.src = getEmptyGemSocketIconUrl(socketColor);\n\t\t\t\t} else {\n\t\t\t\t\tActionId.fromItemId(newItem.gems[gemIdx]!.id).fill().then(filledId => {\n\t\t\t\t\t\tgemIconElem.src = filledId.iconUrl;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.socketsContainerElem.appendChild(gemIconElem);\n\n\t\t\t\tif (gemIdx == newItem.numPossibleSockets - 1 && [ItemType.ItemTypeWrist, ItemType.ItemTypeHands].includes(newItem.item.type)) {\n\t\t\t\t\tconst updateProfession = () => {\n\t\t\t\t\t\tif (this.player.isBlacksmithing()) {\n\t\t\t\t\t\t\tgemIconElem.style.removeProperty('display');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgemIconElem.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.player.professionChangeEmitter.on(updateProfession);\n\t\t\t\t\tupdateProfession();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis._equippedItem = newItem;\n\t}\n}\n\nclass SelectorModal extends Popup {\n\tprivate player: Player<any>;\n\tprivate readonly tabsElem: HTMLElement;\n\tprivate readonly contentElem: HTMLElement;\n\n\tconstructor(parent: HTMLElement, player: Player<any>, slot: ItemSlot, equippedItem: EquippedItem | null, eligibleItems: Array<Item>, eligibleEnchants: Array<Enchant>) {\n\t\tsuper(parent);\n\t\tthis.player = player;\n\n\t\tthis.rootElem.classList.add('selector-modal');\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<ul class=\"nav nav-tabs selector-modal-tabs\">\n\t\t\t</ul>\n\t\t\t<div class=\"tab-content selector-modal-tab-content\">\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.addCloseButton();\n\t\tthis.tabsElem = this.rootElem.getElementsByClassName('selector-modal-tabs')[0] as HTMLElement;\n\t\tthis.contentElem = this.rootElem.getElementsByClassName('selector-modal-tab-content')[0] as HTMLElement;\n\n\t\tthis.setData(slot, equippedItem, eligibleItems, eligibleEnchants);\n\t}\n\n\topenTab(idx: number) {\n\t\tconst elems = this.tabsElem.getElementsByClassName(\"selector-modal-item-tab\");\n\t\t(elems[idx] as HTMLElement).click();\n\t}\n\n\tsetData(slot: ItemSlot, equippedItem: EquippedItem | null, eligibleItems: Array<Item>, eligibleEnchants: Array<Enchant>) {\n\t\tthis.tabsElem.innerHTML = '';\n\t\tthis.contentElem.innerHTML = '';\n\n\t\tthis.addTab(\n\t\t\t'Items',\n\t\t\tslot,\n\t\t\tequippedItem,\n\t\t\teligibleItems.map(item => {\n\t\t\t\treturn {\n\t\t\t\t\titem: item,\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tactionId: ActionId.fromItem(item),\n\t\t\t\t\tname: item.name,\n\t\t\t\t\tquality: item.quality,\n\t\t\t\t\theroic: item.heroic,\n\t\t\t\t\tphase: item.phase,\n\t\t\t\t\tbaseEP: this.player.computeItemEP(item),\n\t\t\t\t\tignoreEPFilter: false,\n\t\t\t\t\tonEquip: (eventID, item: Item) => {\n\t\t\t\t\t\tconst equippedItem = this.player.getEquippedItem(slot);\n\t\t\t\t\t\tif (equippedItem) {\n\t\t\t\t\t\t\tthis.player.equipItem(eventID, slot, equippedItem.withItem(item));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.player.equipItem(eventID, slot, new EquippedItem(item));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}),\n\t\t\titem => this.player.computeItemEP(item),\n\t\t\tequippedItem => equippedItem?.item,\n\t\t\tGemColor.GemColorUnknown,\n\t\t\teventID => {\n\t\t\t\tthis.player.equipItem(eventID, slot, null);\n\t\t\t});\n\n\t\tthis.addTab(\n\t\t\t'Enchants',\n\t\t\tslot,\n\t\t\tequippedItem,\n\t\t\teligibleEnchants.map(enchant => {\n\t\t\t\treturn {\n\t\t\t\t\titem: enchant,\n\t\t\t\t\tid: enchant.id,\n\t\t\t\t\tactionId: enchant.isSpellId ? ActionId.fromSpellId(enchant.id) : ActionId.fromItemId(enchant.id),\n\t\t\t\t\tname: enchant.name,\n\t\t\t\t\tquality: enchant.quality,\n\t\t\t\t\tphase: enchant.phase || 1,\n\t\t\t\t\tbaseEP: this.player.computeStatsEP(new Stats(enchant.stats)),\n\t\t\t\t\tignoreEPFilter: true,\n\t\t\t\t\theroic: false,\n\t\t\t\t\tonEquip: (eventID, enchant: Enchant) => {\n\t\t\t\t\t\tconst equippedItem = this.player.getEquippedItem(slot);\n\t\t\t\t\t\tif (equippedItem)\n\t\t\t\t\t\t\tthis.player.equipItem(eventID, slot, equippedItem.withEnchant(enchant));\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}),\n\t\t\tenchant => this.player.computeEnchantEP(enchant),\n\t\t\tequippedItem => equippedItem?.enchant,\n\t\t\tGemColor.GemColorUnknown,\n\t\t\teventID => {\n\t\t\t\tconst equippedItem = this.player.getEquippedItem(slot);\n\t\t\t\tif (equippedItem)\n\t\t\t\t\tthis.player.equipItem(eventID, slot, equippedItem.withEnchant(null));\n\t\t\t});\n\n\t\tthis.addGemTabs(slot, equippedItem);\n\t}\n\n\tprivate addGemTabs(slot: ItemSlot, equippedItem: EquippedItem | null) {\n\t\tif (equippedItem == undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst socketBonusEP = this.player.computeStatsEP(new Stats(equippedItem.item.socketBonus)) / (equippedItem.item.gemSockets.length || 1);\n\t\tequippedItem.curSocketColors(this.player.isBlacksmithing()).forEach((socketColor, socketIdx) => {\n\t\t\tthis.addTab(\n\t\t\t\t'Gem ' + (socketIdx + 1),\n\t\t\t\tslot,\n\t\t\t\tequippedItem,\n\t\t\t\tthis.player.getGems(socketColor).map((gem: Gem) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\titem: gem,\n\t\t\t\t\t\tid: gem.id,\n\t\t\t\t\t\tactionId: ActionId.fromItemId(gem.id),\n\t\t\t\t\t\tname: gem.name,\n\t\t\t\t\t\tquality: gem.quality,\n\t\t\t\t\t\tphase: gem.phase,\n\t\t\t\t\t\theroic: false,\n\t\t\t\t\t\tbaseEP: this.player.computeStatsEP(new Stats(gem.stats)),\n\t\t\t\t\t\tignoreEPFilter: true,\n\t\t\t\t\t\tonEquip: (eventID, gem: Gem) => {\n\t\t\t\t\t\t\tconst equippedItem = this.player.getEquippedItem(slot);\n\t\t\t\t\t\t\tif (equippedItem)\n\t\t\t\t\t\t\t\tthis.player.equipItem(eventID, slot, equippedItem.withGem(gem, socketIdx));\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tgem => {\n\t\t\t\t\tlet gemEP = this.player.computeGemEP(gem);\n\t\t\t\t\tif (gemMatchesSocket(gem, socketColor)) {\n\t\t\t\t\t\tgemEP += socketBonusEP;\n\t\t\t\t\t}\n\t\t\t\t\treturn gemEP;\n\t\t\t\t},\n\t\t\t\tequippedItem => equippedItem?.gems[socketIdx],\n\t\t\t\tsocketColor,\n\t\t\t\teventID => {\n\t\t\t\t\tconst equippedItem = this.player.getEquippedItem(slot);\n\t\t\t\t\tif (equippedItem)\n\t\t\t\t\t\tthis.player.equipItem(eventID, slot, equippedItem.withGem(null, socketIdx));\n\t\t\t\t},\n\t\t\t\ttabAnchor => {\n\t\t\t\t\ttabAnchor.classList.add('selector-modal-tab-gem-icon');\n\t\t\t\t\tsetGemSocketCssClass(tabAnchor, socketColor);\n\n\t\t\t\t\tconst updateGemIcon = () => {\n\t\t\t\t\t\tconst equippedItem = this.player.getEquippedItem(slot);\n\t\t\t\t\t\tconst gem = equippedItem?.gems[socketIdx];\n\n\t\t\t\t\t\tif (gem) {\n\t\t\t\t\t\t\tActionId.fromItemId(gem.id).fill().then(filledId => {\n\t\t\t\t\t\t\t\ttabAnchor.style.backgroundImage = `url('${filledId.iconUrl}')`;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst url = getEmptyGemSocketIconUrl(socketColor);\n\t\t\t\t\t\t\ttabAnchor.style.backgroundImage = `url('${url}')`;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.player.gearChangeEmitter.on(updateGemIcon);\n\t\t\t\t\tupdateGemIcon();\n\t\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Adds one of the tabs for the item selector menu.\n\t *\n\t * T is expected to be Item, Enchant, or Gem. Tab menus for all 3 looks extremely\n\t * similar so this function uses extra functions to do it generically.\n\t */\n\tprivate addTab<T>(\n\t\tlabel: string,\n\t\tslot: ItemSlot,\n\t\tequippedItem: EquippedItem | null,\n\t\titemData: Array<ItemData<T>>,\n\t\tcomputeEP: (item: T) => number,\n\t\tequippedToItemFn: (equippedItem: EquippedItem | null) => (T | null | undefined),\n\t\tsocketColor: GemColor,\n\t\tonRemove: (eventID: EventID) => void,\n\t\tsetTabContent?: (tabElem: HTMLAnchorElement) => void) {\n\t\tif (itemData.length == 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (slot == ItemSlot.ItemSlotTrinket1 || slot == ItemSlot.ItemSlotTrinket2) {\n\t\t\t// Trinket EP is weird so just sort by ilvl instead.\n\t\t\titemData.sort((dataA, dataB) => (dataB.item as unknown as Item).ilvl - (dataA.item as unknown as Item).ilvl);\n\t\t} else {\n\t\t\titemData.sort((dataA, dataB) => {\n\t\t\t\tconst diff = computeEP(dataB.item) - computeEP(dataA.item);\n\t\t\t\t// if EP is same, sort by ilvl\n\t\t\t\tif (Math.abs(diff) < 0.01) {\n\t\t\t\t\treturn (dataB.item as unknown as Item).ilvl - (dataA.item as unknown as Item).ilvl;\n\t\t\t\t}\n\t\t\t\treturn diff;\n\t\t\t});\n\t\t}\n\n\t\tconst tabElem = document.createElement('li');\n\t\tthis.tabsElem.appendChild(tabElem);\n\t\tconst tabContentId = (label + '-tab').split(' ').join('');\n\t\ttabElem.innerHTML = `<a class=\"selector-modal-item-tab\" data-toggle=\"tab\" href=\"#${tabContentId}\"></a>`;\n\n\t\tconst tabAnchor = tabElem.getElementsByClassName('selector-modal-item-tab')[0] as HTMLAnchorElement;\n\t\ttabAnchor.dataset.label = label;\n\t\tif (setTabContent) {\n\t\t\tsetTabContent(tabAnchor);\n\t\t} else {\n\t\t\ttabAnchor.textContent = label;\n\t\t}\n\n\t\tconst tabContent = document.createElement('div');\n\t\ttabContent.id = tabContentId;\n\t\ttabContent.classList.add('tab-pane', 'fade', 'selector-modal-tab-content');\n\t\tthis.contentElem.appendChild(tabContent);\n\t\ttabContent.innerHTML = `\n    <div class=\"selector-modal-tab-content-header\">\n      <button class=\"selector-modal-remove-button sim-button\">Remove</button>\n      <input class=\"selector-modal-search\" type=\"text\" placeholder=\"Search...\">\n      <div class=\"selector-modal-filter-bar-filler\"></div>\n      <div class=\"sim-input selector-modal-boolean-option selector-modal-show-1h-weapons\"></div>\n      <div class=\"sim-input selector-modal-boolean-option selector-modal-show-2h-weapons\"></div>\n      <div class=\"sim-input selector-modal-boolean-option selector-modal-show-matching-gems\"></div>\n      <div class=\"selector-modal-phase-selector\"></div>\n    </div>\n    <ul class=\"selector-modal-list\"></ul>\n    `;\n\n\t\tconst show1hWeaponsSelector = makeShow1hWeaponsSelector(tabContent.getElementsByClassName('selector-modal-show-1h-weapons')[0] as HTMLElement, this.player.sim);\n\t\tconst show2hWeaponsSelector = makeShow2hWeaponsSelector(tabContent.getElementsByClassName('selector-modal-show-2h-weapons')[0] as HTMLElement, this.player.sim);\n\t\tif (label != 'Items' || slot != ItemSlot.ItemSlotMainHand && this.player.getClass() != Class.ClassWarrior) {\n\t\t\t(tabContent.getElementsByClassName('selector-modal-show-1h-weapons')[0] as HTMLElement).style.display = 'none';\n\t\t\t(tabContent.getElementsByClassName('selector-modal-show-2h-weapons')[0] as HTMLElement).style.display = 'none';\n\t\t}\n\n\t\tconst showMatchingGemsSelector = makeShowMatchingGemsSelector(tabContent.getElementsByClassName('selector-modal-show-matching-gems')[0] as HTMLElement, this.player.sim);\n\t\tif (!label.startsWith('Gem')) {\n\t\t\t(tabContent.getElementsByClassName('selector-modal-show-matching-gems')[0] as HTMLElement).style.display = 'none';\n\t\t}\n\n\t\tconst phaseSelector = makePhaseSelector(tabContent.getElementsByClassName('selector-modal-phase-selector')[0] as HTMLElement, this.player.sim);\n\n\t\tif (label == 'Items') {\n\t\t\ttabElem.classList.add('active', 'in');\n\t\t\ttabContent.classList.add('active', 'in');\n\t\t}\n\n\t\tconst listElem = tabContent.getElementsByClassName('selector-modal-list')[0] as HTMLElement;\n\n\t\tconst listItemElems = itemData.map((itemData, itemIdx) => {\n\t\t\tconst item = itemData.item;\n\t\t\tconst itemEP = computeEP(item);\n\n\t\t\tconst listItemElem = document.createElement('li');\n\t\t\tlistItemElem.classList.add('selector-modal-list-item');\n\t\t\tlistElem.appendChild(listItemElem);\n\n\t\t\tlistItemElem.dataset.idx = String(itemIdx);\n\n\t\t\tlistItemElem.innerHTML = `\n        <a class=\"selector-modal-list-item-icon\"></a>\n        <a class=\"selector-modal-list-item-name\">${itemData.heroic ? itemData.name + \"<span style=\\\"color:green\\\">[H]</span>\" : itemData.name}</a>\n        <div class=\"selector-modal-list-item-padding\"></div>\n        <div class=\"selector-modal-list-item-ep\">\n\t\t\t\t\t<span class=\"selector-modal-list-item-ep-value\">${itemEP < 9.95 ? itemEP.toFixed(1) : Math.round(itemEP)}</span>\n\t\t\t\t\t<span class=\"selector-modal-list-item-ep-delta\"></span>\n\t\t\t\t</div>\n      `;\n\n\t\t\tif (slot == ItemSlot.ItemSlotTrinket1 || slot == ItemSlot.ItemSlotTrinket2) {\n\t\t\t\tconst epElem = listItemElem.getElementsByClassName('selector-modal-list-item-ep')[0] as HTMLElement;\n\t\t\t\tepElem.style.display = 'none';\n\t\t\t}\n\n\t\t\tconst iconElem = listItemElem.getElementsByClassName('selector-modal-list-item-icon')[0] as HTMLImageElement;\n\t\t\titemData.actionId.fill().then(filledId => {\n\t\t\t\tfilledId.setWowheadHref(listItemElem.children[0] as HTMLAnchorElement);\n\t\t\t\tfilledId.setWowheadHref(listItemElem.children[1] as HTMLAnchorElement);\n\t\t\t\ticonElem.style.backgroundImage = `url('${filledId.iconUrl}')`;\n\t\t\t});\n\n\t\t\tconst nameElem = listItemElem.getElementsByClassName('selector-modal-list-item-name')[0] as HTMLImageElement;\n\t\t\tsetItemQualityCssClass(nameElem, itemData.quality);\n\n\t\t\tconst onclick = (event: Event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\titemData.onEquip(TypedEvent.nextEventID(), item);\n\n\t\t\t\t// If the item changes, the gem slots might change, so remove and recreate the gem tabs\n\t\t\t\tif (Item.is(item)) {\n\t\t\t\t\tthis.removeTabs('Gem');\n\t\t\t\t\tthis.addGemTabs(slot, this.player.getEquippedItem(slot));\n\t\t\t\t}\n\t\t\t};\n\t\t\tnameElem.addEventListener('click', onclick);\n\t\t\ticonElem.addEventListener('click', onclick);\n\n\t\t\treturn listItemElem;\n\t\t});\n\n\t\tconst removeButton = tabContent.getElementsByClassName('selector-modal-remove-button')[0] as HTMLButtonElement;\n\t\tremoveButton.addEventListener('click', event => {\n\t\t\tlistItemElems.forEach(elem => elem.classList.remove('active'));\n\t\t\tonRemove(TypedEvent.nextEventID());\n\t\t});\n\n\t\tconst updateSelected = () => {\n\t\t\tconst newEquippedItem = this.player.getEquippedItem(slot);\n\t\t\tconst newItem = equippedToItemFn(newEquippedItem);\n\n\t\t\tconst newItemId = (newItem as any)?.id || null;\n\t\t\tconst newEP = newItem ? computeEP(newItem) : 0;\n\n\t\t\tlistItemElems.forEach(elem => {\n\t\t\t\tconst listItemIdx = parseInt(elem.dataset.idx!);\n\t\t\t\tconst listItemData = itemData[listItemIdx];\n\t\t\t\tconst listItem = listItemData.item;\n\n\t\t\t\telem.classList.remove('active');\n\t\t\t\tif (listItemData.id == newItemId) {\n\t\t\t\t\telem.classList.add('active');\n\t\t\t\t}\n\n\t\t\t\tconst epDeltaElem = elem.getElementsByClassName('selector-modal-list-item-ep-delta')[0] as HTMLSpanElement;\n\t\t\t\tepDeltaElem.textContent = '';\n\t\t\t\tif (listItem) {\n\t\t\t\t\tconst listItemEP = computeEP(listItem);\n\t\t\t\t\tformatDeltaTextElem(epDeltaElem, newEP, listItemEP, 0);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tupdateSelected();\n\t\tthis.player.gearChangeEmitter.on(updateSelected);\n\n\t\tconst applyFilters = () => {\n\t\t\tlet validItemElems = listItemElems;\n\t\t\tconst currentEquippedItem = this.player.getEquippedItem(slot);\n\n\t\t\tvalidItemElems = validItemElems.filter(elem => {\n\t\t\t\tconst listItemIdx = parseInt(elem.dataset.idx!);\n\t\t\t\tconst listItemData = itemData[listItemIdx];\n\n\t\t\t\tif (label == 'Items') {\n\t\t\t\t\tconst listItem = listItemData.item as unknown as Item;\n\t\t\t\t\tif (!this.player.sim.getShow1hWeapons() && listItem.weaponType != WeaponType.WeaponTypeUnknown && listItem.handType != HandType.HandTypeTwoHand) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.player.sim.getShow2hWeapons() && listItem.weaponType != WeaponType.WeaponTypeUnknown && listItem.handType == HandType.HandTypeTwoHand) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (label == 'Enchants') {\n\t\t\t\t\tconst listItem = listItemData.item as unknown as Enchant;\n\t\t\t\t\tif (currentEquippedItem && !enchantAppliesToItem(listItem, currentEquippedItem.item)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (label.startsWith('Gem')) {\n\t\t\t\t\tconst listItem = listItemData.item as unknown as Gem;\n\t\t\t\t\tif (this.player.sim.getShowMatchingGems() && !gemMatchesSocket(listItem, socketColor)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (listItemData.phase > this.player.sim.getPhase()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (searchInput.value.length > 0) {\n\t\t\t\t\tconst searchQuery = searchInput.value.toLowerCase().split(\" \");\n\t\t\t\t\tconst name = listItemData.name.toLowerCase();\n\n\t\t\t\t\tvar include = true;\n\t\t\t\t\tsearchQuery.forEach(v => {\n\t\t\t\t\t\tif (!name.includes(v))\n\t\t\t\t\t\t\tinclude = false;\n\t\t\t\t\t});\n\t\t\t\t\tif (!include) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tlet numShown = 0;\n\t\t\tlistItemElems.forEach(elem => {\n\t\t\t\tif (validItemElems.includes(elem)) {\n\t\t\t\t\telem.classList.remove('hidden');\n\t\t\t\t\tnumShown++;\n\t\t\t\t\tif (numShown % 2 == 0) {\n\t\t\t\t\t\telem.classList.remove('odd');\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.classList.add('odd');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.classList.add('hidden');\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tconst searchInput = tabContent.getElementsByClassName('selector-modal-search')[0] as HTMLInputElement;\n\t\tsearchInput.addEventListener('input', applyFilters);\n\t\tsearchInput.addEventListener(\"keyup\", ev => {\n\t\t\tif (ev.key == \"Enter\") {\n\t\t\t\tlistItemElems.find(ele => {\n\t\t\t\t\tif (ele.classList.contains(\"hidden\")) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst nameElem = ele.getElementsByClassName('selector-modal-list-item-name')[0] as HTMLElement;\n\t\t\t\t\tnameElem.click();\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.player.sim.phaseChangeEmitter.on(() => {\n\t\t\tapplyFilters();\n\t\t});\n\t\tTypedEvent.onAny([\n\t\t\tthis.player.sim.show1hWeaponsChangeEmitter,\n\t\t\tthis.player.sim.show2hWeaponsChangeEmitter,\n\t\t\tthis.player.sim.showMatchingGemsChangeEmitter,\n\t\t]).on(() => {\n\t\t\tapplyFilters();\n\t\t});\n\t\tthis.player.gearChangeEmitter.on(() => {\n\t\t\tapplyFilters();\n\t\t\tupdateSelected();\n\t\t});\n\n\t\tapplyFilters();\n\t}\n\n\tprivate removeTabs(labelSubstring: string) {\n\t\tconst tabElems = Array.prototype.slice.call(this.tabsElem.getElementsByClassName('selector-modal-item-tab'))\n\t\t\t.filter(tab => tab.dataset.label.includes(labelSubstring));\n\n\t\tconst contentElems = tabElems\n\t\t\t.map(tabElem => document.getElementById(tabElem.getAttribute('href').substring(1)))\n\t\t\t.filter(tabElem => Boolean(tabElem));\n\n\t\ttabElems.forEach(elem => elem.parentElement.remove());\n\t\tcontentElems.forEach(elem => elem!.remove());\n\t}\n}\n\ninterface ItemData<T> {\n\titem: T,\n\tname: string,\n\tid: number,\n\tactionId: ActionId,\n\tquality: ItemQuality,\n\tphase: number,\n\tbaseEP: number,\n\tignoreEPFilter: boolean,\n\theroic: boolean,\n\tonEquip: (eventID: EventID, item: T) => void,\n}\n\nconst emptySlotIcons: Record<ItemSlot, string> = {\n\t[ItemSlot.ItemSlotHead]: 'https://cdn.seventyupgrades.com/item-slots/Head.jpg',\n\t[ItemSlot.ItemSlotNeck]: 'https://cdn.seventyupgrades.com/item-slots/Neck.jpg',\n\t[ItemSlot.ItemSlotShoulder]: 'https://cdn.seventyupgrades.com/item-slots/Shoulders.jpg',\n\t[ItemSlot.ItemSlotBack]: 'https://cdn.seventyupgrades.com/item-slots/Back.jpg',\n\t[ItemSlot.ItemSlotChest]: 'https://cdn.seventyupgrades.com/item-slots/Chest.jpg',\n\t[ItemSlot.ItemSlotWrist]: 'https://cdn.seventyupgrades.com/item-slots/Wrists.jpg',\n\t[ItemSlot.ItemSlotHands]: 'https://cdn.seventyupgrades.com/item-slots/Hands.jpg',\n\t[ItemSlot.ItemSlotWaist]: 'https://cdn.seventyupgrades.com/item-slots/Waist.jpg',\n\t[ItemSlot.ItemSlotLegs]: 'https://cdn.seventyupgrades.com/item-slots/Legs.jpg',\n\t[ItemSlot.ItemSlotFeet]: 'https://cdn.seventyupgrades.com/item-slots/Feet.jpg',\n\t[ItemSlot.ItemSlotFinger1]: 'https://cdn.seventyupgrades.com/item-slots/Finger.jpg',\n\t[ItemSlot.ItemSlotFinger2]: 'https://cdn.seventyupgrades.com/item-slots/Finger.jpg',\n\t[ItemSlot.ItemSlotTrinket1]: 'https://cdn.seventyupgrades.com/item-slots/Trinket.jpg',\n\t[ItemSlot.ItemSlotTrinket2]: 'https://cdn.seventyupgrades.com/item-slots/Trinket.jpg',\n\t[ItemSlot.ItemSlotMainHand]: 'https://cdn.seventyupgrades.com/item-slots/MainHand.jpg',\n\t[ItemSlot.ItemSlotOffHand]: 'https://cdn.seventyupgrades.com/item-slots/OffHand.jpg',\n\t[ItemSlot.ItemSlotRanged]: 'https://cdn.seventyupgrades.com/item-slots/Ranged.jpg',\n};\nexport function getEmptySlotIconUrl(slot: ItemSlot): string {\n\treturn emptySlotIcons[slot];\n}\n","import { Spec } from '../proto/common.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Component } from '../components/component.js';\n\ndeclare var tippy: any;\n\nexport type SavedDataManagerConfig<ModObject, T> = {\n\tlabel: string;\n\tpresetsOnly?: boolean;\n\tstorageKey: string;\n\tchangeEmitters: Array<TypedEvent<any>>,\n\tequals: (a: T, b: T) => boolean;\n\tgetData: (modObject: ModObject) => T;\n\tsetData: (eventID: EventID, modObject: ModObject, data: T) => void;\n\ttoJson: (a: T) => any;\n\tfromJson: (obj: any) => T;\n};\n\nexport type SavedDataConfig<ModObject, T> = {\n\tname: string;\n\tdata: T;\n\ttooltip?: string;\n\tisPreset?: boolean;\n\n\t// If set, will automatically hide the saved data when this evaluates to false.\n\tenableWhen?: (obj: ModObject) => boolean;\n};\n\ntype SavedData<ModObject, T> = {\n\tname: string;\n\tdata: T;\n\telem: HTMLElement;\n\tenableWhen?: (obj: ModObject) => boolean;\n};\n\nexport class SavedDataManager<ModObject, T> extends Component {\n\tprivate readonly modObject: ModObject;\n\tprivate readonly config: SavedDataManagerConfig<ModObject, T>;\n\n\tprivate readonly userData: Array<SavedData<ModObject, T>>;\n\tprivate readonly presets: Array<SavedData<ModObject, T>>;\n\n\tprivate readonly savedDataDiv: HTMLElement;\n\tprivate readonly saveInput: HTMLInputElement;\n\tprivate frozen: boolean;\n\n\tconstructor(parent: HTMLElement, modObject: ModObject, config: SavedDataManagerConfig<ModObject, T>) {\n\t\tsuper(parent, 'saved-data-manager-root');\n\t\tthis.modObject = modObject;\n\t\tthis.config = config;\n\n\t\tthis.userData = [];\n\t\tthis.presets = [];\n\t\tthis.frozen = false;\n\n\t\tthis.rootElem.innerHTML = `\n    <div class=\"saved-data-container\">\n    </div>\n    <div class=\"saved-data-create-container presets-only-hide\">\n      <input class=\"saved-data-save-input\" type=\"text\" placeholder=\"Label\">\n      <button class=\"saved-data-save-button sim-button\">SAVE CURRENT ${config.label.toUpperCase()}</button>\n    </div>\n    `;\n\n\t\tif (config.presetsOnly) {\n\t\t\tthis.rootElem.classList.add('presets-only');\n\t\t}\n\n\t\tthis.savedDataDiv = this.rootElem.getElementsByClassName('saved-data-container')[0] as HTMLElement;\n\n\t\tthis.saveInput = this.rootElem.getElementsByClassName('saved-data-save-input')[0] as HTMLInputElement;\n\t\tconst saveButton = this.rootElem.getElementsByClassName('saved-data-save-button')[0] as HTMLButtonElement;\n\t\tsaveButton.addEventListener('click', event => {\n\t\t\tif (this.frozen)\n\t\t\t\treturn;\n\n\t\t\tconst newName = this.saveInput.value;\n\t\t\tif (!newName) {\n\t\t\t\talert(`Choose a label for your saved ${config.label}!`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (newName in this.presets) {\n\t\t\t\talert(`${config.label} with name ${newName} already exists.`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.addSavedData({\n\t\t\t\tname: newName,\n\t\t\t\tdata: config.getData(this.modObject),\n\t\t\t});\n\t\t\tthis.saveUserData();\n\t\t});\n\t}\n\n\taddSavedData(config: SavedDataConfig<ModObject, T>) {\n\t\tconst newData = this.makeSavedData(config);\n\n\t\tconst dataArr = config.isPreset ? this.presets : this.userData;\n\n\t\tconst oldIdx = dataArr.findIndex(data => data.name == config.name);\n\t\tif (oldIdx == -1) {\n\t\t\tif (config.isPreset || this.presets.length == 0) {\n\t\t\t\tthis.savedDataDiv.appendChild(newData.elem);\n\t\t\t} else {\n\t\t\t\tthis.savedDataDiv.insertBefore(newData.elem, this.presets[0].elem);\n\t\t\t}\n\t\t\tdataArr.push(newData);\n\t\t} else {\n\t\t\tthis.savedDataDiv.replaceChild(newData.elem, dataArr[oldIdx].elem);\n\t\t\tdataArr[oldIdx] = newData;\n\t\t}\n\t}\n\n\tprivate makeSavedData(config: SavedDataConfig<ModObject, T>): SavedData<ModObject, T> {\n\t\tconst dataElem = document.createElement('div');\n\t\tdataElem.classList.add('saved-data-set-chip');\n\t\tdataElem.innerHTML = `\n    <span class=\"saved-data-set-name\">${config.name}</span>\n    <span class=\"saved-data-set-tooltip fa fa-info-circle\"></span>\n    <span class=\"saved-data-set-delete fa fa-times\"></span>\n    `;\n\n\t\tdataElem.addEventListener('click', event => {\n\t\t\tthis.config.setData(TypedEvent.nextEventID(), this.modObject, config.data);\n\t\t\tthis.saveInput.value = config.name;\n\t\t});\n\n\t\tif (config.isPreset) {\n\t\t\tdataElem.classList.add('saved-data-preset');\n\t\t} else {\n\t\t\tconst deleteButton = dataElem.getElementsByClassName('saved-data-set-delete')[0] as HTMLElement;\n\t\t\tdeleteButton.addEventListener('click', event => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tconst shouldDelete = confirm(`Delete saved ${this.config.label} '${config.name}'?`);\n\t\t\t\tif (!shouldDelete)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst idx = this.userData.findIndex(data => data.name == config.name);\n\t\t\t\tthis.userData[idx].elem.remove();\n\t\t\t\tthis.userData.splice(idx, 1);\n\t\t\t\tthis.saveUserData();\n\t\t\t});\n\t\t}\n\n\t\tif (config.tooltip) {\n\t\t\tdataElem.classList.add('saved-data-has-tooltip');\n\t\t\ttippy(dataElem.getElementsByClassName('saved-data-set-tooltip')[0], {\n\t\t\t\t'content': config.tooltip,\n\t\t\t\t'allowHTML': true,\n\t\t\t});\n\t\t}\n\n\t\tconst checkActive = () => {\n\t\t\tif (this.config.equals(config.data, this.config.getData(this.modObject))) {\n\t\t\t\tdataElem.classList.add('active');\n\t\t\t} else {\n\t\t\t\tdataElem.classList.remove('active');\n\t\t\t}\n\n\t\t\tif (config.enableWhen && !config.enableWhen(this.modObject)) {\n\t\t\t\tdataElem.classList.add('disabled');\n\t\t\t} else {\n\t\t\t\tdataElem.classList.remove('disabled');\n\t\t\t}\n\t\t};\n\n\t\tcheckActive();\n\t\tthis.config.changeEmitters.forEach(emitter => emitter.on(checkActive));\n\n\t\treturn {\n\t\t\tname: config.name,\n\t\t\tdata: config.data,\n\t\t\telem: dataElem,\n\t\t\tenableWhen: config.enableWhen,\n\t\t};\n\t}\n\n\t// Save data to window.localStorage.\n\tprivate saveUserData() {\n\t\tconst userData: Record<string, Object> = {};\n\t\tthis.userData.forEach(savedData => {\n\t\t\tuserData[savedData.name] = this.config.toJson(savedData.data);\n\t\t});\n\n\t\twindow.localStorage.setItem(this.config.storageKey, JSON.stringify(userData));\n\t}\n\n\t// Load data from window.localStorage.\n\tloadUserData() {\n\t\tconst dataStr = window.localStorage.getItem(this.config.storageKey);\n\t\tif (!dataStr)\n\t\t\treturn;\n\n\t\tlet jsonData;\n\t\ttry {\n\t\t\tjsonData = JSON.parse(dataStr);\n\t\t} catch (e) {\n\t\t\tconsole.warn('Invalid json for local storage value: ' + dataStr);\n\t\t}\n\n\t\tfor (let name in jsonData) {\n\t\t\ttry {\n\t\t\t\tthis.addSavedData({\n\t\t\t\t\tname: name,\n\t\t\t\t\tdata: this.config.fromJson(jsonData[name]),\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('Failed parsing saved data: ' + jsonData[name]);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Prevent user input from creating / deleting saved data.\n\tfreeze() {\n\t\tthis.frozen = true;\n\t\tthis.rootElem.classList.add('frozen');\n\t}\n}\n","import { ActionId } from '../proto_utils/action_id.js';\nimport { CustomRotation } from '../proto/common.js';\nimport { Spec } from '../proto/common.js';\nimport { TristateEffect } from '../proto/common.js';\nimport { Party } from '../party.js';\nimport { Player } from '../player.js';\nimport { Raid } from '../raid.js';\nimport { Sim } from '../sim.js';\nimport { Target } from '../target.js';\nimport { Encounter } from '../encounter.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { SpecOptions, SpecRotation } from '../proto_utils/utils.js';\n\nimport { CustomRotationPickerConfig } from './custom_rotation_picker.js';\nimport { IconPickerConfig } from './icon_picker.js';\nimport { IconEnumPicker, IconEnumPickerConfig, IconEnumValueConfig } from './icon_enum_picker.js';\nimport { EnumPickerConfig, EnumValueConfig } from './enum_picker.js';\nimport { BooleanPickerConfig } from './boolean_picker.js';\nimport { NumberPickerConfig } from './number_picker.js';\nimport { MultiIconPickerConfig } from './multi_icon_picker.js';\n\nexport function makeMultiIconInput<ModObject>(inputs: Array<IconPickerConfig<ModObject, any>>, label: string, numColumns?: number): MultiIconPickerConfig<ModObject> {\n\treturn {\n\t\tinputs: inputs,\n\t\tnumColumns: numColumns || 1,\n\t\temptyColor: 'grey',\n\t\tlabel: label,\n\t};\n}\n\n// Extend this to add player callbacks as optional config fields.\ninterface BasePlayerConfig<SpecType extends Spec, T> {\n\tgetValue?: (player: Player<SpecType>) => T,\n\tsetValue?: (eventID: EventID, player: Player<SpecType>, newVal: T) => void,\n\tchangeEmitter?: (player: Player<SpecType>) => TypedEvent<any>,\n\textraCssClasses?: Array<string>,\n}\n\n/////////////////////////////////////////////////////////////////////////////////\n//                                    BOOLEAN\n/////////////////////////////////////////////////////////////////////////////////\nexport interface TypedBooleanPickerConfig<ModObject> extends BooleanPickerConfig<ModObject> {\n\ttype: 'boolean',\n}\n\ninterface WrappedBooleanInputConfig<SpecType extends Spec, ModObject> extends BooleanPickerConfig<ModObject> {\n\tgetModObject: (player: Player<SpecType>) => ModObject,\n}\nfunction makeWrappedBooleanInput<SpecType extends Spec, ModObject>(config: WrappedBooleanInputConfig<SpecType, ModObject>): TypedBooleanPickerConfig<Player<SpecType>> {\n\tconst getModObject = config.getModObject;\n\treturn {\n\t\ttype: 'boolean',\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tchangedEvent: (player: Player<SpecType>) => config.changedEvent(getModObject(player)),\n\t\tgetValue: (player: Player<SpecType>) => config.getValue(getModObject(player)),\n\t\tsetValue: (eventID: EventID, player: Player<SpecType>, newValue: boolean) => config.setValue(eventID, getModObject(player), newValue),\n\t\tenableWhen: config.enableWhen ? (player: Player<SpecType>) => config.enableWhen!(getModObject(player)) : undefined,\n\t\tshowWhen: config.showWhen ? (player: Player<SpecType>) => config.showWhen!(getModObject(player)) : undefined,\n\t}\n}\nexport interface PlayerBooleanInputConfig<SpecType extends Spec, Message> extends BasePlayerConfig<SpecType, boolean> {\n\tfieldName: keyof Message,\n\tlabel: string,\n\tlabelTooltip?: string,\n\tenableWhen?: (player: Player<SpecType>) => boolean,\n\tshowWhen?: (player: Player<SpecType>) => boolean,\n}\nexport function makeSpecOptionsBooleanInput<SpecType extends Spec>(config: PlayerBooleanInputConfig<SpecType, SpecOptions<SpecType>>): TypedBooleanPickerConfig<Player<SpecType>> {\n\treturn makeWrappedBooleanInput<SpecType, Player<SpecType>>({\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getSpecOptions()[config.fieldName] as unknown as boolean),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: boolean) => {\n\t\t\tconst newMessage = player.getSpecOptions();\n\t\t\t(newMessage[config.fieldName] as unknown as boolean) = newVal;\n\t\t\tplayer.setSpecOptions(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.specOptionsChangeEmitter),\n\t\tenableWhen: config.enableWhen,\n\t\tshowWhen: config.showWhen,\n\t\textraCssClasses: config.extraCssClasses,\n\t});\n}\nexport function makeRotationBooleanInput<SpecType extends Spec>(config: PlayerBooleanInputConfig<SpecType, SpecRotation<SpecType>>): TypedBooleanPickerConfig<Player<SpecType>> {\n\treturn makeWrappedBooleanInput<SpecType, Player<SpecType>>({\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getRotation()[config.fieldName] as unknown as boolean),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: boolean) => {\n\t\t\tconst newMessage = player.getRotation();\n\t\t\t(newMessage[config.fieldName] as unknown as boolean) = newVal;\n\t\t\tplayer.setRotation(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.rotationChangeEmitter),\n\t\tenableWhen: config.enableWhen,\n\t\tshowWhen: config.showWhen,\n\t\textraCssClasses: config.extraCssClasses,\n\t});\n}\n\n/////////////////////////////////////////////////////////////////////////////////\n//                                    NUMBER\n/////////////////////////////////////////////////////////////////////////////////\nexport interface TypedNumberPickerConfig<ModObject> extends NumberPickerConfig<ModObject> {\n\ttype: 'number',\n}\n\ninterface WrappedNumberInputConfig<SpecType extends Spec, ModObject> extends NumberPickerConfig<ModObject> {\n\tgetModObject: (player: Player<SpecType>) => ModObject,\n}\nfunction makeWrappedNumberInput<SpecType extends Spec, ModObject>(config: WrappedNumberInputConfig<SpecType, ModObject>): TypedNumberPickerConfig<Player<SpecType>> {\n\tconst getModObject = config.getModObject;\n\treturn {\n\t\ttype: 'number',\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tfloat: config.float,\n\t\tpositive: config.positive,\n\t\tchangedEvent: (player: Player<SpecType>) => config.changedEvent(getModObject(player)),\n\t\tgetValue: (player: Player<SpecType>) => config.getValue(getModObject(player)),\n\t\tsetValue: (eventID: EventID, player: Player<SpecType>, newValue: number) => config.setValue(eventID, getModObject(player), newValue),\n\t\tenableWhen: config.enableWhen ? (player: Player<SpecType>) => config.enableWhen!(getModObject(player)) : undefined,\n\t\tshowWhen: config.showWhen ? (player: Player<SpecType>) => config.showWhen!(getModObject(player)) : undefined,\n\t}\n}\nexport interface PlayerNumberInputConfig<SpecType extends Spec, Message> extends BasePlayerConfig<SpecType, number> {\n\tfieldName: keyof Message,\n\tlabel: string,\n\tlabelTooltip?: string,\n\tpercent?: boolean,\n\tfloat?: boolean,\n\tpositive?: boolean,\n\tenableWhen?: (player: Player<SpecType>) => boolean,\n\tshowWhen?: (player: Player<SpecType>) => boolean,\n\tchangeEmitter?: (player: Player<SpecType>) => TypedEvent<any>,\n}\nexport function makeSpecOptionsNumberInput<SpecType extends Spec>(config: PlayerNumberInputConfig<SpecType, SpecOptions<SpecType>>): TypedNumberPickerConfig<Player<SpecType>> {\n\tconst internalConfig = {\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tfloat: config.float,\n\t\tpositive: config.positive,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getSpecOptions()[config.fieldName] as unknown as number),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: number) => {\n\t\t\tconst newMessage = player.getSpecOptions();\n\t\t\t(newMessage[config.fieldName] as unknown as number) = newVal;\n\t\t\tplayer.setSpecOptions(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.specOptionsChangeEmitter),\n\t\tenableWhen: config.enableWhen,\n\t\tshowWhen: config.showWhen,\n\t\textraCssClasses: config.extraCssClasses,\n\t};\n\tif (config.percent) {\n\t\tconst getValue = internalConfig.getValue;\n\t\tinternalConfig.getValue = (player: Player<SpecType>) => getValue(player) * 100;\n\t\tconst setValue = internalConfig.setValue;\n\t\tinternalConfig.setValue = (eventID: EventID, player: Player<SpecType>, newVal: number) => setValue(eventID, player, newVal/100);\n\t}\n\treturn makeWrappedNumberInput<SpecType, Player<SpecType>>(internalConfig);\n}\nexport function makeRotationNumberInput<SpecType extends Spec>(config: PlayerNumberInputConfig<SpecType, SpecRotation<SpecType>>): TypedNumberPickerConfig<Player<SpecType>> {\n\tconst internalConfig = {\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tfloat: config.float,\n\t\tpositive: config.positive,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getRotation()[config.fieldName] as unknown as number),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: number) => {\n\t\t\tconst newMessage = player.getRotation();\n\t\t\t(newMessage[config.fieldName] as unknown as number) = newVal;\n\t\t\tplayer.setRotation(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.rotationChangeEmitter),\n\t\tenableWhen: config.enableWhen,\n\t\tshowWhen: config.showWhen,\n\t\textraCssClasses: config.extraCssClasses,\n\t};\n\tif (config.percent) {\n\t\tconst getValue = internalConfig.getValue;\n\t\tinternalConfig.getValue = (player: Player<SpecType>) => getValue(player) * 100;\n\t\tconst setValue = internalConfig.setValue;\n\t\tinternalConfig.setValue = (eventID: EventID, player: Player<SpecType>, newVal: number) => setValue(eventID, player, newVal/100);\n\t}\n\treturn makeWrappedNumberInput<SpecType, Player<SpecType>>(internalConfig);\n}\n\n\n/////////////////////////////////////////////////////////////////////////////////\n//                                    ENUM\n/////////////////////////////////////////////////////////////////////////////////\nexport interface TypedEnumPickerConfig<ModObject> extends EnumPickerConfig<ModObject> {\n\ttype: 'enum',\n}\n\ninterface WrappedEnumInputConfig<SpecType extends Spec, ModObject> extends EnumPickerConfig<ModObject> {\n\tgetModObject: (player: Player<SpecType>) => ModObject,\n}\nfunction makeWrappedEnumInput<SpecType extends Spec, ModObject>(config: WrappedEnumInputConfig<SpecType, ModObject>): TypedEnumPickerConfig<Player<SpecType>> {\n\tconst getModObject = config.getModObject;\n\treturn {\n\t\ttype: 'enum',\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tvalues: config.values,\n\t\tchangedEvent: (player: Player<SpecType>) => config.changedEvent(getModObject(player)),\n\t\tgetValue: (player: Player<SpecType>) => config.getValue(getModObject(player)),\n\t\tsetValue: (eventID: EventID, player: Player<SpecType>, newValue: number) => config.setValue(eventID, getModObject(player), newValue),\n\t\tenableWhen: config.enableWhen ? (player: Player<SpecType>) => config.enableWhen!(getModObject(player)) : undefined,\n\t\tshowWhen: config.showWhen ? (player: Player<SpecType>) => config.showWhen!(getModObject(player)) : undefined,\n\t}\n}\n\nexport interface PlayerEnumInputConfig<SpecType extends Spec, Message> {\n\tfieldName: keyof Message,\n\tlabel: string,\n\tlabelTooltip?: string,\n\tvalues: Array<EnumValueConfig>;\n\tgetValue?: (player: Player<SpecType>) => number,\n\tsetValue?: (eventID: EventID, player: Player<SpecType>, newValue: number) => void,\n\tenableWhen?: (player: Player<SpecType>) => boolean,\n\tshowWhen?: (player: Player<SpecType>) => boolean,\n\tchangeEmitter?: (player: Player<SpecType>) => TypedEvent<any>,\n}\n// T is unused, but kept to have the same interface as the icon enum inputs.\nexport function makeSpecOptionsEnumInput<SpecType extends Spec, T>(config: PlayerEnumInputConfig<SpecType, SpecOptions<SpecType>>): TypedEnumPickerConfig<Player<SpecType>> {\n\treturn makeWrappedEnumInput<SpecType, Player<SpecType>>({\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tvalues: config.values,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getSpecOptions()[config.fieldName] as unknown as number),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: number) => {\n\t\t\tconst newMessage = player.getSpecOptions();\n\t\t\t(newMessage[config.fieldName] as unknown as number) = newVal;\n\t\t\tplayer.setSpecOptions(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.specOptionsChangeEmitter),\n\t\tenableWhen: config.enableWhen,\n\t\tshowWhen: config.showWhen,\n\t});\n}\n// T is unused, but kept to have the same interface as the icon enum inputs.\nexport function makeRotationEnumInput<SpecType extends Spec, T>(config: PlayerEnumInputConfig<SpecType, SpecRotation<SpecType>>): TypedEnumPickerConfig<Player<SpecType>> {\n\treturn makeWrappedEnumInput<SpecType, Player<SpecType>>({\n\t\tlabel: config.label,\n\t\tlabelTooltip: config.labelTooltip,\n\t\tvalues: config.values,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getRotation()[config.fieldName] as unknown as number),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: number) => {\n\t\t\tconst newMessage = player.getRotation();\n\t\t\t(newMessage[config.fieldName] as unknown as number) = newVal;\n\t\t\tplayer.setRotation(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.rotationChangeEmitter),\n\t\tenableWhen: config.enableWhen,\n\t\tshowWhen: config.showWhen,\n\t});\n}\n\n\n/////////////////////////////////////////////////////////////////////////////////\n//                                  ICON\n/////////////////////////////////////////////////////////////////////////////////\nexport interface TypedIconPickerConfig<ModObject, T> extends IconPickerConfig<ModObject, T> {\n\ttype: 'icon',\n}\n\ninterface WrappedIconInputConfig<SpecType extends Spec, ModObject, T> extends IconPickerConfig<ModObject, T> {\n\tgetModObject: (player: Player<SpecType>) => ModObject,\n}\nfunction makeWrappedIconInput<SpecType extends Spec, ModObject, T>(config: WrappedIconInputConfig<SpecType, ModObject, T>): TypedIconPickerConfig<Player<SpecType>, T> {\n\tconst getModObject = config.getModObject;\n\treturn {\n\t\ttype: 'icon',\n\t\tid: config.id,\n\t\tstates: config.states,\n\t\tchangedEvent: (player: Player<SpecType>) => config.changedEvent(getModObject(player)),\n\t\tgetValue: (player: Player<SpecType>) => config.getValue(getModObject(player)),\n\t\tsetValue: (eventID: EventID, player: Player<SpecType>, newValue: T) => config.setValue(eventID, getModObject(player), newValue),\n\t\textraCssClasses: config.extraCssClasses,\n\t}\n}\n\ninterface WrappedTypedInputConfig<Message, ModObject, T> {\n\tgetModObject: (player: Player<any>) => ModObject,\n\tgetValue: (modObj: ModObject) => Message,\n\tsetValue: (eventID: EventID, modObj: ModObject, messageVal: Message) => void,\n\tchangeEmitter: (modObj: ModObject) => TypedEvent<any>,\n\textraCssClasses?: Array<string>,\n\n\tgetFieldValue?: (modObj: ModObject) => T,\n\tsetFieldValue?: (eventID: EventID, modObj: ModObject, newValue: T) => void,\n}\n\nexport function makeBooleanIconInput<SpecType extends Spec, Message, ModObject>(config: WrappedTypedInputConfig<Message, ModObject, boolean>, id: ActionId, fieldName: keyof Message, value?: number): TypedIconPickerConfig<Player<SpecType>, boolean> {\n\treturn makeWrappedIconInput<SpecType, ModObject, boolean>({\n\t\tgetModObject: config.getModObject,\n\t\tid: id,\n\t\tstates: 2,\n\t\tchangedEvent: config.changeEmitter,\n\t\tgetValue: config.getFieldValue || ((modObj: ModObject) => value ? (config.getValue(modObj)[fieldName] as unknown as number) == value : (config.getValue(modObj)[fieldName] as unknown as boolean)),\n\t\tsetValue: config.setFieldValue || ((eventID: EventID, modObj: ModObject, newValue: boolean) => {\n\t\t\tconst newMessage = config.getValue(modObj);\n\t\t\tif (value) {\n\t\t\t\tif (newValue) {\n\t\t\t\t\t(newMessage[fieldName] as unknown as number) = value;\n\t\t\t\t} else if ((newMessage[fieldName] as unknown as number) == value) {\n\t\t\t\t\t(newMessage[fieldName] as unknown as number) = 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t(newMessage[fieldName] as unknown as boolean) = newValue;\n\t\t\t}\n\t\t\tconfig.setValue(eventID, modObj, newMessage);\n\t\t}),\n\t\textraCssClasses: config.extraCssClasses,\n\t});\n}\n\nexport interface PlayerBooleanIconInputConfig<SpecType extends Spec, Message, T> extends BasePlayerConfig<SpecType, T> {\n\tfieldName: keyof Message,\n\tid: ActionId,\n\tvalue?: number,\n}\nexport function makeSpecOptionsBooleanIconInput<SpecType extends Spec>(config: PlayerBooleanIconInputConfig<SpecType, SpecOptions<SpecType>, boolean>): TypedIconPickerConfig<Player<SpecType>, boolean> {\n\treturn makeBooleanIconInput<SpecType, SpecOptions<SpecType>, Player<SpecType>>({\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: (player: Player<SpecType>) => player.getSpecOptions(),\n\t\tsetValue: (eventID: EventID, player: Player<SpecType>, newVal: SpecOptions<SpecType>) => player.setSpecOptions(eventID, newVal),\n\t\tchangeEmitter: config.changeEmitter || ((player: Player<SpecType>) => player.specOptionsChangeEmitter),\n\t\textraCssClasses: config.extraCssClasses,\n\t\tgetFieldValue: config.getValue,\n\t\tsetFieldValue: config.setValue,\n\t}, config.id, config.fieldName, config.value);\n}\n\nfunction makeNumberIconInput<SpecType extends Spec, Message, ModObject>(config: WrappedTypedInputConfig<Message, ModObject, number>, id: ActionId, fieldName: keyof Message, multiplier?: number): TypedIconPickerConfig<Player<SpecType>, number> {\n\treturn makeWrappedIconInput<SpecType, ModObject, number>({\n\t\tgetModObject: config.getModObject,\n\t\tid: id,\n\t\tstates: 0, // Must be assigned externally.\n\t\tchangedEvent: config.changeEmitter,\n\t\tgetValue: (modObj: ModObject) => config.getValue(modObj)[fieldName] as unknown as number,\n\t\tsetValue: (eventID: EventID, modObj: ModObject, newValue: number) => {\n\t\t\tconst newMessage = config.getValue(modObj);\n\t\t\tif (multiplier) {\n\t\t\t\tconst sign = newValue - (newMessage[fieldName] as unknown as number)\n\t\t\t\tnewValue += (multiplier-1)*sign\n\t\t\t}\n\t\t\tif (newValue < 0) {\n\t\t\t\tnewValue = 0\n\t\t\t}\n\t\t\t(newMessage[fieldName] as unknown as number) = newValue;\n\t\t\tconfig.setValue(eventID, modObj, newMessage);\n\t\t},\n\t});\n}\nexport function makeTristateIconInput<SpecType extends Spec, Message, ModObject>(config: WrappedTypedInputConfig<Message, ModObject, number>, id: ActionId, impId: ActionId, fieldName: keyof Message): TypedIconPickerConfig<Player<SpecType>, number> {\n\tconst input = makeNumberIconInput(config, id, fieldName);\n\tinput.states = 3;\n\tinput.improvedId = impId;\n\treturn input;\n}\nexport function makeQuadstateIconInput<SpecType extends Spec, Message, ModObject>(config: WrappedTypedInputConfig<Message, ModObject, number>, id: ActionId, impId: ActionId, impId2: ActionId, fieldName: keyof Message): TypedIconPickerConfig<Player<SpecType>, number> {\n\tconst input = makeNumberIconInput(config, id, fieldName);\n\tinput.states = 4;\n\tinput.improvedId = impId;\n\tinput.improvedId2 = impId2;\n\treturn input;\n}\nexport function makeMultistateIconInput<SpecType extends Spec, Message, ModObject>(config: WrappedTypedInputConfig<Message, ModObject, number>, id: ActionId, numStates: number, fieldName: keyof Message, multiplier?: number): TypedIconPickerConfig<Player<SpecType>, number> {\n\tconst input = makeNumberIconInput(config, id, fieldName, multiplier);\n\tinput.states = numStates;\n\treturn input;\n}\n\n\nexport interface TypedIconEnumPickerConfig<ModObject, T> extends IconEnumPickerConfig<ModObject, T> {\n\ttype: 'iconEnum',\n}\n\ninterface WrappedEnumIconInputConfig<SpecType extends Spec, ModObject, T> extends IconEnumPickerConfig<ModObject, T> {\n\tgetModObject: (player: Player<SpecType>) => ModObject,\n}\nfunction makeWrappedEnumIconInput<SpecType extends Spec, ModObject, T>(config: WrappedEnumIconInputConfig<SpecType, ModObject, T>): TypedIconEnumPickerConfig<Player<SpecType>, T> {\n\tconst getModObject = config.getModObject;\n\treturn {\n\t\ttype: 'iconEnum',\n\t\tnumColumns: config.numColumns,\n\t\tvalues: config.values.map(value => {\n\t\t\tif (value.showWhen) {\n\t\t\t\tconst showWhen = value.showWhen;\n\t\t\t\tvalue.showWhen = ((player: Player<SpecType>) => showWhen(getModObject(player))) as any;\n\t\t\t}\n\t\t\treturn value as unknown as IconEnumValueConfig<Player<SpecType>, T>;\n\t\t}),\n\t\tequals: config.equals,\n\t\tzeroValue: config.zeroValue,\n\t\tchangedEvent: (player: Player<SpecType>) => config.changedEvent(getModObject(player)),\n\t\tgetValue: (player: Player<SpecType>) => config.getValue(getModObject(player)),\n\t\tsetValue: (eventID: EventID, player: Player<SpecType>, newValue: T) => config.setValue(eventID, getModObject(player), newValue),\n\t\textraCssClasses: config.extraCssClasses,\n\t}\n}\n\nexport interface PlayerEnumIconInputConfig<SpecType extends Spec, Message, T> extends BasePlayerConfig<SpecType, T> {\n\tfieldName: keyof Message,\n\tvalues: Array<IconEnumValueConfig<Player<SpecType>, T>>;\n\tnumColumns?: number,\n}\nexport function makeSpecOptionsEnumIconInput<SpecType extends Spec, T>(config: PlayerEnumIconInputConfig<SpecType, SpecOptions<SpecType>, T>): TypedIconEnumPickerConfig<Player<SpecType>, T> {\n\treturn makeWrappedEnumIconInput<SpecType, Player<SpecType>, T>({\n\t\tnumColumns: config.numColumns || 1,\n\t\tvalues: config.values,\n\t\tequals: (a: T, b: T) => a == b,\n\t\tzeroValue: 0 as unknown as T,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getSpecOptions()[config.fieldName] as unknown as T),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: T) => {\n\t\t\tconst newMessage = player.getSpecOptions();\n\t\t\t(newMessage[config.fieldName] as unknown as T) = newVal;\n\t\t\tplayer.setSpecOptions(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.specOptionsChangeEmitter),\n\t\textraCssClasses: config.extraCssClasses,\n\t});\n}\nexport function makeRotationEnumIconInput<SpecType extends Spec, T>(config: PlayerEnumIconInputConfig<SpecType, SpecRotation<SpecType>, T>): TypedIconEnumPickerConfig<Player<SpecType>, T> {\n\treturn makeWrappedEnumIconInput<SpecType, Player<SpecType>, T>({\n\t\tnumColumns: config.numColumns || 1,\n\t\tvalues: config.values,\n\t\tequals: (a: T, b: T) => a == b,\n\t\tzeroValue: 0 as unknown as T,\n\t\tgetModObject: (player: Player<SpecType>) => player,\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => player.getRotation()[config.fieldName] as unknown as T),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newVal: T) => {\n\t\t\tconst newMessage = player.getRotation();\n\t\t\t(newMessage[config.fieldName] as unknown as T) = newVal;\n\t\t\tplayer.setRotation(eventID, newMessage);\n\t\t}),\n\t\tchangedEvent: config.changeEmitter || ((player: Player<SpecType>) => player.rotationChangeEmitter),\n\t\textraCssClasses: config.extraCssClasses,\n\t});\n}\n\nexport interface TypedCustomRotationPickerConfig<SpecType extends Spec, T> extends CustomRotationPickerConfig<SpecType, T> {\n\ttype: 'customRotation',\n}\n\ninterface WrappedCustomRotationInputConfig<SpecType extends Spec, T> {\n\tfieldName: keyof SpecRotation<SpecType>,\n\tgetValue?: (player: Player<SpecType>) => CustomRotation,\n\tsetValue?: (eventID: EventID, player: Player<SpecType>, newValue: CustomRotation) => void,\n\n\tnumColumns: number,\n\tvalues: Array<IconEnumValueConfig<Player<SpecType>, T>>;\n\n\tshowWhen?: (player: Player<SpecType>) => boolean,\n}\nexport function makeCustomRotationInput<SpecType extends Spec, T>(config: WrappedCustomRotationInputConfig<SpecType, T>): TypedCustomRotationPickerConfig<SpecType, T> {\n\treturn {\n\t\ttype: 'customRotation',\n\t\tgetValue: config.getValue || ((player: Player<SpecType>) => (player.getRotation()[config.fieldName] as unknown as CustomRotation) || CustomRotation.create()),\n\t\tsetValue: config.setValue || ((eventID: EventID, player: Player<SpecType>, newValue: CustomRotation) => {\n\t\t\tconst rotation = player.getRotation();\n\t\t\t(rotation[config.fieldName] as unknown as CustomRotation) = newValue;\n\t\t\tplayer.setRotation(eventID, rotation);\n\t\t}),\n\t\tshowWhen: config.showWhen,\n\t\tnumColumns: config.numColumns,\n\t\tvalues: config.values,\n\t}\n}\n","import { Spec } from '../proto/common.js';\nimport { HunterPetTalents, Hunter_Options_PetType as PetType } from '../proto/hunter.js';\nimport { Player } from '../player.js';\nimport { Component } from '../components/component.js';\nimport { EnumPicker, EnumPickerConfig } from '../components/enum_picker.js';\nimport { SavedDataManager } from '../components/saved_data_manager.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { ActionId } from '../proto_utils/action_id.js';\n\nimport { TalentsConfig, TalentsPicker, newTalentsConfig } from './talents_picker.js';\nimport { protoToTalentString, talentStringToProto } from './factory.js';\n\nimport * as InputHelpers from '../components/input_helpers.js';\n\nexport function makePetTypeInputConfig(includeLabel: boolean): InputHelpers.TypedIconEnumPickerConfig<Player<Spec.SpecHunter>, PetType> {\n\treturn InputHelpers.makeSpecOptionsEnumIconInput<Spec.SpecHunter, PetType>({\n\t\tfieldName: 'petType',\n\t\tnumColumns: 5,\n\t\t//label: includeLabel ? 'Pet' : '',\n\t\tvalues: [\n\t\t\t{ color: 'grey', value: PetType.PetNone },\n\t\t\t{ actionId: ActionId.fromPetName('Bat'), tooltip: 'Bat', value: PetType.Bat },\n\t\t\t{ actionId: ActionId.fromPetName('Bear'), tooltip: 'Bear', value: PetType.Bear },\n\t\t\t{ actionId: ActionId.fromPetName('Bird of Prey'), tooltip: 'Bird of Prey', value: PetType.BirdOfPrey },\n\t\t\t{ actionId: ActionId.fromPetName('Boar'), tooltip: 'Boar', value: PetType.Boar },\n\t\t\t{ actionId: ActionId.fromPetName('Carrion Bird'), tooltip: 'Carrion Bird', value: PetType.CarrionBird },\n\t\t\t{ actionId: ActionId.fromPetName('Cat'), tooltip: 'Cat', value: PetType.Cat },\n\t\t\t{ actionId: ActionId.fromPetName('Chimaera'), tooltip: 'Chimaera (Exotic)', value: PetType.Chimaera },\n\t\t\t{ actionId: ActionId.fromPetName('Core Hound'), tooltip: 'Core Hound (Exotic)', value: PetType.CoreHound },\n\t\t\t{ actionId: ActionId.fromPetName('Crab'), tooltip: 'Crab', value: PetType.Crab },\n\t\t\t{ actionId: ActionId.fromPetName('Crocolisk'), tooltip: 'Crocolisk', value: PetType.Crocolisk },\n\t\t\t{ actionId: ActionId.fromPetName('Devilsaur'), tooltip: 'Devilsaur (Exotic)', value: PetType.Devilsaur },\n\t\t\t{ actionId: ActionId.fromPetName('Dragonhawk'), tooltip: 'Dragonhawk', value: PetType.Dragonhawk },\n\t\t\t{ actionId: ActionId.fromPetName('Gorilla'), tooltip: 'Gorilla', value: PetType.Gorilla },\n\t\t\t{ actionId: ActionId.fromPetName('Hyena'), tooltip: 'Hyena', value: PetType.Hyena },\n\t\t\t{ actionId: ActionId.fromPetName('Moth'), tooltip: 'Moth', value: PetType.Moth },\n\t\t\t{ actionId: ActionId.fromPetName('Nether Ray'), tooltip: 'Nether Ray', value: PetType.NetherRay },\n\t\t\t{ actionId: ActionId.fromPetName('Raptor'), tooltip: 'Raptor', value: PetType.Raptor },\n\t\t\t{ actionId: ActionId.fromPetName('Ravager'), tooltip: 'Ravager', value: PetType.Ravager },\n\t\t\t{ actionId: ActionId.fromPetName('Rhino'), tooltip: 'Rhino', value: PetType.Rhino },\n\t\t\t{ actionId: ActionId.fromPetName('Scorpid'), tooltip: 'Scorpid', value: PetType.Scorpid },\n\t\t\t{ actionId: ActionId.fromPetName('Serpent'), tooltip: 'Serpent', value: PetType.Serpent },\n\t\t\t{ actionId: ActionId.fromPetName('Silithid'), tooltip: 'Silithid (Exotic)', value: PetType.Silithid },\n\t\t\t{ actionId: ActionId.fromPetName('Spider'), tooltip: 'Spider', value: PetType.Spider },\n\t\t\t{ actionId: ActionId.fromPetName('Spirit Beast'), tooltip: 'Spirit Beast (Exotic)', value: PetType.SpiritBeast },\n\t\t\t{ actionId: ActionId.fromPetName('Spore Bat'), tooltip: 'Spore Bat', value: PetType.SporeBat },\n\t\t\t{ actionId: ActionId.fromPetName('Tallstrider'), tooltip: 'Tallstrider', value: PetType.Tallstrider },\n\t\t\t{ actionId: ActionId.fromPetName('Turtle'), tooltip: 'Turtle', value: PetType.Turtle },\n\t\t\t{ actionId: ActionId.fromPetName('Warp Stalker'), tooltip: 'Warp Stalker', value: PetType.WarpStalker },\n\t\t\t{ actionId: ActionId.fromPetName('Wasp'), tooltip: 'Wasp', value: PetType.Wasp },\n\t\t\t{ actionId: ActionId.fromPetName('Wind Serpent'), tooltip: 'Wind Serpent', value: PetType.WindSerpent },\n\t\t\t{ actionId: ActionId.fromPetName('Wolf'), tooltip: 'Wolf', value: PetType.Wolf },\n\t\t\t{ actionId: ActionId.fromPetName('Worm'), tooltip: 'Worm (Exotic)', value: PetType.Worm },\n\t\t],\n\t});\n}\n\nenum PetCategory {\n    Cunning,\n    Ferocity,\n    Tenacity,\n}\n\nconst petCategories: Record<PetType, PetCategory> = {\n    [PetType.PetNone]: PetCategory.Ferocity,\n    [PetType.Bat]: PetCategory.Cunning,\n    [PetType.Bear]: PetCategory.Tenacity,\n    [PetType.BirdOfPrey]: PetCategory.Cunning,\n    [PetType.Boar]: PetCategory.Tenacity,\n    [PetType.CarrionBird]: PetCategory.Ferocity,\n    [PetType.Cat]: PetCategory.Ferocity,\n    [PetType.Chimaera]: PetCategory.Cunning,\n    [PetType.CoreHound]: PetCategory.Ferocity,\n    [PetType.Crab]: PetCategory.Tenacity,\n    [PetType.Crocolisk]: PetCategory.Tenacity,\n    [PetType.Devilsaur]: PetCategory.Ferocity,\n    [PetType.Dragonhawk]: PetCategory.Cunning,\n    [PetType.Gorilla]: PetCategory.Tenacity,\n    [PetType.Hyena]: PetCategory.Ferocity,\n    [PetType.Moth]: PetCategory.Ferocity,\n    [PetType.NetherRay]: PetCategory.Cunning,\n    [PetType.Raptor]: PetCategory.Ferocity,\n    [PetType.Ravager]: PetCategory.Cunning,\n    [PetType.Rhino]: PetCategory.Tenacity,\n    [PetType.Scorpid]: PetCategory.Tenacity,\n    [PetType.Serpent]: PetCategory.Cunning,\n    [PetType.Silithid]: PetCategory.Cunning,\n    [PetType.Spider]: PetCategory.Cunning,\n    [PetType.SpiritBeast]: PetCategory.Ferocity,\n    [PetType.SporeBat]: PetCategory.Cunning,\n    [PetType.Tallstrider]: PetCategory.Ferocity,\n    [PetType.Turtle]: PetCategory.Tenacity,\n    [PetType.WarpStalker]: PetCategory.Tenacity,\n    [PetType.Wasp]: PetCategory.Ferocity,\n    [PetType.WindSerpent]: PetCategory.Cunning,\n    [PetType.Wolf]: PetCategory.Ferocity,\n    [PetType.Worm]: PetCategory.Tenacity,\n};\n\nconst categoryOrder = [PetCategory.Cunning, PetCategory.Ferocity, PetCategory.Tenacity];\nconst categoryClasses = ['cunning', 'ferocity', 'tenacity'];\n\nexport class HunterPetTalentsPicker extends Component {\n    private readonly player: Player<Spec.SpecHunter>;\n    private curCategory: PetCategory | null;\n    private curTalents: HunterPetTalents;\n\n    // Not saved to storage, just holds last-used values for this session.\n    private savedSets: Array<HunterPetTalents>;\n\n    constructor(parent: HTMLElement, player: Player<Spec.SpecHunter>) {\n        super(parent, 'hunter-pet-talents-picker');\n        this.player = player;\n\n        this.rootElem.innerHTML = `\n\t\t\t<div class=\"pet-talents-container\"></div>\n\t\t`;\n\n        this.curCategory = this.getCategoryFromPlayer();\n        this.curTalents = this.getPetTalentsFromPlayer();\n        this.savedSets = defaultTalents.slice();\n        this.savedSets[this.curCategory] = this.curTalents;\n        this.rootElem.classList.add(categoryClasses[this.curCategory]);\n\n        const talentsContainer = this.rootElem.getElementsByClassName('pet-talents-container')[0] as HTMLElement;\n\n        const pickers = categoryOrder.map((category, i) => {\n            const talentsConfig = petTalentsConfig[i];\n\n            const pickerContainer = document.createElement('div');\n            pickerContainer.classList.add('hunter-pet-talents-' + categoryClasses[i]);\n            talentsContainer.appendChild(pickerContainer);\n\n            const picker = new TalentsPicker(pickerContainer, player, {\n                trees: talentsConfig,\n                changedEvent: (player: Player<Spec.SpecHunter>) => player.specOptionsChangeEmitter,\n                getValue: (player: Player<Spec.SpecHunter>) => protoToTalentString(this.getPetTalentsFromPlayer(), talentsConfig),\n                setValue: (eventID: EventID, player: Player<Spec.SpecHunter>, newValue: string) => {\n                    const options = player.getSpecOptions();\n                    options.petTalents = talentStringToProto(HunterPetTalents.create(), newValue, talentsConfig);\n                    player.setSpecOptions(eventID, options);\n\n                    this.savedSets[i] = options.petTalents;\n                    this.curTalents = options.petTalents;\n                },\n                pointsPerRow: 3,\n                maxPoints: 16,\n            });\n\n            const savedTalentsManager = new SavedDataManager<Player<Spec.SpecHunter>, string>(pickerContainer, this.player, {\n                presetsOnly: true,\n                label: 'Pet Talents',\n                storageKey: '__NEVER_USED__',\n                getData: (player: Player<Spec.SpecHunter>) => protoToTalentString(this.getPetTalentsFromPlayer(), talentsConfig),\n                setData: (eventID: EventID, player: Player<Spec.SpecHunter>, newValue: string) => {\n                    const options = player.getSpecOptions();\n                    options.petTalents = talentStringToProto(HunterPetTalents.create(), newValue, talentsConfig);\n                    player.setSpecOptions(eventID, options);\n\n                    this.savedSets[i] = options.petTalents;\n                    this.curTalents = options.petTalents;\n                },\n                changeEmitters: [this.player.specOptionsChangeEmitter],\n                equals: (a: string, b: string) => a == b,\n                toJson: (a: string) => a,\n                fromJson: (obj: any) => '',\n            });\n            savedTalentsManager.addSavedData({\n                name: 'Default',\n                isPreset: true,\n                data: protoToTalentString(defaultTalents[i], talentsConfig),\n            });\n            savedTalentsManager.addSavedData({\n                name: 'BM',\n                isPreset: true,\n                data: protoToTalentString(defaultBMTalents[i], talentsConfig),\n            });\n\n            return picker;\n        });\n\n        player.specOptionsChangeEmitter.on(() => {\n            const petCategory = this.getCategoryFromPlayer();\n            const categoryIdx = categoryOrder.indexOf(petCategory);\n\n            if (petCategory != this.curCategory) {\n                this.curCategory = petCategory;\n                this.rootElem.classList.remove(...categoryClasses);\n                this.rootElem.classList.add(categoryClasses[categoryIdx]);\n\n                const curTalents = this.getPetTalentsFromPlayer();\n                if (!HunterPetTalents.equals(curTalents, this.curTalents)) {\n                    // If the current talents have also changed, this was probably a load so we shouldn't switch sets.\n                    this.curTalents = curTalents;\n                    this.savedSets[this.curCategory] = this.curTalents;\n                } else {\n                    // Revert to the talents from last time the user was editing this category.\n                    const options = this.player.getSpecOptions();\n                    options.petTalents = this.savedSets[this.curCategory];\n                    this.player.setSpecOptions(TypedEvent.nextEventID(), options);\n                    this.curTalents = options.petTalents;\n                }\n            }\n        });\n\n        const updateIsBM = () => {\n            const maxPoints = this.player.getTalents().beastMastery ? 20 : 16;\n            pickers.forEach(picker => picker.setMaxPoints(maxPoints));\n        };\n        player.talentsChangeEmitter.on(updateIsBM);\n        updateIsBM();\n    }\n\n    getPetTalentsFromPlayer(): HunterPetTalents {\n        return this.player.getSpecOptions().petTalents || HunterPetTalents.create();\n    }\n\n    getCategoryFromPlayer(): PetCategory {\n        const petType = this.player.getSpecOptions().petType;\n        return petCategories[petType];\n    }\n}\n\nexport function getPetTalentsConfig(petType: PetType): TalentsConfig<HunterPetTalents> {\n\tconst petCategory = petCategories[petType];\n\tconst categoryIdx = categoryOrder.indexOf(petCategory);\n\treturn petTalentsConfig[categoryIdx];\n}\n\nexport const cunningDefault: HunterPetTalents = HunterPetTalents.create({\n    cobraReflexes: 2,\n    dive: true,\n    boarsSpeed: true,\n    mobility: 2,\n    spikedCollar: 3,\n    cornered: 2,\n    feedingFrenzy: 2,\n    wolverineBite: true,\n    bullheaded: true,\n    wildHunt: 1,\n});\nexport const ferocityDefault: HunterPetTalents = HunterPetTalents.create({\n    cobraReflexes: 2,\n    dive: true,\n    spikedCollar: 3,\n    boarsSpeed: true,\n    cullingTheHerd: 3,\n    spidersBite: 3,\n    rabid: true,\n    callOfTheWild: true,\n    wildHunt: 1,\n});\nexport const tenacityDefault: HunterPetTalents = HunterPetTalents.create({\n    cobraReflexes: 2,\n    charge: true,\n    greatStamina: 3,\n    bloodOfTheRhino: 2,\n    guardDog: 2,\n    thunderstomp: true,\n    graceOfTheMantis: 2,\n    taunt: true,\n    roarOfSacrifice: true,\n    wildHunt: 1,\n});\nconst defaultTalents = [cunningDefault, ferocityDefault, tenacityDefault];\n\nexport const cunningBMDefault: HunterPetTalents = HunterPetTalents.create({\n    cobraReflexes: 2,\n    dive: true,\n    boarsSpeed: true,\n    mobility: 2,\n    spikedCollar: 3,\n    cornered: 2,\n    feedingFrenzy: 2,\n    wolverineBite: true,\n    bullheaded: true,\n    graceOfTheMantis: 2,\n    wildHunt: 2,\n    roarOfSacrifice: true,\n});\nexport const ferocityBMDefault: HunterPetTalents = HunterPetTalents.create({\n    cobraReflexes: 2,\n    dive: true,\n    bloodthirsty: 1,\n    spikedCollar: 3,\n    boarsSpeed: true,\n    cullingTheHerd: 3,\n    spidersBite: 3,\n    rabid: true,\n    callOfTheWild: true,\n    sharkAttack: 2,\n    wildHunt: 2,\n});\nexport const tenacityBMDefault: HunterPetTalents = HunterPetTalents.create({\n    cobraReflexes: 2,\n    charge: true,\n    greatStamina: 3,\n    spikedCollar: 3,\n    bloodOfTheRhino: 2,\n    guardDog: 2,\n    thunderstomp: true,\n    graceOfTheMantis: 2,\n    taunt: true,\n    roarOfSacrifice: true,\n    wildHunt: 2,\n});\nconst defaultBMTalents = [cunningBMDefault, ferocityBMDefault, tenacityBMDefault];\n\nconst cunningPetTalentsConfig: TalentsConfig<HunterPetTalents> = newTalentsConfig([\n    {\n        name: 'Cunning',\n        backgroundUrl: 'https://wotlkdb.com/static/images/wow/hunterpettalents/bg_3.jpg?85',\n        talents: [\n            {\n                fieldName: 'cobraReflexes',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 0,\n                },\n                spellIds: [61682],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'dive',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1,\n                },\n                spellIds: [23145],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'greatStamina',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2,\n                },\n                spellIds: [61686],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'naturalArmor',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 3,\n                },\n                spellIds: [61689],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'boarsSpeed',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0,\n                },\n                spellIds: [19596],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'mobility',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 0,\n                    colIdx: 1,\n                },\n                spellIds: [53554],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'owlsFocus',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2,\n                },\n                spellIds: [53514, 53516],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'spikedCollar',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 3,\n                },\n                spellIds: [53182],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'cullingTheHerd',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0,\n                },\n                spellIds: [61680, 61681, 52858],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'lionhearted',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [53409, 53411],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'carrionFeeder',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2,\n                },\n                spellIds: [54044],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'greatResistance',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 1,\n                },\n                spellIds: [53427, 53429],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'cornered',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [52234, 53497],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'feedingFrenzy',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 3,\n                },\n                prereqLocation: {\n                    rowIdx: 1,\n                    colIdx: 3,\n                },\n                spellIds: [53511],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'wolverineBite',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0,\n                },\n                spellIds: [53508],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'roarOfRecovery',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1,\n                },\n                spellIds: [53517],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'bullheaded',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                prereqLocation: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [53490],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'graceOfTheMantis',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 3,\n                },\n                spellIds: [53450],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'wildHunt',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 0,\n                },\n                prereqLocation: {\n                    rowIdx: 4,\n                    colIdx: 0,\n                },\n                spellIds: [62758, 62762],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'roarOfSacrifice',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 3,\n                },\n                prereqLocation: {\n                    rowIdx: 4,\n                    colIdx: 3,\n                },\n                spellIds: [53480],\n                maxPoints: 1,\n            },\n        ],\n    },\n]);\nconst ferocityPetTalentsConfig: TalentsConfig<HunterPetTalents> = newTalentsConfig([\n    {\n        name: 'Ferocity',\n        backgroundUrl: 'https://wotlkdb.com/static/images/wow/hunterpettalents/bg_1.jpg?85',\n        talents: [\n            {\n                fieldName: 'cobraReflexes',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 0,\n                },\n                spellIds: [61682],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'dive',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1,\n                },\n                spellIds: [23145],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'greatStamina',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2,\n                },\n                spellIds: [61686],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'naturalArmor',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 3,\n                },\n                spellIds: [61689],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'improvedCower',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0,\n                },\n                spellIds: [53180],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'bloodthirsty',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1,\n                },\n                spellIds: [53186],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'spikedCollar',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2,\n                },\n                spellIds: [53182],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'boarsSpeed',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 3,\n                },\n                spellIds: [19596],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'cullingTheHerd',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0,\n                },\n                spellIds: [61680, 61681, 52858],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'lionhearted',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2,\n                },\n                spellIds: [53409, 53411],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'charge',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 3,\n                },\n                spellIds: [61685],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'heartOfThePheonix',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 1,\n                    colIdx: 1,\n                },\n                spellIds: [55709],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'spidersBite',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [53203],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'greatResistance',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 3,\n                },\n                spellIds: [53427, 53429],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'rabid',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0,\n                },\n                spellIds: [53401],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'lickYourWounds',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 3,\n                    colIdx: 1,\n                },\n                spellIds: [53426],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'callOfTheWild',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                prereqLocation: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [53434],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'sharkAttack',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 0,\n                },\n                spellIds: [62759],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'wildHunt',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2,\n                },\n                prereqLocation: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                spellIds: [62758, 62762],\n                maxPoints: 2,\n            },\n        ],\n    },\n]);\nconst tenacityPetTalentsConfig: TalentsConfig<HunterPetTalents> = newTalentsConfig([\n    {\n        name: 'Tenacity',\n        backgroundUrl: 'https://wotlkdb.com/static/images/wow/hunterpettalents/bg_2.jpg?85',\n        talents: [\n            {\n                fieldName: 'cobraReflexes',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 0,\n                },\n                spellIds: [61682],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'charge',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 1,\n                },\n                spellIds: [61685],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'greatStamina',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 2,\n                },\n                spellIds: [61686],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'naturalArmor',\n                location: {\n                    rowIdx: 0,\n                    colIdx: 3,\n                },\n                spellIds: [61689],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'spikedCollar',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 0,\n                },\n                spellIds: [53182],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'boarsSpeed',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 1,\n                },\n                spellIds: [19596],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'bloodOfTheRhino',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 2,\n                },\n                prereqLocation: {\n                    rowIdx: 0,\n                    colIdx: 2,\n                },\n                spellIds: [53481],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'petBarding',\n                location: {\n                    rowIdx: 1,\n                    colIdx: 3,\n                },\n                prereqLocation: {\n                    rowIdx: 0,\n                    colIdx: 3,\n                },\n                spellIds: [53175],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'cullingTheHerd',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 0,\n                },\n                spellIds: [61680, 61681, 52858],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'guardDog',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [53178],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'lionhearted',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 2,\n                },\n                spellIds: [53409, 53411],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'thunderstomp',\n                location: {\n                    rowIdx: 2,\n                    colIdx: 3,\n                },\n                spellIds: [63900],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'graceOfTheMantis',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [53450],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'greatResistance',\n                location: {\n                    rowIdx: 3,\n                    colIdx: 3,\n                },\n                spellIds: [53427, 53429],\n                maxPoints: 3,\n            },\n            {\n                fieldName: 'lastStand',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 0,\n                },\n                spellIds: [53478],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'taunt',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 1,\n                },\n                prereqLocation: {\n                    rowIdx: 2,\n                    colIdx: 1,\n                },\n                spellIds: [53477],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'roarOfSacrifice',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                prereqLocation: {\n                    rowIdx: 3,\n                    colIdx: 2,\n                },\n                spellIds: [53480],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'intervene',\n                location: {\n                    rowIdx: 4,\n                    colIdx: 3,\n                },\n                spellIds: [53476],\n                maxPoints: 1,\n            },\n            {\n                fieldName: 'silverback',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 1,\n                },\n                spellIds: [62764],\n                maxPoints: 2,\n            },\n            {\n                fieldName: 'wildHunt',\n                location: {\n                    rowIdx: 5,\n                    colIdx: 2,\n                },\n                prereqLocation: {\n                    rowIdx: 4,\n                    colIdx: 2,\n                },\n                spellIds: [62758, 62762],\n                maxPoints: 2,\n            },\n        ],\n    },\n]);\n\nconst petTalentsConfig = [\n    cunningPetTalentsConfig,\n    ferocityPetTalentsConfig,\n    tenacityPetTalentsConfig,\n];\n","import { ActionId } from '../proto_utils/action_id.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { isRightClick } from '../utils.js';\n\nimport { Component } from './component.js';\nimport { Input, InputConfig } from './input.js';\n\n// Data for creating an icon-based input component.\n// \n// E.g. one of these for arcane brilliance, another for kings, etc.\n// ModObject is the object being modified (Sim, Player, or Target).\n// ValueType is either number or boolean.\nexport interface IconPickerConfig<ModObject, ValueType> extends InputConfig<ModObject, ValueType> {\n\tid: ActionId;\n\n\t// The number of possible 'states' this icon can have. Most inputs will use 2\n\t// for a bi-state icon (on or off). 0 indicates an unlimited number of states.\n\tstates: number;\n\n\t// Only used if states >= 3.\n\timprovedId?: ActionId;\n\n\t// Only used if states >= 4.\n\timprovedId2?: ActionId;\n};\n\n// Icon-based UI for picking buffs / consumes / etc\n// ModObject is the object being modified (Sim, Player, or Target).\nexport class IconPicker<ModObject, ValueType> extends Input<ModObject, ValueType> {\n\tprivate readonly config: IconPickerConfig<ModObject, ValueType>;\n\n\tprivate readonly rootAnchor: HTMLAnchorElement;\n\tprivate readonly improvedAnchor: HTMLAnchorElement;\n\tprivate readonly improvedAnchor2: HTMLAnchorElement;\n\tprivate readonly counterElem: HTMLElement;\n\n\tprivate currentValue: number;\n\n\tconstructor(parent: HTMLElement, modObj: ModObject, config: IconPickerConfig<ModObject, ValueType>) {\n\t\tsuper(parent, 'icon-input-root', modObj, config);\n\t\tthis.config = config;\n\t\tthis.currentValue = 0;\n\n\t\tthis.rootAnchor = document.createElement('a');\n\t\tthis.rootAnchor.classList.add('icon-input');\n\t\tthis.rootAnchor.target = '_blank';\n\t\tthis.rootElem.appendChild(this.rootAnchor);\n\n\t\tconst useImprovedIcons = Boolean(this.config.improvedId);\n\t\tif (useImprovedIcons) {\n\t\t\tthis.rootAnchor.classList.add('use-improved-icons');\n\t\t}\n\t\tif (this.config.improvedId2) {\n\t\t\tthis.rootAnchor.classList.add('use-improved-icons2');\n\t\t}\n\t\tif (!useImprovedIcons && this.config.states > 2) {\n\t\t\tthis.rootAnchor.classList.add('use-counter');\n\t\t}\n\n\t\tconst levelContainer = document.createElement('div');\n\t\tlevelContainer.classList.add('icon-input-level-container');\n\t\tthis.rootAnchor.appendChild(levelContainer);\n\t\tlevelContainer.innerHTML = `\n      <a class=\"icon-input-improved icon-input-improved1\"></a>\n      <a class=\"icon-input-improved icon-input-improved2\"></a>\n      <span class=\"icon-input-counter\"></span>\n    `;\n\n\t\tthis.improvedAnchor = this.rootAnchor.getElementsByClassName('icon-input-improved1')[0] as HTMLAnchorElement;\n\t\tthis.improvedAnchor2 = this.rootAnchor.getElementsByClassName('icon-input-improved2')[0] as HTMLAnchorElement;\n\t\tthis.counterElem = this.rootAnchor.getElementsByClassName('icon-input-counter')[0] as HTMLElement;\n\n\t\tthis.config.id.fillAndSet(this.rootAnchor, true, true);\n\n\t\tif (this.config.states >= 3 && this.config.improvedId) {\n\t\t\tthis.config.improvedId.fillAndSet(this.improvedAnchor, true, true);\n\t\t}\n\t\tif (this.config.states >= 4 && this.config.improvedId2) {\n\t\t\tthis.config.improvedId2.fillAndSet(this.improvedAnchor2, true, true);\n\t\t}\n\n\t\tthis.init();\n\n\t\tthis.rootAnchor.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\t\tthis.rootAnchor.addEventListener('contextmenu', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\t\tthis.rootAnchor.addEventListener('mousedown', event => {\n\t\t\tconst rightClick = isRightClick(event);\n\n\t\t\tif (rightClick) {\n\t\t\t\tif (this.currentValue > 0) {\n\t\t\t\t\tthis.currentValue--;\n\t\t\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.config.states == 0 || (this.currentValue + 1) < this.config.states) {\n\t\t\t\t\tthis.currentValue++;\n\t\t\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.rootAnchor.addEventListener('touchstart', event => {\n\t\t\tif (this.config.states == 0 || (this.currentValue + 1) < this.config.states) {\n\t\t\t\tthis.currentValue++;\n\t\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t\t} else if (this.currentValue > 0) { // roll over\n\t\t\t\tthis.currentValue = 0;\n\t\t\t\tthis.inputChanged(TypedEvent.nextEventID());\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t});\n\t\tthis.rootAnchor.addEventListener('touchend', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\t}\n\n\tgetInputElem(): HTMLElement {\n\t\treturn this.rootAnchor;\n\t}\n\n\tgetInputValue(): ValueType {\n\t\tif (this.config.states == 2) {\n\t\t\treturn Boolean(this.currentValue) as unknown as ValueType;\n\t\t} else {\n\t\t\treturn this.currentValue as unknown as ValueType;\n\t\t}\n\t}\n\n\t// Returns the ActionId of the currently selected value, or null if none selected.\n\tgetActionId(): ActionId | null {\n\t\t\n\t\t// Go directly to source because during event propogation \n\t\t//  the internal `this.currentValue` may not yet have been updated.\n\t\tconst v = Number(this.config.getValue(this.modObject));\n\t\tif (v == 0) {\n\t\t\treturn null;\n\t\t} else if (v == 1) {\n\t\t\treturn this.config.id;\n\t\t} else if (v == 2 && this.config.improvedId) {\n\t\t\treturn this.config.improvedId;\n\t\t} else if (v == 3 && this.config.improvedId2) {\n\t\t\treturn this.config.improvedId2;\n\t\t} else {\n\t\t\treturn this.config.id;\n\t\t}\n\t}\n\n\tsetInputValue(newValue: ValueType) {\n\t\tthis.currentValue = Number(newValue);\n\n\t\tif (this.currentValue > 0) {\n\t\t\tthis.rootAnchor.classList.add('active');\n\t\t\tthis.counterElem.classList.add('active');\n\t\t} else {\n\t\t\tthis.rootAnchor.classList.remove('active');\n\t\t\tthis.counterElem.classList.remove('active');\n\t\t}\n\n\t\tif (this.config.states >= 3 && this.config.improvedId) {\n\t\t\tif (this.currentValue > 1) {\n\t\t\t\tthis.improvedAnchor.classList.add('active');\n\t\t\t} else {\n\t\t\t\tthis.improvedAnchor.classList.remove('active');\n\t\t\t}\n\t\t}\n\t\tif (this.config.states >= 4 && this.config.improvedId2) {\n\t\t\tif (this.currentValue > 2) {\n\t\t\t\tthis.improvedAnchor2.classList.add('active');\n\t\t\t} else {\n\t\t\t\tthis.improvedAnchor2.classList.remove('active');\n\t\t\t}\n\t\t}\n\n\t\tif (!this.config.improvedId && (this.config.states > 3 || this.config.states == 0)) {\n\t\t\tthis.counterElem.textContent = String(this.currentValue);\n\t\t}\n\t}\n}\n","import { SimUI } from '../sim_ui.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Component } from './component.js';\n\nexport class LogRunner extends Component {\n\tconstructor(parent: HTMLElement, simUI: SimUI) {\n\t\tsuper(parent, 'log-runner-root');\n\n\t\tconst controlBar = document.createElement('div');\n\t\tcontrolBar.classList.add('log-runner-control-bar');\n\t\tthis.rootElem.appendChild(controlBar);\n\n\t\tconst simButton = document.createElement('button');\n\t\tsimButton.classList.add('log-runner-button', 'sim-button');\n\t\tsimButton.textContent = 'SIM 1 ITERATION';\n\t\tcontrolBar.appendChild(simButton);\n\n\t\tconst logsDiv = document.createElement('div');\n\t\tlogsDiv.classList.add('log-runner-logs');\n\t\tthis.rootElem.appendChild(logsDiv);\n\n\t\tsimButton.addEventListener('click', async () => simUI.runSimOnce());\n\n\t\tsimUI.sim.simResultEmitter.on((eventID, simResult) => {\n\t\t\tconst logs = simResult.logs;\n\t\t\tlogsDiv.textContent = '';\n\t\t\tlogs\n\t\t\t\t.filter(log => {\n\t\t\t\t\treturn !log.isCastCompleted();\n\t\t\t\t})\n\t\t\t\t.forEach(log => {\n\t\t\t\t\tconst lineElem = document.createElement('span');\n\t\t\t\t\tlineElem.textContent = log.toString();\n\t\t\t\t\tlogsDiv.appendChild(lineElem);\n\t\t\t\t});\n\t\t});\n\t}\n}\n","import { ActionId } from '../proto_utils/action_id.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { SimUI } from '../sim_ui.js';\n\nimport { Component } from './component.js';\nimport { IconPicker, IconPickerConfig } from './icon_picker.js';\nimport { Input, InputConfig } from './input.js';\n\nexport interface MultiIconPickerItemConfig<ModObject> extends IconPickerConfig<ModObject, any> {\n}\n\nexport interface MultiIconPickerConfig<ModObject> {\n\tinputs: Array<MultiIconPickerItemConfig<ModObject>>,\n\temptyColor: string,\n\tnumColumns: number,\n\tlabel?: string,\n}\n\n// Icon-based UI for a dropdown with multiple icon pickers.\n// ModObject is the object being modified (Sim, Player, or Target).\nexport class MultiIconPicker<ModObject> extends Component {\n\tprivate readonly config: MultiIconPickerConfig<ModObject>;\n\n\tprivate currentValue: ActionId | null;\n\n\tprivate readonly dropdownRootElem: HTMLElement;\n\tprivate readonly buttonElem: HTMLAnchorElement;\n\tprivate readonly pickers: Array<IconPicker<ModObject, any>>;\n\n\tconstructor(parent: HTMLElement, modObj: ModObject, config: MultiIconPickerConfig<ModObject>, simUI: SimUI) {\n\t\tsuper(parent, 'multi-icon-picker-root');\n\t\tthis.config = config;\n\t\tthis.currentValue = null;\n\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<span class=\"multi-icon-picker-label\"></span>\n\t\t\t<div class=\"dropdown-root multi-icon-picker-dropdown-root\">\n\t\t\t\t<a class=\"dropdown-button multi-icon-picker-button\"></a>\n\t\t\t\t<div class=\"dropdown-panel multi-icon-picker-dropdown\"></div>\n\t\t\t</div>\n    `;\n\t\tthis.dropdownRootElem = this.rootElem.getElementsByClassName('multi-icon-picker-dropdown-root')[0] as HTMLElement;\n\n\t\tconst labelElem = this.rootElem.getElementsByClassName('multi-icon-picker-label')[0] as HTMLElement;\n\t\tif (config.label) {\n\t\t\tlabelElem.textContent = config.label;\n\t\t} else {\n\t\t\tlabelElem.remove();\n\t\t}\n\n\t\tthis.buttonElem = this.rootElem.getElementsByClassName('multi-icon-picker-button')[0] as HTMLAnchorElement;\n\t\tconst dropdownElem = this.rootElem.getElementsByClassName('multi-icon-picker-dropdown')[0] as HTMLElement;\n\n\t\tthis.buttonElem.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\t\tthis.buttonElem.addEventListener('touchstart', event => {\n\t\t\tif (dropdownElem.style.display == \"block\") {\n\t\t\t\tdropdownElem.style.display = \"none\";\n\t\t\t} else {\n\t\t\t\tdropdownElem.style.display = \"block\";\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t});\n\t\tthis.buttonElem.addEventListener('touchend', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\n\t\tdropdownElem.style.gridTemplateColumns = `repeat(${this.config.numColumns}, 1fr)`;\n\n\t\tthis.pickers = config.inputs.map((pickerConfig, i) => {\n\t\t\tconst optionContainer = document.createElement('div');\n\t\t\toptionContainer.classList.add('dropdown-option-container');\n\t\t\toptionContainer.classList.add('multi-icon-dropdown-container');\n\t\t\tdropdownElem.appendChild(optionContainer);\n\n\t\t\tconst option = document.createElement('a');\n\t\t\toption.classList.add('dropdown-option', 'multi-icon-picker-option');\n\t\t\toptionContainer.appendChild(option);\n\t\t\treturn new IconPicker(option, modObj, pickerConfig);\n\t\t});\n\t\tsimUI.sim.waitForInit().then(() => this.updateButtonImage());\n\t\tsimUI.changeEmitter.on(()=>this.updateButtonImage());\n\t}\n\n\tprivate updateButtonImage() {\n\t\tthis.currentValue = this.getMaxValue();\n\n\t\tif (this.currentValue) {\n\t\t\tthis.dropdownRootElem.classList.add('active');\n\t\t\tthis.currentValue.fillAndSet(this.buttonElem, false, true);\n\t\t} else {\n\t\t\tthis.dropdownRootElem.classList.remove('active');\n\t\t\tthis.buttonElem.style.backgroundImage = '';\n\t\t\tthis.buttonElem.style.backgroundColor = this.config.emptyColor;\n\t\t\tthis.buttonElem.removeAttribute(\"href\");\n\t\t}\n\t}\n\n\tprivate getMaxValue(): ActionId | null {\n\t\treturn this.pickers.map(picker => picker.getActionId()).filter(id => id != null)[0] || null;\n\t}\n}\n","import { Class } from '../proto/common.js';\nimport { EquipmentSpec } from '../proto/common.js';\nimport { ItemSpec } from '../proto/common.js';\nimport { Race } from '../proto/common.js';\nimport { Spec } from '../proto/common.js';\nimport { Stat } from '../proto/common.js';\nimport { SimUI } from '../sim_ui.js';\nimport { IndividualSimUI } from '../individual_sim_ui.js';\nimport { Sim } from '../sim.js';\nimport { Player } from '../player.js';\nimport { classNames, nameToClass, nameToRace, statNames } from '../proto_utils/names.js';\nimport { talentSpellIdsToTalentString } from '../talents/factory.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { BooleanPicker } from '../components/boolean_picker.js';\nimport { NumberPicker } from '../components/number_picker.js';\nimport { getEnumValues } from '../utils.js';\n\nimport { Popup } from './popup.js';\n\ndeclare var $: any;\ndeclare var tippy: any;\n\nexport class SettingsMenu extends Popup {\n\tprivate readonly simUI: SimUI;\n\n\tconstructor(parent: HTMLElement, simUI: SimUI) {\n\t\tsuper(parent);\n\t\tthis.rootElem.classList.add('settings-menu');\n\t\tthis.simUI = simUI;\n\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<div class=\"settings-menu-title\">\n\t\t\t\t<span>OPTIONS</span>\n\t\t\t</div>\n\t\t\t<div class=\"settings-menu-content\">\n\t\t\t\t<div class=\"settings-menu-content-left\">\n\t\t\t\t\t<button class=\"restore-defaults-button sim-button\">RESTORE DEFAULTS</button>\n\t\t\t\t\t<div class=\"settings-menu-section\">\n\t\t\t\t\t\t<div class=\"fixed-rng-seed\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"last-used-rng-seed-container\">\n\t\t\t\t\t\t\t<span>Last used RNG seed:</span><span class=\"last-used-rng-seed\">0</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"show-threat-metrics-picker\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"show-experimental-picker\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"settings-menu-content-right\">\n\t\t\t\t\t<div class=\"settings-menu-section settings-menu-ep-weights within-raid-sim-hide\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t\tthis.addCloseButton();\n\n\t\tconst restoreDefaultsButton = this.rootElem.getElementsByClassName('restore-defaults-button')[0] as HTMLElement;\n\t\trestoreDefaultsButton.addEventListener('click', event => {\n\t\t\tthis.simUI.applyDefaults(TypedEvent.nextEventID());\n\t\t});\n\t\ttippy(restoreDefaultsButton, {\n\t\t\t'content': 'Restores all default settings (gear, consumes, buffs, talents, EP weights, etc).',\n\t\t\t'allowHTML': true,\n\t\t});\n\n\t\tconst fixedRngSeed = this.rootElem.getElementsByClassName('fixed-rng-seed')[0] as HTMLElement;\n\t\tnew NumberPicker(fixedRngSeed, this.simUI.sim, {\n\t\t\tlabel: 'Fixed RNG Seed',\n\t\t\tlabelTooltip: 'Seed value for the random number generator used during sims, or 0 to use different randomness each run. Use this to share exact sim results or for debugging.',\n\t\t\tchangedEvent: (sim: Sim) => sim.fixedRngSeedChangeEmitter,\n\t\t\tgetValue: (sim: Sim) => sim.getFixedRngSeed(),\n\t\t\tsetValue: (eventID: EventID, sim: Sim, newValue: number) => {\n\t\t\t\tsim.setFixedRngSeed(eventID, newValue);\n\t\t\t},\n\t\t});\n\n\t\tconst lastUsedRngSeed = this.rootElem.getElementsByClassName('last-used-rng-seed')[0] as HTMLElement;\n\t\tlastUsedRngSeed.textContent = String(this.simUI.sim.getLastUsedRngSeed());\n\t\tthis.simUI.sim.lastUsedRngSeedChangeEmitter.on(() => lastUsedRngSeed.textContent = String(this.simUI.sim.getLastUsedRngSeed()));\n\n\t\tconst showThreatMetrics = this.rootElem.getElementsByClassName('show-threat-metrics-picker')[0] as HTMLElement;\n\t\tnew BooleanPicker(showThreatMetrics, this.simUI.sim, {\n\t\t\tlabel: 'Show Threat/Tank Options',\n\t\t\tlabelTooltip: 'Shows all options and metrics relevant to tanks, like TPS/DTPS.',\n\t\t\tchangedEvent: (sim: Sim) => sim.showThreatMetricsChangeEmitter,\n\t\t\tgetValue: (sim: Sim) => sim.getShowThreatMetrics(),\n\t\t\tsetValue: (eventID: EventID, sim: Sim, newValue: boolean) => {\n\t\t\t\tsim.setShowThreatMetrics(eventID, newValue);\n\t\t\t},\n\t\t});\n\n\t\t// Comment this out when there are no experiments to show.\n\t\tconst showExperimental = this.rootElem.getElementsByClassName('show-experimental-picker')[0] as HTMLElement;\n\t\tnew BooleanPicker(showExperimental, this.simUI.sim, {\n\t\t\tlabel: 'Show Experimental',\n\t\t\tchangedEvent: (sim: Sim) => sim.showExperimentalChangeEmitter,\n\t\t\tgetValue: (sim: Sim) => sim.getShowExperimental(),\n\t\t\tsetValue: (eventID: EventID, sim: Sim, newValue: boolean) => {\n\t\t\t\tsim.setShowExperimental(eventID, newValue);\n\t\t\t},\n\t\t});\n\t}\n}\n","import { Component } from '../components/component.js';\n\nexport class ResultsViewer extends Component {\n\treadonly pendingElem: HTMLElement;\n\treadonly contentElem: HTMLElement;\n\n\tconstructor(parentElem: HTMLElement) {\n\t\tsuper(parentElem, 'results-viewer');\n\t\tthis.rootElem.innerHTML = `\n      <div class=\"results-pending\">\n        <div class=\"loader\"></div>\n      </div>\n      <div class=\"results-content\">\n      </div>\n\t\t`;\n\n\t\tthis.pendingElem = this.rootElem.getElementsByClassName('results-pending')[0] as HTMLElement;\n\t\tthis.contentElem = this.rootElem.getElementsByClassName('results-content')[0] as HTMLElement;\n\t\tthis.hideAll();\n\t}\n\n\thideAll() {\n\t\tthis.contentElem.style.display = 'none';\n\t\tthis.pendingElem.style.display = 'none';\n\t}\n\n\tsetPending() {\n\t\tthis.contentElem.style.display = 'none';\n\t\tthis.pendingElem.style.display = 'initial';\n\t}\n\n\tsetContent(innerHTML: string) {\n\t\tthis.contentElem.innerHTML = innerHTML;\n\t\tthis.contentElem.style.display = 'initial';\n\t\tthis.pendingElem.style.display = 'none';\n\t}\n}\n","import { Spec } from './proto/common.js';\n\n// This file is for anything related to launching a new sim. DO NOT touch this\n// file until your sim is ready to launch!\n\nexport enum LaunchStatus {\n    Unlaunched,\n    Alpha,\n    Beta,\n    Launched,\n}\n\nexport const raidSimLaunched = false;\n\n// This list controls which links are shown in the top-left dropdown menu.\nexport const simLaunchStatuses: Record<Spec, LaunchStatus> = {\n\t[Spec.SpecBalanceDruid]: LaunchStatus.Unlaunched,\n\t[Spec.SpecElementalShaman]: LaunchStatus.Alpha,\n\t[Spec.SpecEnhancementShaman]: LaunchStatus.Alpha,\n\t[Spec.SpecFeralDruid]: LaunchStatus.Unlaunched,\n\t[Spec.SpecFeralTankDruid]: LaunchStatus.Unlaunched,\n\t[Spec.SpecHunter]: LaunchStatus.Alpha,\n\t[Spec.SpecMage]: LaunchStatus.Unlaunched,\n\t[Spec.SpecRogue]: LaunchStatus.Alpha,\n\t[Spec.SpecRetributionPaladin]: LaunchStatus.Alpha,\n\t[Spec.SpecProtectionPaladin]: LaunchStatus.Unlaunched,\n\t[Spec.SpecShadowPriest]: LaunchStatus.Alpha,\n\t[Spec.SpecWarlock]: LaunchStatus.Alpha,\n\t[Spec.SpecWarrior]: LaunchStatus.Unlaunched,\n\t[Spec.SpecProtectionWarrior]: LaunchStatus.Unlaunched,\n\t[Spec.SpecSmitePriest]: LaunchStatus.Unlaunched,\n\t[Spec.SpecDeathknight]: LaunchStatus.Alpha,\n\t[Spec.SpecTankDeathknight]: LaunchStatus.Unlaunched,\n};\n\nexport function getLaunchedSims(): Array<Spec> {\n    return Object.keys(simLaunchStatuses)\n        .map(specStr => parseInt(specStr) as Spec)\n        .filter(spec => simLaunchStatuses[spec] > LaunchStatus.Unlaunched);\n}\n","import { Component } from '../components/component.js';\nimport { getLaunchedSims, raidSimLaunched } from '../launched_sims.js';\nimport { Spec } from '../proto/common.js';\nimport {\n\tclassColors,\n\tgetSpecSiteUrl,\n\tnaturalSpecOrder,\n\traidSimSiteUrl,\n\tspecNames,\n\tspecToClass,\n\ttitleIcons,\n\traidSimIcon,\n} from '../proto_utils/utils.js';\n\ndeclare var tippy: any;\n\nexport interface SimLinkOption {\n\ticonUrl: string,\n\thref: string,\n\ttext: string,\n\tcolor: string,\n};\n\n// Dropdown menu for selecting a player.\nexport class Title extends Component {\n\tprivate readonly buttonElem: HTMLElement;\n\n\tconstructor(parent: HTMLElement, currentSpec: Spec | null) {\n\t\tsuper(parent, 'sim-title-root');\n\t\tthis.rootElem.classList.add('dropdown-root');\n\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<div class=\"dropdown-button sim-title-button\"></div>\n\t\t\t<div class=\"dropdown-panel sim-title-dropdown within-raid-sim-hide\"></div>\n    `;\n\n\t\tthis.buttonElem = this.rootElem.getElementsByClassName('sim-title-button')[0] as HTMLElement;\n\t\tconst dropdownPanel = this.rootElem.getElementsByClassName('dropdown-panel')[0] as HTMLElement;\n\n\t\tthis.buttonElem.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\t\t});\n\n\t\tconst orderedLaunchedSpecs: Array<Spec | null> = (naturalSpecOrder\n\t\t\t.filter(spec => getLaunchedSims().includes(spec)) as Array<Spec | null>)\n\t\t\t.concat(raidSimLaunched ? [null] : []); // Null represents the raid sim.\n\n\t\tdropdownPanel.style.gridTemplateRows = `repeat(${Math.ceil(orderedLaunchedSpecs.length / 2)}, 1fr)`;\n\n\t\tconst currentOption = this.makeOptionData(currentSpec, true);\n\t\tconst otherOptions = orderedLaunchedSpecs.map(spec => this.makeOptionData(spec, false));\n\n\t\tthis.buttonElem.appendChild(Title.makeOptionElem(currentOption));\n\n\t\tconst isWithinRaidSim = this.rootElem.closest('.within-raid-sim') != null;\n\t\tif (!isWithinRaidSim) {\n\t\t\totherOptions.forEach((option, i) => dropdownPanel.appendChild(this.makeOption(option)));\n\t\t}\n\t}\n\n\tprivate makeOptionData(spec: Spec | null, isButton: boolean) {\n\t\tif (spec == null) {\n\t\t\treturn {\n\t\t\t\ticonUrl: raidSimIcon,\n\t\t\t\thref: raidSimSiteUrl,\n\t\t\t\ttext: 'RAID',\n\t\t\t\tcolor: isButton ? '' : 'black',\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ticonUrl: titleIcons[spec],\n\t\t\t\thref: getSpecSiteUrl(spec),\n\t\t\t\ttext: specNames[spec].toUpperCase(),\n\t\t\t\tcolor: isButton ? '' : classColors[specToClass[spec]],\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate makeOption(data: SimLinkOption): HTMLElement {\n\t\tconst option = Title.makeOptionElem(data);\n\n\t\toption.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\t\t\twindow.location.href = data.href;\n\t\t});\n\n\t\treturn option;\n\t}\n\n\tstatic makeOptionElem(data: SimLinkOption): HTMLElement {\n\t\tconst optionContainer = document.createElement('a');\n\t\toptionContainer.href = data.href;\n\t\toptionContainer.classList.add('sim-title-dropdown-option-container', 'dropdown-option-container');\n\n\t\tconst option = document.createElement('div');\n\t\toption.classList.add('sim-title-option', 'dropdown-option');\n\t\toptionContainer.appendChild(option);\n\n\t\tif (data.color) {\n\t\t\toption.style.backgroundColor = data.color;\n\t\t}\n\n\t\tconst icon = document.createElement('img');\n\t\ticon.src = data.iconUrl;\n\t\ticon.classList.add('sim-title-icon');\n\t\toption.appendChild(icon);\n\n\t\tconst labelDiv = document.createElement('div');\n\t\tlabelDiv.classList.add('sim-title-label-container');\n\t\toption.appendChild(labelDiv);\n\n\t\tif (!data.color) { // Hacky check for 'isButton'\n\t\t\tconst simLabel = document.createElement('span');\n\t\t\tsimLabel.textContent = 'WotLK Simulator';\n\t\t\tsimLabel.classList.add('sim-title-sim-label', 'sim-title-label');\n\t\t\tlabelDiv.appendChild(simLabel);\n\t\t}\n\n\t\tconst label = document.createElement('span');\n\t\tlabel.textContent = data.text;\n\t\tlabel.classList.add('sim-title-spec-label', 'sim-title-label');\n\t\tlabelDiv.appendChild(label);\n\n\t\treturn optionContainer;\n\t}\n}\n","import { Component } from './components/component.js';\nimport { NumberPicker } from './components/number_picker.js';\nimport { ResultsViewer } from './components/results_viewer.js';\nimport { Title } from './components/title.js';\nimport { Spec } from './proto/common.js';\nimport { SimOptions } from './proto/api.js';\nimport { LaunchStatus } from './launched_sims.js';\nimport { specToLocalStorageKey } from './proto_utils/utils.js';\n\nimport { Sim, SimError } from './sim.js';\nimport { Target } from './target.js';\nimport { EventID, TypedEvent } from './typed_event.js';\n\ndeclare var tippy: any;\ndeclare var pako: any;\n\nconst URLMAXLEN = 2048;\nconst noticeText = '';\n//const noticeText = 'We are looking for help migrating our sims to Wrath of the Lich King. If you\\'d like to participate in a fun side project working with an open-source community please <a href=\"https://discord.gg/jJMPr9JWwx\" target=\"_blank\">join our discord!</a>';\n\n// Config for displaying a warning to the user whenever a condition is met.\nexport interface SimWarning {\n    updateOn: TypedEvent<any>,\n    getContent: () => string | Array<string>,\n}\n\nexport interface SimUIConfig {\n    // The spec, if an individual sim, or null if the raid sim.\n    spec: Spec | null,\n    launchStatus: LaunchStatus,\n    knownIssues?: Array<string>,\n}\n\n// Shared UI for all individual sims and the raid sim.\nexport abstract class SimUI extends Component {\n    readonly sim: Sim;\n    readonly isWithinRaidSim: boolean;\n\n    // Emits when anything from the sim, raid, or encounter changes.\n    readonly changeEmitter;\n\n    readonly resultsViewer: ResultsViewer\n\n    private warnings: Array<SimWarning>;\n    private warningsTippy: any;\n\n    constructor(parentElem: HTMLElement, sim: Sim, config: SimUIConfig) {\n        super(parentElem, 'sim-ui');\n        this.sim = sim;\n        this.rootElem.innerHTML = simHTML;\n        this.isWithinRaidSim = this.rootElem.closest('.within-raid-sim') != null;\n        if (!this.isWithinRaidSim) {\n            this.rootElem.classList.add('not-within-raid-sim');\n        }\n\n        this.changeEmitter = TypedEvent.onAny([\n            this.sim.changeEmitter,\n        ], 'SimUIChange');\n\n        this.sim.crashEmitter.on((eventID: EventID, error: SimError) => this.handleCrash(error));\n\n        const updateShowThreatMetrics = () => {\n            if (this.sim.getShowThreatMetrics()) {\n                this.rootElem.classList.remove('hide-threat-metrics');\n            } else {\n                this.rootElem.classList.add('hide-threat-metrics');\n            }\n        };\n        updateShowThreatMetrics();\n        this.sim.showThreatMetricsChangeEmitter.on(updateShowThreatMetrics);\n\n        const updateShowExperimental = () => {\n            if (this.sim.getShowExperimental()) {\n                this.rootElem.classList.remove('hide-experimental');\n            } else {\n                this.rootElem.classList.add('hide-experimental');\n            }\n        };\n        updateShowExperimental();\n        this.sim.showExperimentalChangeEmitter.on(updateShowExperimental);\n\n        const noticesElem = document.getElementsByClassName('notices')[0] as HTMLElement;\n        if (noticeText) {\n            tippy(noticesElem, {\n                content: noticeText,\n                allowHTML: true,\n                interactive: true,\n            });\n        } else {\n            noticesElem.remove();\n        }\n\n        this.warnings = [];\n        const warningsElem = document.getElementsByClassName('warnings')[0] as HTMLElement;\n        this.warningsTippy = tippy(warningsElem, {\n            content: '',\n            allowHTML: true,\n        });\n        this.updateWarnings();\n\n        let statusStr = '';\n        if (config.launchStatus == LaunchStatus.Unlaunched) {\n            statusStr = 'This sim is a WORK IN PROGRESS. It is not fully developed and should not be used for general purposes.';\n        } else if (config.launchStatus == LaunchStatus.Alpha) {\n            statusStr = 'This sim is in ALPHA. Bugs are expected; please let us know if you find one!.';\n        } else if (config.launchStatus == LaunchStatus.Beta) {\n            statusStr = 'This sim is in BETA. There may still be a few bugs; please let us know if you find one!.';\n        }\n        if (statusStr) {\n            config.knownIssues = [statusStr].concat(config.knownIssues || []);\n        }\n        if (config.knownIssues && config.knownIssues.length) {\n            const knownIssuesContainer = document.getElementsByClassName('known-issues')[0] as HTMLElement;\n            knownIssuesContainer.style.display = 'initial';\n            tippy(knownIssuesContainer, {\n                content: `\n\t\t\t\t<ul class=\"known-issues-tooltip\">\n\t\t\t\t\t${config.knownIssues.map(issue => '<li>' + issue + '</li>').join('')}\n\t\t\t\t</ul>\n\t\t\t\t`,\n                allowHTML: true,\n                interactive: true,\n            });\n        }\n\n        const resultsViewerElem = this.rootElem.getElementsByClassName('sim-sidebar-results')[0] as HTMLElement;\n        this.resultsViewer = new ResultsViewer(resultsViewerElem);\n\n        const titleElem = this.rootElem.getElementsByClassName('sim-sidebar-title')[0] as HTMLElement;\n        const title = new Title(titleElem, config.spec);\n\n        const simActionsContainer = this.rootElem.getElementsByClassName('sim-sidebar-actions')[0] as HTMLElement;\n        const iterationsPicker = new NumberPicker(simActionsContainer, this.sim, {\n            label: 'Iterations',\n            extraCssClasses: [\n                'iterations-picker',\n                'within-raid-sim-hide',\n            ],\n            changedEvent: (sim: Sim) => sim.iterationsChangeEmitter,\n            getValue: (sim: Sim) => sim.getIterations(),\n            setValue: (eventID: EventID, sim: Sim, newValue: number) => {\n                sim.setIterations(eventID, newValue);\n            },\n        });\n\n        const reportBug = document.createElement('span');\n        reportBug.classList.add('report-bug', 'fa', 'fa-bug');\n        tippy(reportBug, {\n            'content': 'Report a bug / request a feature',\n            'allowHTML': true,\n        });\n        reportBug.addEventListener('click', event => {\n            window.open('https://github.com/wowsims/wotlk/issues/new/choose', '_blank');\n        });\n        this.addToolbarItem(reportBug);\n\n        if (!this.isWithinRaidSim) {\n            window.addEventListener('message', async event => {\n                if (event.data == 'runOnce') {\n                    this.runSimOnce();\n                }\n            });\n        }\n\n        const downloadBinary = document.createElement('span');\n        // downloadBinary.src = \"/wotlk/assets/img/gauge.svg\"\n        downloadBinary.classList.add('downbin', 'hide');\n        downloadBinary.addEventListener('click', event => {\n            window.open('https://github.com/wowsims/wotlk/releases', '_blank');\n        });\n\n        if (document.location.href.includes(\"localhost\")) {\n            fetch(document.location.protocol + \"//\" + document.location.host + \"/version\").then(resp => {\n                resp.json()\n                    .then((versionInfo) => {\n                        if (versionInfo.outdated == 2) {\n                            tippy(downloadBinary, {\n                                'content': 'Newer version of simulator available for download',\n                                'allowHTML': true,\n                            });\n                            downloadBinary.classList.add('downbinalert');\n                            this.addToolbarItem(downloadBinary);\n                        }\n                    })\n                    .catch(error => {\n                        console.warn('No version info found!');\n                    });\n            });\n        } else {\n            tippy(downloadBinary, {\n                'content': 'Download simulator for faster simulating',\n                'allowHTML': true,\n            });\n            downloadBinary.classList.add('downbinnorm');\n            this.addToolbarItem(downloadBinary);\n        }\n    }\n\n    addAction(name: string, cssClass: string, actFn: () => void) {\n        const simActionsContainer = this.rootElem.getElementsByClassName('sim-sidebar-actions')[0] as HTMLElement;\n        const iterationsPicker = this.rootElem.getElementsByClassName('iterations-picker')[0] as HTMLElement;\n\n        const button = document.createElement('button');\n        button.classList.add('sim-sidebar-actions-button', cssClass);\n        button.textContent = name;\n        button.addEventListener('click', actFn);\n        simActionsContainer.insertBefore(button, iterationsPicker);\n    }\n\n    addTab(title: string, cssClass: string, innerHTML: string) {\n        const simTabsContainer = this.rootElem.getElementsByClassName('sim-tabs')[0] as HTMLElement;\n        const simTabContentsContainer = this.rootElem.getElementsByClassName('tab-content')[0] as HTMLElement;\n        const topBar = simTabsContainer.getElementsByClassName('sim-top-bar')[0] as HTMLElement;\n\n        const contentId = cssClass.replace(/\\s+/g, '-') + '-tab';\n        const isFirstTab = simTabsContainer.children.length == 1;\n\n        const newTab = document.createElement('li');\n        newTab.innerHTML = `<a data-toggle=\"tab\" href=\"#${contentId}\">${title}</a>`;\n        newTab.classList.add(cssClass + '-tab');\n\n        const newContent = document.createElement('div');\n        newContent.id = contentId;\n        newContent.classList.add(cssClass, 'tab-pane', 'fade');\n        newContent.innerHTML = innerHTML;\n\n        if (isFirstTab) {\n            newTab.classList.add('active');\n            newContent.classList.add('active', 'in');\n        }\n\n        simTabsContainer.insertBefore(newTab, topBar);\n        simTabContentsContainer.appendChild(newContent);\n    }\n\n    addToolbarItem(elem: HTMLElement) {\n        const topBar = this.rootElem.getElementsByClassName('sim-top-bar')[0] as HTMLElement;\n        elem.classList.add('sim-top-bar-item');\n        topBar.appendChild(elem);\n    }\n\n    private updateWarnings() {\n        const activeWarnings = this.warnings.map(warning => warning.getContent()).flat().filter(content => content != '');\n\n        const warningsElem = document.getElementsByClassName('warnings')[0] as HTMLElement;\n        if (activeWarnings.length == 0) {\n            warningsElem.style.display = 'none';\n        } else {\n            warningsElem.style.display = 'initial';\n            this.warningsTippy.setContent(`\n\t\t\t\t<ul class=\"known-issues-tooltip\">\n\t\t\t\t\t${activeWarnings.map(content => '<li>' + content + '</li>').join('')}\n\t\t\t\t</ul>`\n            );\n        }\n    }\n\n    addWarning(warning: SimWarning) {\n        this.warnings.push(warning);\n        warning.updateOn.on(() => this.updateWarnings());\n        this.updateWarnings();\n    }\n\n    // Returns a key suitable for the browser's localStorage feature.\n    abstract getStorageKey(postfix: string): string;\n\n    getSettingsStorageKey(): string {\n        return this.getStorageKey('__currentSettings__');\n    }\n\n    getSavedEncounterStorageKey(): string {\n        // By skipping the call to this.getStorageKey(), saved encounters will be\n        // shared across all sims.\n        return 'sharedData__savedEncounter__';\n    }\n\n    isIndividualSim(): boolean {\n        return this.rootElem.classList.contains('individual-sim-ui');\n    }\n\n    async runSim(onProgress: Function) {\n        this.resultsViewer.setPending();\n        try {\n            await this.sim.runRaidSim(TypedEvent.nextEventID(), onProgress);\n        } catch (e) {\n            this.resultsViewer.hideAll();\n            this.handleCrash(e);\n        }\n    }\n\n    async runSimOnce() {\n        this.resultsViewer.setPending();\n        try {\n            await this.sim.runRaidSimWithLogs(TypedEvent.nextEventID());\n        } catch (e) {\n            this.resultsViewer.hideAll();\n            this.handleCrash(e);\n        }\n    }\n\n    handleCrash(error: any) {\n        if (!(error instanceof SimError)) {\n            alert(error);\n            return;\n        }\n\n\t\tconst errorStr = (error as SimError).errorStr;\n\t\tif (window.confirm('Simulation Failure:\\n' + errorStr + '\\nPress Ok to file crash report')) {\n\t\t\t// Splice out just the line numbers\n\t\t\tconst hash = this.hashCode(errorStr);\n\t\t\tconst link = this.toLink();\n\t\t\tconst rngSeed = this.sim.getLastUsedRngSeed();\n\t\t\tfetch('https://api.github.com/search/issues?q=is:issue+is:open+repo:wowsims/wotlk+' + hash).then(resp => {\n\t\t\t\tresp.json().then((issues) => {\n\t\t\t\t\tif (issues.total_count > 0) {\n\t\t\t\t\t\twindow.open(issues.items[0].html_url, '_blank');\n                    } else {\n                        const base_url = 'https://github.com/wowsims/wotlk/issues/new?assignees=&labels=&title=Crash%20Report%20'\n                        const base = `${base_url}${hash}&body=`;\n                        const maxBodyLength = URLMAXLEN - base.length;\n                        let issueBody = encodeURIComponent(`Link:\\n${link}\\n\\nRNG Seed: ${rngSeed}\\n\\n${errorStr}`)\n                        while (issueBody.length > maxBodyLength) {\n                            issueBody = issueBody.slice(0, issueBody.lastIndexOf('%')) // Avoid truncating in the middle of a URLencoded segment\n                        }\n                        window.open(base + issueBody, '_blank');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).catch(fetchErr => {\n\t\t\t\talert('Failed to file report... try again another time:' + fetchErr);\n\t\t\t});\n\t\t}\n\t\treturn;\n\t}\n\n    hashCode(str: string): number {\n        let hash = 0;\n        for (let i = 0, len = str.length; i < len; i++) {\n            let chr = str.charCodeAt(i);\n            hash = (hash << 5) - hash + chr;\n            hash |= 0; // Convert to 32bit integer\n        }\n        return hash;\n    }\n\n    abstract applyDefaults(eventID: EventID): void;\n    abstract toLink(): string;\n}\n\nconst simHTML = `\n<div class=\"sim-root\">\n  <section class=\"sim-sidebar\">\n    <div class=\"sim-sidebar-title\"></div>\n    <div class=\"sim-sidebar-actions within-raid-sim-hide\"></div>\n    <div class=\"sim-sidebar-results within-raid-sim-hide\"></div>\n    <div class=\"sim-sidebar-footer\"></div>\n  </section>\n  <section class=\"sim-main\">\n\t\t<div class=\"sim-toolbar\">\n\t\t\t<ul class=\"sim-tabs nav nav-tabs\">\n\t\t\t\t<li class=\"sim-top-bar\">\n\t\t\t\t\t<span class=\"notices fas fa-exclamation-circle\"></span>\n\t\t\t\t\t<span class=\"warnings fa fa-exclamation-triangle\"></span>\n\t\t\t\t\t<div class=\"known-issues\">Known Issues</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n    </div>\n    <div class=\"tab-content\">\n    </div>\n  </section>\n</div>\n`;\n","import { StatWeightsRequest, StatWeightsResult, StatWeightValues, ProgressMetrics } from '../proto/api.js';\nimport { ItemSlot } from '../proto/common.js';\nimport { Gem } from '../proto/common.js';\nimport { GemColor } from '../proto/common.js';\nimport { Profession } from '../proto/common.js';\nimport { Stat } from '../proto/common.js';\nimport { Stats } from '../proto_utils/stats.js';\nimport { Gear } from '../proto_utils/gear.js';\nimport { statNames, statOrder } from '../proto_utils/names.js';\nimport { IndividualSimUI } from '../individual_sim_ui.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { Player } from '../player.js';\nimport { stDevToConf90 } from '../utils.js';\nimport { BooleanPicker } from '../components/boolean_picker.js';\nimport { NumberPicker } from '../components/number_picker.js';\nimport { ResultsViewer } from '../components/results_viewer.js';\nimport { combinations, combinationsWithDups, permutations, getEnumValues, maxIndex, sum } from '../utils.js';\n\nimport * as Gems from '../proto_utils/gems.js';\n\nimport { Popup } from './popup.js';\n\ndeclare var tippy: any;\n\nexport function addStatWeightsAction(simUI: IndividualSimUI<any>, epStats: Array<Stat>, epReferenceStat: Stat) {\n\tsimUI.addAction('STAT WEIGHTS', 'ep-weights-action', () => {\n\t\tnew EpWeightsMenu(simUI, epStats, epReferenceStat);\n\t});\n}\n\nclass EpWeightsMenu extends Popup {\n\tprivate readonly simUI: IndividualSimUI<any>;\n\tprivate readonly tableContainer: HTMLElement;\n\tprivate readonly tableBody: HTMLElement;\n\tprivate readonly tableHeader: HTMLElement;\n\tprivate readonly resultsViewer: ResultsViewer;\n\n\tprivate statsType: string;\n\tprivate epStats: Array<Stat>;\n\tprivate epReferenceStat: Stat;\n\n\tconstructor(simUI: IndividualSimUI<any>, epStats: Array<Stat>, epReferenceStat: Stat) {\n\t\tsuper(simUI.rootElem);\n\t\tthis.simUI = simUI;\n\t\tthis.statsType = 'ep';\n\t\tthis.epStats = epStats;\n\t\tthis.epReferenceStat = epReferenceStat;\n\n\t\tthis.rootElem.classList.add('ep-weights-menu');\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<div class=\"ep-weights-header\">\n\t\t\t\t<div class=\"ep-weights-actions\">\n\t\t\t\t\t<button class=\"sim-button calc-weights\">CALCULATE</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ep-weights-results\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"stats-controls-row\">\n\t\t\t\t<div class=\"ep-weights-options\">\n\t\t\t\t\t<select class=\"ep-type-select\">\n\t\t\t\t\t\t<option value=\"ep\">EP</option>\n\t\t\t\t\t\t<option value=\"weight\">Weights</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"show-all-stats-container\">\n\t\t\t\t</div>\n\t\t\t\t<button class=\"sim-button optimize-gems\">OPTIMIZE GEMS</button>\n\t\t\t</div>\n\t\t\t<div class=\"ep-weights-table\">\n\t\t\t\t<table class=\"results-ep-table\">\n\t\t\t\t\t<tbody id=\"ep-tbody\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Stat</th>\n\t\t\t\t\t\t\t<th class=\"type-weight\"><span>DPS Weight</span><span class=\"col-action fa fa-copy\"></span></th>\n\t\t\t\t\t\t\t<th class=\"type-ep\"><span>DPS EP</span><span class=\"col-action fa fa-copy\"></span></th>\n\t\t\t\t\t\t\t<th class=\"threat-metrics type-weight\"><span>TPS Weight</span><span class=\"col-action fa fa-copy\"></span></th>\n\t\t\t\t\t\t\t<th class=\"threat-metrics type-ep\"><span>TPS EP</span><span class=\"col-action fa fa-copy\"></span></th>\n\t\t\t\t\t\t\t<th class=\"threat-metrics type-weight\"><span>DTPS Weight</span><span class=\"col-action fa fa-copy\"></span></th>\n\t\t\t\t\t\t\t<th class=\"threat-metrics type-ep\"><span>DTPS EP</span><span class=\"col-action fa fa-copy\"></span></th>\n\t\t\t\t\t\t\t<th><span>Current EP</span><span class=\"col-action fa fa-recycle\"></span></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.tableContainer = this.rootElem.getElementsByClassName('ep-weights-table')[0] as HTMLElement;\n\t\tthis.tableBody = this.rootElem.querySelector('#ep-tbody') as HTMLElement;\n\t\tthis.tableHeader = this.rootElem.querySelector('#ep-tbody > tr') as HTMLElement;\n\n\t\tconst resultsViewerElem = this.rootElem.getElementsByClassName('ep-weights-results')[0] as HTMLElement;\n\t\tthis.resultsViewer = new ResultsViewer(resultsViewerElem);\n\n\t\tconst updateType = () => {\n\t\t\tif (this.statsType == 'ep') {\n\t\t\t\tthis.tableContainer.classList.remove('stats-type-weight');\n\t\t\t\tthis.tableContainer.classList.add('stats-type-ep');\n\t\t\t} else {\n\t\t\t\tthis.tableContainer.classList.add('stats-type-weight');\n\t\t\t\tthis.tableContainer.classList.remove('stats-type-ep');\n\t\t\t}\n\t\t};\n\n\t\tconst selectElem = this.rootElem.getElementsByClassName('ep-type-select')[0] as HTMLSelectElement;\n\t\tselectElem.addEventListener('input', event => {\n\t\t\tthis.statsType = selectElem.value;\n\t\t\tupdateType();\n\t\t});\n\t\tselectElem.value = this.statsType;\n\t\tupdateType();\n\n\t\tconst calcButton = this.rootElem.getElementsByClassName('calc-weights')[0] as HTMLElement;\n\t\tcalcButton.addEventListener('click', async event => {\n\t\t\tthis.resultsViewer.setPending();\n\t\t\tconst iterations = this.simUI.sim.getIterations();\n\t\t\tconst result = await this.simUI.player.computeStatWeights(TypedEvent.nextEventID(), this.epStats, this.epReferenceStat, (progress: ProgressMetrics) => {\n\t\t\t\tthis.setSimProgress(progress);\n\t\t\t});\n\t\t\tthis.resultsViewer.hideAll();\n\t\t\tthis.simUI.prevEpIterations = iterations;\n\t\t\tthis.simUI.prevEpSimResult = result;\n\t\t\tthis.preprocessResults(result);\n\t\t\tthis.updateTable(iterations, result);\n\t\t});\n\n\t\tconst colActionButtons = Array.from(this.rootElem.getElementsByClassName('col-action')) as Array<HTMLSelectElement>;\n\t\tconst makeUpdateWeights = (button: HTMLElement, labelTooltip: string, tooltip: string, weightsFunc: () => Array<number>) => {\n\t\t\ttippy(button.previousSibling, {\n\t\t\t\t'content': labelTooltip,\n\t\t\t\t'allowHTML': true,\n\t\t\t});\n\t\t\ttippy(button, {\n\t\t\t\t'content': tooltip,\n\t\t\t\t'allowHTML': true,\n\t\t\t});\n\t\t\tbutton.addEventListener('click', event => {\n\t\t\t\tthis.simUI.player.setEpWeights(TypedEvent.nextEventID(), new Stats(weightsFunc()));\n\t\t\t});\n\t\t};\n\t\tmakeUpdateWeights(colActionButtons[0], 'Per-point increase in DPS (Damage Per Second) for each stat.', 'Copy to Current EP', () => this.getPrevSimResult().dps!.weights);\n\t\tmakeUpdateWeights(colActionButtons[1], `EP (Equivalency Points) for DPS (Damage Per Second) for each stat. Normalized by ${statNames[this.epReferenceStat]}.`, 'Copy to Current EP', () => this.getPrevSimResult().dps!.epValues);\n\t\tmakeUpdateWeights(colActionButtons[2], 'Per-point increase in TPS (Threat Per Second) for each stat.', 'Copy to Current EP', () => this.getPrevSimResult().tps!.weights);\n\t\tmakeUpdateWeights(colActionButtons[3], `EP (Equivalency Points) for TPS (Threat Per Second) for each stat. Normalized by ${statNames[this.epReferenceStat]}.`, 'Copy to Current EP', () => this.getPrevSimResult().tps!.epValues);\n\t\tmakeUpdateWeights(colActionButtons[4], 'Per-point increase in DTPS (Damage Taken Per Second) for each stat.', 'Copy to Current EP', () => this.getPrevSimResult().dtps!.weights);\n\t\tmakeUpdateWeights(colActionButtons[5], `EP (Equivalency Points) for DTPS (Damage Taken Per Second) for each stat. Normalized by ${statNames[Stat.StatArmor]}.`, 'Copy to Current EP', () => this.getPrevSimResult().dtps!.epValues);\n\t\tmakeUpdateWeights(colActionButtons[6], 'Current EP Weights. Used to sort the gear selector menus.', 'Restore Default EP', () => this.simUI.individualConfig.defaults.epWeights.asArray());\n\n\t\tconst showAllStatsContainer = this.rootElem.getElementsByClassName('show-all-stats-container')[0] as HTMLElement;\n\t\tnew BooleanPicker(showAllStatsContainer, this, {\n\t\t\tlabel: 'Show All Stats',\n\t\t\tchangedEvent: () => new TypedEvent(),\n\t\t\tgetValue: () => this.tableContainer.classList.contains('show-all-stats'),\n\t\t\tsetValue: (eventID: EventID, menu: EpWeightsMenu, newValue: boolean) => {\n\t\t\t\tif (newValue) {\n\t\t\t\t\tthis.tableContainer.classList.add('show-all-stats');\n\t\t\t\t} else {\n\t\t\t\t\tthis.tableContainer.classList.remove('show-all-stats');\n\t\t\t\t}\n\t\t\t\tthis.applyAlternatingColors();\n\t\t\t},\n\t\t});\n\n\t\tthis.updateTable(this.simUI.prevEpIterations || 1, this.getPrevSimResult());\n\n\t\tconst optimizeGemsButton = this.rootElem.getElementsByClassName('optimize-gems')[0] as HTMLElement;\n\t\ttippy(optimizeGemsButton, {\n\t\t\t'content': `\n\t\t\t\t<p>Optimizes equipped gems to maximize EP, based on the values in <b>Current EP</b>.</p>\n\t\t\t\t<p>Does not change the meta gem, but ensures that its condition is met. Uses JC gems if Jewelcrafting is a selected profession.</p>\n\t\t\t`,\n\t\t\t'allowHTML': true,\n\t\t});\n\t\toptimizeGemsButton.addEventListener('click', event => this.optimizeGems(TypedEvent.nextEventID()));\n\n\t\tthis.addCloseButton();\n\t}\n\n\tsetSimProgress(progress: ProgressMetrics) {\n\t\tthis.resultsViewer.setContent(`\n  <div class=\"results-sim\">\n  \t\t\t<div class=\"\"> ${progress.completedSims} / ${progress.totalSims}<br>simulations complete</div>\n  \t\t\t<div class=\"\">\n\t\t\t\t${progress.completedIterations} / ${progress.totalIterations}<br>iterations complete\n\t\t\t</div>\n  </div>\n`);\n\t}\n\n\tprivate preprocessResults(result: StatWeightsResult) {\n\t\t// Values for a school's power should never exceed the value for regular spell power.\n\t\tresult.dps!.epValues.forEach((value, index) => {\n\t\t\tif (index == Stat.StatArcaneSpellPower ||\n\t\t\t\tindex == Stat.StatFireSpellPower ||\n\t\t\t\tindex == Stat.StatFrostSpellPower ||\n\t\t\t\tindex == Stat.StatHolySpellPower ||\n\t\t\t\tindex == Stat.StatNatureSpellPower ||\n\t\t\t\tindex == Stat.StatShadowSpellPower) {\n\t\t\t\tif (value > result.dps!.epValues[Stat.StatSpellPower]) {\n\t\t\t\t\tconst diff = value - result.dps!.epValues[Stat.StatSpellPower];\n\t\t\t\t\tresult.dps!.epValues[index] = result.dps!.epValues[Stat.StatSpellPower];\n\t\t\t\t\tresult.dps!.epValuesStdev[index] -= diff;\n\t\t\t\t\tconst wdiff = result.dps!.weights[index] - result.dps!.weights[Stat.StatSpellPower];\n\t\t\t\t\tresult.dps!.weights[index] = result.dps!.weights[Stat.StatSpellPower];\n\t\t\t\t\tresult.dps!.weightsStdev[index] -= wdiff;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate updateTable(iterations: number, result: StatWeightsResult) {\n\t\tthis.tableHeader.remove();\n\t\tthis.tableBody.innerHTML = '';\n\t\tthis.tableBody.appendChild(this.tableHeader);\n\n\t\tconst allStats = statOrder.filter(stat => ![Stat.StatMana, Stat.StatEnergy, Stat.StatRage].includes(stat));\n\t\tallStats.forEach(stat => {\n\t\t\tconst row = this.makeTableRow(stat, iterations, result);\n\t\t\tif (!this.epStats.includes(stat)) {\n\t\t\t\trow.classList.add('non-ep-stat');\n\t\t\t}\n\t\t\tthis.tableBody.appendChild(row);\n\t\t});\n\n\t\tthis.applyAlternatingColors();\n\t}\n\n\tprivate makeTableRow(stat: Stat, iterations: number, result: StatWeightsResult): HTMLElement {\n\t\tconst row = document.createElement('tr');\n\t\trow.innerHTML = `\n\t\t\t<td>${statNames[stat]}</td>\n\t\t\t<td class=\"stdev-cell type-weight\"><span>${result.dps!.weights[stat].toFixed(2)}</span><span>${stDevToConf90(result.dps!.weightsStdev[stat], iterations).toFixed(2)}</span></td>\n\t\t\t<td class=\"stdev-cell type-ep\"><span>${result.dps!.epValues[stat].toFixed(2)}</span><span>${stDevToConf90(result.dps!.epValuesStdev[stat], iterations).toFixed(2)}</span></td>\n\t\t\t<td class=\"stdev-cell threat-metrics type-weight\"><span>${result.tps!.weights[stat].toFixed(2)}</span><span>${stDevToConf90(result.tps!.weightsStdev[stat], iterations).toFixed(2)}</span></td>\n\t\t\t<td class=\"stdev-cell threat-metrics type-ep\"><span>${result.tps!.epValues[stat].toFixed(2)}</span><span>${stDevToConf90(result.tps!.epValuesStdev[stat], iterations).toFixed(2)}</span></td>\n\t\t\t<td class=\"stdev-cell threat-metrics type-weight\"><span>${result.dtps!.weights[stat].toFixed(2)}</span><span>${stDevToConf90(result.dtps!.weightsStdev[stat], iterations).toFixed(2)}</span></td>\n\t\t\t<td class=\"stdev-cell threat-metrics type-ep\"><span>${result.dtps!.epValues[stat].toFixed(2)}</span><span>${stDevToConf90(result.dtps!.epValuesStdev[stat], iterations).toFixed(2)}</span></td>\n\t\t\t<td class=\"current-ep\"></td>\n\t\t`;\n\n\t\tconst currentEpCell = row.querySelector('.current-ep') as HTMLElement;\n\t\tnew NumberPicker(currentEpCell, this.simUI.player, {\n\t\t\tfloat: true,\n\t\t\tchangedEvent: (player: Player<any>) => player.epWeightsChangeEmitter,\n\t\t\tgetValue: (player: Player<any>) => player.getEpWeights().getStat(stat),\n\t\t\tsetValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n\t\t\t\tconst epWeights = player.getEpWeights().withStat(stat, newValue);\n\t\t\t\tplayer.setEpWeights(eventID, epWeights);\n\t\t\t},\n\t\t});\n\n\t\treturn row;\n\t}\n\n\tprivate applyAlternatingColors() {\n\t\t(Array.from(this.tableBody.childNodes) as Array<HTMLElement>)\n\t\t\t.filter(row => window.getComputedStyle(row).getPropertyValue('display') != 'none')\n\t\t\t.forEach((row, i) => {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\trow.classList.remove('odd');\n\t\t\t\t} else {\n\t\t\t\t\trow.classList.add('odd');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate getPrevSimResult(): StatWeightsResult {\n\t\treturn this.simUI.prevEpSimResult || StatWeightsResult.create({\n\t\t\tdps: {\n\t\t\t\tweights: new Stats().asArray(),\n\t\t\t\tweightsStdev: new Stats().asArray(),\n\t\t\t\tepValues: new Stats().asArray(),\n\t\t\t\tepValuesStdev: new Stats().asArray(),\n\t\t\t},\n\t\t\ttps: {\n\t\t\t\tweights: new Stats().asArray(),\n\t\t\t\tweightsStdev: new Stats().asArray(),\n\t\t\t\tepValues: new Stats().asArray(),\n\t\t\t\tepValuesStdev: new Stats().asArray(),\n\t\t\t},\n\t\t\tdtps: {\n\t\t\t\tweights: new Stats().asArray(),\n\t\t\t\tweightsStdev: new Stats().asArray(),\n\t\t\t\tepValues: new Stats().asArray(),\n\t\t\t\tepValuesStdev: new Stats().asArray(),\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate optimizeGems(eventID: EventID) {\n\t\t// Replace 0 weights with a very tiny value, so we always prefer to take free stats even if the user gave a 0 weight.\n\t\tlet epWeights = this.simUI.player.getEpWeights();\n\t\tepWeights = new Stats(epWeights.asArray().map(w => w == 0 ? 1e-8 : w));\n\n\t\tconst gear = this.simUI.player.getGear();\n\t\tconst allGems = this.simUI.sim.getGems();\n\t\tconst phase = this.simUI.sim.getPhase();\n\t\tconst isBlacksmithing = this.simUI.player.isBlacksmithing();\n\t\tconst isJewelcrafting = this.simUI.player.hasProfession(Profession.Jewelcrafting);\n\n\t\tconst optimizedGear = EpWeightsMenu.optimizeGemsForWeights(epWeights, gear, allGems, phase, isBlacksmithing, isJewelcrafting);\n\t\tthis.simUI.player.setGear(eventID, optimizedGear);\n\t}\n\n\tprivate static optimizeGemsForWeights(epWeights: Stats, gear: Gear, allGems: Array<Gem>, phase: number, isBlacksmithing: boolean, isJewelcrafting: boolean): Gear {\n\t\tconst unrestrictedGems = allGems.filter(gem => Gems.isUnrestrictedGem(gem, phase));\n\n\t\tconst {\n\t\t\tbestGemForColor: bestGemForColor,\n\t\t\tbestGemForColorEP: bestGemForColorEP,\n\t\t\tbestGemForSocket: bestGemForSocket,\n\t\t\tbestGemForSocketEP: bestGemForSocketEP,\n\t\t\tbestGem: bestGem,\n\t\t\tbestGemEP: bestGemEP,\n\t\t} = EpWeightsMenu.findBestGems(unrestrictedGems, epWeights);\n\n\t\tconst items = gear.asMap();\n\t\tconst socketBonusEPs = Object.values(items).map(item => item != null ? new Stats(item.item.socketBonus).computeEP(epWeights) : 0);\n\n\t\t// Start by optimally filling all items, ignoring meta condition.\n\t\tObject.entries(items).forEach(([itemSlot, equippedItem], i) => {\n\t\t\tif (equippedItem == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst item = equippedItem.item;\n\t\t\tconst socketColors = equippedItem.curSocketColors(isBlacksmithing);\n\n\t\t\t// Compare whether its better to match sockets + get socket bonus, or just use best gems.\n\t\t\tconst bestGemEPNotMatchingSockets = sum(socketColors.map(socketColor => socketColor == GemColor.GemColorMeta ? 0 : bestGemEP));\n\t\t\tconst bestGemEPMatchingSockets = socketBonusEPs[i] + sum(socketColors.map(socketColor => socketColor == GemColor.GemColorMeta ? 0 : bestGemForSocketEP[socketColor]));\n\n\t\t\tif (bestGemEPNotMatchingSockets > bestGemEPMatchingSockets) {\n\t\t\t\tsocketColors.forEach((socketColor, i) => {\n\t\t\t\t\tif (socketColor != GemColor.GemColorMeta) {\n\t\t\t\t\t\tequippedItem = equippedItem!.withGem(bestGem, i);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsocketColors.forEach((socketColor, i) => {\n\t\t\t\t\tif (socketColor != GemColor.GemColorMeta) {\n\t\t\t\t\t\tequippedItem = equippedItem!.withGem(bestGemForSocket[socketColor], i);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\titems[Number(itemSlot) as ItemSlot] = equippedItem;\n\t\t});\n\t\tgear = new Gear(items);\n\n\t\tconst allSockets: Array<{itemSlot: ItemSlot, socketIdx: number}> = Object.keys(items).map((itemSlotStr) => {\n\t\t\tconst itemSlot = parseInt(itemSlotStr) as ItemSlot;\n\t\t\tconst item = items[itemSlot];\n\t\t\tif (!item) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst numSockets = item.numSockets(isBlacksmithing);\n\t\t\treturn [...Array(numSockets).keys()]\n\t\t\t.filter(socketIdx => item.item.gemSockets[socketIdx] != GemColor.GemColorMeta)\n\t\t\t.map(socketIdx => {\n\t\t\t\treturn {\n\t\t\t\t\titemSlot: itemSlot,\n\t\t\t\t\tsocketIdx: socketIdx,\n\t\t\t\t};\n\t\t\t});\n\t\t}).flat();\n\t\tconst threeSocketCombos = permutations(allSockets, 3);\n\t\tconst calculateGearGemsEP = (gear: Gear): number => gear.statsFromGems(isBlacksmithing).computeEP(epWeights);\n\n\t\t// Now make adjustments to satisfy meta condition.\n\t\t// Use a wrapper function so we can return for readability.\n\t\tgear = ((gear: Gear): Gear => {\n\t\t\tconst metaGem = gear.getMetaGem();\n\t\t\tif (!metaGem) {\n\t\t\t\treturn gear;\n\t\t\t}\n\n\t\t\tconst condition = Gems.getMetaGemCondition(metaGem.id);\n\t\t\t// Only TBC gems use compare color conditions, so just ignore them.\n\t\t\tif (!condition || condition.isCompareColorCondition()) {\n\t\t\t\treturn gear;\n\t\t\t}\n\n\t\t\t// If there are very few non-meta gem slots, just skip because it's annoying to deal with.\n\t\t\tif (gear.getAllGems(isBlacksmithing).length - 1 < 3) {\n\t\t\t\treturn gear;\n\t\t\t}\n\n\t\t\t// In wrath, all meta gems use min colors condition (numRed >= r && numYellow >= y && numBlue >= b)\n\t\t\t// All conditions require 3 gems, e.g. 3 of a single color, 2 of one color and 1 of another, or 1 of each.\n\t\t\t// So the maximum number of gems that ever need to change is 3.\n\n\t\t\tconst colorCombos = EpWeightsMenu.getColorCombosToSatisfyCondition(condition);\n\n\t\t\tlet bestGear = gear;\n\t\t\tlet bestGearEP = calculateGearGemsEP(gear);\n\n\t\t\t// Use brute-force to try every possibility.\n\t\t\tcolorCombos.forEach(colorCombo => {\n\t\t\t\tthreeSocketCombos.forEach(socketCombo => {\n\t\t\t\t\tconst curItems = gear.asMap();\n\t\t\t\t\tfor (let i = 0; i < colorCombo.length; i++) {\n\t\t\t\t\t\tconst gemColor = colorCombo[i];\n\t\t\t\t\t\tconst { itemSlot, socketIdx } = socketCombo[i];\n\t\t\t\t\t\tcurItems[itemSlot] = curItems[itemSlot]!.withGem(bestGemForColor[gemColor], socketIdx);\n\t\t\t\t\t}\n\t\t\t\t\tconst curGear = new Gear(curItems);\n\t\t\t\t\tif (curGear.hasActiveMetaGem(isBlacksmithing)) {\n\t\t\t\t\t\tconst curGearEP = calculateGearGemsEP(curGear);\n\t\t\t\t\t\tif (curGearEP > bestGearEP) {\n\t\t\t\t\t\t\tbestGear = curGear;\n\t\t\t\t\t\t\tbestGearEP = curGearEP;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn bestGear;\n\t\t})(gear);\n\n\t\t// Now insert 3 JC gems, if Jewelcrafting is selected.\n\t\t// Use a wrapper function so we can return for readability.\n\t\tgear = ((gear: Gear): Gear => {\n\t\t\tif (!isJewelcrafting) {\n\t\t\t\treturn gear;\n\t\t\t}\n\n\t\t\tconst jcGems = allGems.filter(gem => gem.requiredProfession == Profession.Jewelcrafting);\n\n\t\t\tconst {\n\t\t\t\tbestGemForColor: bestJcGemForColor,\n\t\t\t\tbestGemForColorEP: bestJcGemForColorEP,\n\t\t\t\tbestGemForSocket: bestJcGemForSocket,\n\t\t\t\tbestGemForSocketEP: bestJcGemForSocketEP,\n\t\t\t\tbestGem: bestJcGem,\n\t\t\t\tbestGemEP: bestJcGemEP,\n\t\t\t} = EpWeightsMenu.findBestGems(jcGems, epWeights);\n\n\t\t\tlet bestGear = gear;\n\t\t\tlet bestGearEP = calculateGearGemsEP(gear);\n\n\t\t\tthreeSocketCombos.forEach(socketCombo => {\n\t\t\t\tconst curItems = gear.asMap();\n\t\t\t\tfor (let i = 0; i < socketCombo.length; i++) {\n\t\t\t\t\tconst { itemSlot, socketIdx } = socketCombo[i];\n\t\t\t\t\tconst ei = curItems[itemSlot]!;\n\t\t\t\t\tconst gemColor = ei.gems[socketIdx]!.color;\n\t\t\t\t\tcurItems[itemSlot] = ei.withGem(bestJcGemForColor[gemColor], socketIdx);\n\t\t\t\t}\n\n\t\t\t\tconst curGear = new Gear(curItems);\n\t\t\t\tif (curGear.hasActiveMetaGem(isBlacksmithing)) {\n\t\t\t\t\tconst curGearEP = calculateGearGemsEP(curGear);\n\t\t\t\t\tif (curGearEP > bestGearEP) {\n\t\t\t\t\t\tbestGear = curGear;\n\t\t\t\t\t\tbestGearEP = curGearEP;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn bestGear;\n\t\t})(gear);\n\n\t\treturn gear;\n\t}\n\n\t// Returns every possible way we could satisfy the gem condition.\n\tprivate static getColorCombosToSatisfyCondition(condition: Gems.MetaGemCondition): Array<Array<GemColor>> {\n\t\tif (condition.isOneOfEach()) {\n\t\t\treturn [\n\t\t\t\tGems.PRIMARY_COLORS,\n\t\t\t\t[GemColor.GemColorPrismatic],\n\t\t\t].concat(\n\t\t\t\tGems.SECONDARY_COLORS.map((secondaryColor, i) => {\n\t\t\t\t\tconst remainingColor = Gems.PRIMARY_COLORS[i];\n\t\t\t\t\treturn Gems.socketToMatchingColors.get(remainingColor)!.map(matchingColor => [matchingColor, secondaryColor]);\n\t\t\t\t}).flat()\n\t\t\t);\n\t\t} else if (condition.isTwoAndOne()) {\n\t\t\tconst oneColor = Gems.PRIMARY_COLORS[[condition.minRed, condition.minYellow, condition.minBlue].indexOf(1)];\n\t\t\tconst twoColor = Gems.PRIMARY_COLORS[[condition.minRed, condition.minYellow, condition.minBlue].indexOf(2)];\n\t\t\tconst secondaryColor = Gems.SECONDARY_COLORS.find(color => Gems.gemColorMatchesSocket(color, oneColor) && Gems.gemColorMatchesSocket(color, twoColor))!;\n\n\t\t\treturn [\n\t\t\t\t// All the ways to get 1 point in both colors. These are partial combos,\n\t\t\t\t// which still need 1 more gem in the 2-color.\n\t\t\t\t[GemColor.GemColorPrismatic],\n\t\t\t\t[secondaryColor],\n\t\t\t\t[oneColor, twoColor],\n\t\t\t].map(partialCombo => {\n\t\t\t\t\treturn Gems.socketToMatchingColors.get(twoColor)!.map(matchingColor => partialCombo.concat([matchingColor]));\n\t\t\t}).flat();\n\t\t} else if (condition.isThreeOfAColor()) {\n\t\t\tconst threeColor = Gems.PRIMARY_COLORS[[condition.minRed, condition.minYellow, condition.minBlue].indexOf(3)];\n\t\t\tconst matchingColors = Gems.socketToMatchingColors.get(threeColor)!;\n\t\t\treturn combinationsWithDups(matchingColors, 3);\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tprivate static findBestGems(gemList: Array<Gem>, epWeights: Stats): BestGemsResult {\n\t\t// Best gem when we need a gem of a specific color.\n\t\tconst bestGemForColor: Array<Gem> = Gems.GEM_COLORS.map(color => null as unknown as Gem);\n\t\tconst bestGemForColorEP: Array<number> = Gems.GEM_COLORS.map(color => 0);\n\t\t// Best gem when we need to match a socket to activate a bonus.\n\t\tconst bestGemForSocket: Array<Gem> = bestGemForColor.slice();\n\t\tconst bestGemForSocketEP: Array<number> = bestGemForColorEP.slice();\n\t\t// The single best gem, when color doesn't matter.\n\t\tlet bestGem = gemList[0];\n\t\tlet bestGemEP = 0;\n\t\tgemList.forEach(gem => {\n\t\t\tconst gemEP = new Stats(gem.stats).computeEP(epWeights);\n\t\t\tif (gemEP > bestGemForColorEP[gem.color]) {\n\t\t\t\tbestGemForColorEP[gem.color] = gemEP;\n\t\t\t\tbestGemForColor[gem.color] = gem;\n\n\t\t\t\tif (gem.color != GemColor.GemColorMeta && gemEP > bestGemEP) {\n\t\t\t\t\tbestGemEP = gemEP;\n\t\t\t\t\tbestGem = gem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tGems.GEM_COLORS.forEach(socketColor => {\n\t\t\t\tif (Gems.gemMatchesSocket(gem, socketColor) && gemEP > bestGemForSocketEP[socketColor]) {\n\t\t\t\t\tbestGemForSocketEP[socketColor] = gemEP;\n\t\t\t\t\tbestGemForSocket[socketColor] = gem;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn {\n\t\t\tbestGemForColor: bestGemForColor,\n\t\t\tbestGemForColorEP: bestGemForColorEP,\n\t\t\tbestGemForSocket: bestGemForSocket,\n\t\t\tbestGemForSocketEP: bestGemForSocketEP,\n\t\t\tbestGem: bestGem,\n\t\t\tbestGemEP: bestGemEP,\n\t\t};\n\t}\n}\n\ninterface BestGemsResult {\n\tbestGemForColor: Array<Gem>,\n\tbestGemForColorEP: Array<number>,\n\tbestGemForSocket: Array<Gem>,\n\tbestGemForSocketEP: Array<number>,\n\tbestGem: Gem,\n\tbestGemEP: number,\n}\n","import { Class } from '../proto/common.js';\nimport { EquipmentSpec } from '../proto/common.js';\nimport { ItemSpec } from '../proto/common.js';\nimport { Race } from '../proto/common.js';\nimport { Spec } from '../proto/common.js';\nimport { Stat } from '../proto/common.js';\nimport { IndividualSimSettings } from '../proto/ui.js';\nimport { IndividualSimUI } from '../individual_sim_ui.js';\nimport { Player } from '../player.js';\nimport { classNames, nameToClass, nameToRace } from '../proto_utils/names.js';\nimport { talentSpellIdsToTalentString } from '../talents/factory.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\nimport { downloadString, getEnumValues } from '../utils.js';\n\nimport { Popup } from './popup.js';\n\ndeclare var $: any;\ndeclare var tippy: any;\ndeclare var pako: any;\n\nexport function newIndividualExporters<SpecType extends Spec>(simUI: IndividualSimUI<SpecType>): HTMLElement {\n\tconst exportSettings = document.createElement('div');\n\texportSettings.classList.add('export-settings', 'sim-dropdown-menu');\n\texportSettings.innerHTML = `\n\t\t<span id=\"exportMenuLink\" class=\"dropdown-toggle fas fa-file-export\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" arai-expanded=\"false\"></span>\n\t\t<div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"exportMenuLink\">\n\t\t</div>\n\t`;\n\tconst linkElem = exportSettings.getElementsByClassName('dropdown-toggle')[0] as HTMLElement;\n\ttippy(linkElem, {\n\t\t'content': 'Export',\n\t\t'allowHTML': true,\n\t});\n\n\tconst menuElem = exportSettings.getElementsByClassName('dropdown-menu')[0] as HTMLElement;\n\tconst addMenuItem = (label: string, onClick: () => void, showInRaidSim: boolean) => {\n\t\tconst itemElem = document.createElement('span');\n\t\titemElem.classList.add('dropdown-item');\n\t\tif (!showInRaidSim) {\n\t\t\titemElem.classList.add('within-raid-sim-hide');\n\t\t}\n\t\titemElem.textContent = label;\n\t\titemElem.addEventListener('click', onClick);\n\t\tmenuElem.appendChild(itemElem);\n\t};\n\n\taddMenuItem('Link', () => new IndividualLinkExporter(menuElem, simUI), false);\n\taddMenuItem('Json', () => new IndividualJsonExporter(menuElem, simUI), true);\n\taddMenuItem('80U EP', () => new Individual80UEPExporter(menuElem, simUI), false);\n\taddMenuItem('Pawn EP', () => new IndividualPawnEPExporter(menuElem, simUI), false);\n\n\treturn exportSettings;\n}\n\nexport abstract class Exporter extends Popup {\n\tprivate readonly textElem: HTMLElement;\n\n\tconstructor(parent: HTMLElement, title: string, allowDownload: boolean) {\n\t\tsuper(parent);\n\n\t\tthis.rootElem.classList.add('exporter');\n\t\tthis.rootElem.innerHTML = `\n\t\t\t<span class=\"exporter-title\">${title}</span>\n\t\t\t<div class=\"export-content\">\n\t\t\t\t<textarea class=\"exporter-textarea\" readonly></textarea>\n\t\t\t</div>\n\t\t\t<div class=\"actions-row\">\n\t\t\t\t<button class=\"exporter-button sim-button clipboard-button\">COPY TO CLIPBOARD</button>\n\t\t\t\t<button class=\"exporter-button sim-button download-button\">DOWNLOAD</button>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.addCloseButton();\n\n\t\tthis.textElem = this.rootElem.getElementsByClassName('exporter-textarea')[0] as HTMLElement;\n\n\t\tconst clipboardButton = this.rootElem.getElementsByClassName('clipboard-button')[0] as HTMLElement;\n\t\tclipboardButton.addEventListener('click', event => {\n\t\t\tconst data = this.textElem.textContent!;\n\t\t\tif (navigator.clipboard == undefined) {\n\t\t\t\talert(data);\n\t\t\t} else {\n\t\t\t\tnavigator.clipboard.writeText(data);\n\t\t\t}\n\t\t});\n\n\t\tconst downloadButton = this.rootElem.getElementsByClassName('download-button')[0] as HTMLElement;\n\t\tif (allowDownload) {\n\t\t\tdownloadButton.addEventListener('click', event => {\n\t\t\t\tconst data = this.textElem.textContent!;\n\t\t\t\tdownloadString(data, 'wowsims.json');\n\t\t\t});\n\t\t} else {\n\t\t\tdownloadButton.remove();\n\t\t}\n\t}\n\n\tprotected init() {\n\t\tthis.textElem.textContent = this.getData();\n\t}\n\n\tabstract getData(): string;\n}\n\nclass IndividualLinkExporter<SpecType extends Spec> extends Exporter {\n\tprivate readonly simUI: IndividualSimUI<SpecType>;\n\n\tconstructor(parent: HTMLElement, simUI: IndividualSimUI<SpecType>) {\n\t\tsuper(parent, 'Sharable Link', false);\n\t\tthis.simUI = simUI;\n\t\tthis.init();\n\t}\n\n\tgetData(): string {\n\t\treturn this.simUI.toLink();\n\t}\n}\n\nclass IndividualJsonExporter<SpecType extends Spec> extends Exporter {\n\tprivate readonly simUI: IndividualSimUI<SpecType>;\n\n\tconstructor(parent: HTMLElement, simUI: IndividualSimUI<SpecType>) {\n\t\tsuper(parent, 'JSON Export', true);\n\t\tthis.simUI = simUI;\n\t\tthis.init();\n\t}\n\n\tgetData(): string {\n\t\treturn JSON.stringify(IndividualSimSettings.toJson(this.simUI.toProto()), null, 2);\n\t}\n}\n\nclass Individual80UEPExporter<SpecType extends Spec> extends Exporter {\n\tprivate readonly simUI: IndividualSimUI<SpecType>;\n\n\tconstructor(parent: HTMLElement, simUI: IndividualSimUI<SpecType>) {\n\t\tsuper(parent, '80Upgrades EP Export', true);\n\t\tthis.simUI = simUI;\n\t\tthis.init();\n\t}\n\n\tgetData(): string {\n\t\tconst epValues = this.simUI.player.getEpWeights();\n\t\tconst allStats = (getEnumValues(Stat) as Array<Stat>).filter(stat => ![Stat.StatEnergy, Stat.StatRage].includes(stat));\n\t\treturn `https://eightyupgrades.com/ep/import?name=${encodeURIComponent('WoWSims Weights')}` +\n\t\t\tallStats\n\t\t\t\t.filter(stat => epValues.getStat(stat) != 0)\n\t\t\t\t.map(stat => `&${Individual80UEPExporter.linkNames[stat]}=${epValues.getStat(stat).toFixed(3)}`).join('');\n\t}\n\n\tstatic linkNames: Record<Stat, string> = {\n\t\t[Stat.StatStrength]: 'strength',\n\t\t[Stat.StatAgility]: 'agility',\n\t\t[Stat.StatStamina]: 'stamina',\n\t\t[Stat.StatIntellect]: 'intellect',\n\t\t[Stat.StatSpirit]: 'spirit',\n\t\t[Stat.StatSpellPower]: 'spellDamage',\n\t\t[Stat.StatHealingPower]: 'healing',\n\t\t[Stat.StatArcaneSpellPower]: 'arcaneDamage',\n\t\t[Stat.StatFireSpellPower]: 'fireDamage',\n\t\t[Stat.StatFrostSpellPower]: 'frostDamage',\n\t\t[Stat.StatHolySpellPower]: 'holyDamage',\n\t\t[Stat.StatNatureSpellPower]: 'natureDamage',\n\t\t[Stat.StatShadowSpellPower]: 'shadowDamage',\n\t\t[Stat.StatMP5]: 'mp5',\n\t\t[Stat.StatSpellHit]: 'spellHitRating',\n\t\t[Stat.StatSpellCrit]: 'spellCritRating',\n\t\t[Stat.StatSpellHaste]: 'spellHasteRating',\n\t\t[Stat.StatSpellPenetration]: 'spellPen',\n\t\t[Stat.StatAttackPower]: 'attackPower',\n\t\t[Stat.StatMeleeHit]: 'hitRating',\n\t\t[Stat.StatMeleeCrit]: 'critRating',\n\t\t[Stat.StatMeleeHaste]: 'hasteRating',\n\t\t[Stat.StatArmorPenetration]: 'armorPen',\n\t\t[Stat.StatExpertise]: 'expertiseRating',\n\t\t[Stat.StatMana]: 'mana',\n\t\t[Stat.StatEnergy]: 'energy',\n\t\t[Stat.StatRage]: 'rage',\n\t\t[Stat.StatArmor]: 'armor',\n\t\t[Stat.StatRangedAttackPower]: 'rangedAttackPower',\n\t\t[Stat.StatDefense]: 'defenseRating',\n\t\t[Stat.StatBlock]: 'blockRating',\n\t\t[Stat.StatBlockValue]: 'blockValue',\n\t\t[Stat.StatDodge]: 'dodgeRating',\n\t\t[Stat.StatParry]: 'parryRating',\n\t\t[Stat.StatResilience]: 'resilienceRating',\n\t\t[Stat.StatHealth]: 'health',\n\t\t[Stat.StatArcaneResistance]: 'arcaneResistance',\n\t\t[Stat.StatFireResistance]: 'fireResistance',\n\t\t[Stat.StatFrostResistance]: 'frostResistance',\n\t\t[Stat.StatNatureResistance]: 'natureResistance',\n\t\t[Stat.StatShadowResistance]: 'shadowResistance',\n\t}\n}\n\nclass IndividualPawnEPExporter<SpecType extends Spec> extends Exporter {\n\tprivate readonly simUI: IndividualSimUI<SpecType>;\n\n\tconstructor(parent: HTMLElement, simUI: IndividualSimUI<SpecType>) {\n\t\tsuper(parent, 'Pawn EP Export', true);\n\t\tthis.simUI = simUI;\n\t\tthis.init();\n\t}\n\n\tgetData(): string {\n\t\tconst epValues = this.simUI.player.getEpWeights();\n\t\tconst allStats = (getEnumValues(Stat) as Array<Stat>).filter(stat => ![Stat.StatEnergy, Stat.StatRage].includes(stat));\n\t\treturn `( Pawn: v1: \"WoWSims Weights\": Class=${classNames[this.simUI.player.getClass()]},` +\n\t\t\tallStats\n\t\t\t\t.filter(stat => epValues.getStat(stat) != 0)\n\t\t\t\t.map(stat => `${IndividualPawnEPExporter.statNames[stat]}=${epValues.getStat(stat).toFixed(3)}`).join(',') +\n\t\t\t' )';\n\t}\n\n\tstatic statNames: Record<Stat, string> = {\n\t\t[Stat.StatStrength]: 'Strength',\n\t\t[Stat.StatAgility]: 'Agility',\n\t\t[Stat.StatStamina]: 'Stamina',\n\t\t[Stat.StatIntellect]: 'Intellect',\n\t\t[Stat.StatSpirit]: 'Spirit',\n\t\t[Stat.StatSpellPower]: 'SpellDamage',\n\t\t[Stat.StatHealingPower]: 'Healing',\n\t\t[Stat.StatArcaneSpellPower]: 'ArcaneSpellDamage',\n\t\t[Stat.StatFireSpellPower]: 'FireSpellDamage',\n\t\t[Stat.StatFrostSpellPower]: 'FrostSpellDamage',\n\t\t[Stat.StatHolySpellPower]: 'HolySpellDamage',\n\t\t[Stat.StatNatureSpellPower]: 'NatureSpellDamage',\n\t\t[Stat.StatShadowSpellPower]: 'ShadowSpellDamage',\n\t\t[Stat.StatMP5]: 'Mp5',\n\t\t[Stat.StatSpellHit]: 'SpellHitRating',\n\t\t[Stat.StatSpellCrit]: 'SpellCritRating',\n\t\t[Stat.StatSpellHaste]: 'SpellHasteRating',\n\t\t[Stat.StatSpellPenetration]: 'SpellPen',\n\t\t[Stat.StatAttackPower]: 'Ap',\n\t\t[Stat.StatMeleeHit]: 'HitRating',\n\t\t[Stat.StatMeleeCrit]: 'CritRating',\n\t\t[Stat.StatMeleeHaste]: 'HasteRating',\n\t\t[Stat.StatArmorPenetration]: 'ArmorPenetration',\n\t\t[Stat.StatExpertise]: 'ExpertiseRating',\n\t\t[Stat.StatMana]: 'Mana',\n\t\t[Stat.StatEnergy]: 'Energy',\n\t\t[Stat.StatRage]: 'Rage',\n\t\t[Stat.StatArmor]: 'Armor',\n\t\t[Stat.StatRangedAttackPower]: 'Rap',\n\t\t[Stat.StatDefense]: 'DefenseRating',\n\t\t[Stat.StatBlock]: 'BlockRating',\n\t\t[Stat.StatBlockValue]: 'BlockValue',\n\t\t[Stat.StatDodge]: 'DodgeRating',\n\t\t[Stat.StatParry]: 'ParryRating',\n\t\t[Stat.StatResilience]: 'ResilienceRating',\n\t\t[Stat.StatHealth]: 'Health',\n\t\t[Stat.StatArcaneResistance]: 'ArcaneResistance',\n\t\t[Stat.StatFireResistance]: 'FireResistance',\n\t\t[Stat.StatFrostResistance]: 'FrostResistance',\n\t\t[Stat.StatNatureResistance]: 'NatureResistance',\n\t\t[Stat.StatShadowResistance]: 'ShadowResistance',\n\t}\n}\n","import { Class } from '../proto/common.js';\nimport { EquipmentSpec } from '../proto/common.js';\nimport { ItemSpec } from '../proto/common.js';\nimport { Race } from '../proto/common.js';\nimport { Spec } from '../proto/common.js';\nimport { IndividualSimSettings } from '../proto/ui.js';\nimport { IndividualSimUI } from '../individual_sim_ui.js';\nimport { Player } from '../player.js';\nimport { classNames, nameToClass, nameToRace } from '../proto_utils/names.js';\nimport { talentSpellIdsToTalentString } from '../talents/factory.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { Popup } from './popup.js';\n\ndeclare var $: any;\ndeclare var tippy: any;\n\nexport function newIndividualImporters<SpecType extends Spec>(simUI: IndividualSimUI<SpecType>): HTMLElement {\n\tconst importSettings = document.createElement('div');\n\timportSettings.classList.add('import-settings', 'sim-dropdown-menu');\n\timportSettings.innerHTML = `\n\t\t<span id=\"importMenuLink\" class=\"dropdown-toggle fas fa-file-import\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" arai-expanded=\"false\"></span>\n\t\t<div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"importMenuLink\">\n\t\t</div>\n\t`;\n\tconst linkElem = importSettings.getElementsByClassName('dropdown-toggle')[0] as HTMLElement;\n\ttippy(linkElem, {\n\t\t'content': 'Import',\n\t\t'allowHTML': true,\n\t});\n\n\tconst menuElem = importSettings.getElementsByClassName('dropdown-menu')[0] as HTMLElement;\n\tconst addMenuItem = (label: string, onClick: () => void, showInRaidSim: boolean) => {\n\t\tconst itemElem = document.createElement('span');\n\t\titemElem.classList.add('dropdown-item');\n\t\tif (!showInRaidSim) {\n\t\t\titemElem.classList.add('within-raid-sim-hide');\n\t\t}\n\t\titemElem.textContent = label;\n\t\titemElem.addEventListener('click', onClick);\n\t\tmenuElem.appendChild(itemElem);\n\t};\n\n\taddMenuItem('Json', () => new IndividualJsonImporter(menuElem, simUI), true);\n\taddMenuItem('80U', () => new Individual80UImporter(menuElem, simUI), true);\n\t//addMenuItem('Addon', () => new IndividualAddonImporter(menuElem, simUI), true);\n\n\treturn importSettings;\n}\n\nexport abstract class Importer extends Popup {\n\tprivate readonly textElem: HTMLTextAreaElement;\n\tprotected readonly descriptionElem: HTMLElement;\n\tprotected readonly importButton: HTMLButtonElement;\n\tprivate readonly includeFile: boolean;\n\n\tconstructor(parent: HTMLElement, title: string, includeFile: boolean) {\n\t\tsuper(parent);\n\t\tthis.includeFile = includeFile;\n\t\tconst uploadInputId = 'upload-input-' + title.toLowerCase().replaceAll(' ', '-');\n\n\t\tthis.rootElem.classList.add('importer');\n\t\tlet htmlVal = `\n\t\t\t<span class=\"importer-title\">${title}</span>\n\t\t\t<div class=\"import-description\">\n\t\t\t</div>\n\t\t\t<div class=\"import-content\">\n\t\t\t\t<textarea class=\"importer-textarea\"></textarea>\n\t\t\t</div>\n\t\t\t<div class=\"actions-row\">\n\t\t`;\n\t\tif (this.includeFile) {\n\t\t\thtmlVal += `<label for=\"${uploadInputId}\" class=\"importer-button sim-button upload-button\">UPLOAD FROM FILE</label>\n\t\t\t\t<input type=\"file\" id=\"${uploadInputId}\" class=\"importer-upload-input\" hidden>\n\t\t\t`\n\t\t}\n\t\thtmlVal += `<button class=\"importer-button sim-button import-button\">IMPORT</button>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.rootElem.innerHTML = htmlVal\n\n\t\tthis.addCloseButton();\n\n\t\tthis.textElem = this.rootElem.getElementsByClassName('importer-textarea')[0] as HTMLTextAreaElement;\n\t\tthis.descriptionElem = this.rootElem.getElementsByClassName('import-description')[0] as HTMLElement;\n\n\t\tif (this.includeFile) {\n\t\t\tconst uploadInput = this.rootElem.getElementsByClassName('importer-upload-input')[0] as HTMLButtonElement;\n\t\t\tuploadInput.addEventListener('change', async event => {\n\t\t\t\tconst data: string = await (event as any).target.files[0].text();\n\t\t\t\tthis.textElem.textContent = data;\n\t\t\t});\n\t\t}\n\n\t\tthis.importButton = this.rootElem.getElementsByClassName('import-button')[0] as HTMLButtonElement;\n\t\tthis.importButton.addEventListener('click', event => {\n\t\t\ttry {\n\t\t\t\tthis.onImport(this.textElem.value || '');\n\t\t\t} catch (error) {\n\t\t\t\talert('Import error: ' + error);\n\t\t\t}\n\t\t});\n\t}\n\n\tabstract onImport(data: string): void\n\n\tprotected finishIndividualImport<SpecType extends Spec>(simUI: IndividualSimUI<SpecType>, charClass: Class, race: Race, equipmentSpec: EquipmentSpec, talentsStr: string) {\n\t\tconst playerClass = simUI.player.getClass();\n\t\tif (charClass != playerClass) {\n\t\t\tthrow new Error(`Wrong Class! Expected ${classNames[playerClass]} but found ${classNames[charClass]}!`);\n\t\t}\n\n\t\tequipmentSpec.items.forEach(item => {\n\t\t\tif (item.enchant) {\n\t\t\t\tconst dbEnchant = simUI.sim.getEnchantFlexible(item.enchant);\n\t\t\t\tif (dbEnchant) {\n\t\t\t\t\titem.enchant = dbEnchant.id;\n\t\t\t\t} else {\n\t\t\t\t\titem.enchant = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst gear = simUI.sim.lookupEquipmentSpec(equipmentSpec);\n\n\t\tconst expectedEnchantIds = equipmentSpec.items.map(item => item.enchant);\n\t\tconst foundEnchantIds = gear.asSpec().items.map(item => item.enchant);\n\t\tconst missingEnchants = expectedEnchantIds.filter(expectedId => expectedId != 0 && !foundEnchantIds.includes(expectedId));\n\n\t\tconst expectedItemIds = equipmentSpec.items.map(item => item.id);\n\t\tconst foundItemIds = gear.asSpec().items.map(item => item.id);\n\t\tconst missingItems = expectedItemIds.filter(expectedId => !foundItemIds.includes(expectedId));\n\n\t\t// Now update settings using the parsed values.\n\t\tconst eventID = TypedEvent.nextEventID();\n\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\tsimUI.player.setRace(eventID, race);\n\t\t\tsimUI.player.setGear(eventID, gear);\n\t\t\tif (talentsStr) {\n\t\t\t\tsimUI.player.setTalentsString(eventID, talentsStr);\n\t\t\t}\n\t\t});\n\n\t\tthis.close();\n\n\t\tif (missingItems.length == 0 && missingEnchants.length == 0) {\n\t\t\talert('Import successful!');\n\t\t} else {\n\t\t\talert('Import successful, but the following IDs were not found in the sim database:' +\n\t\t\t\t(missingItems.length == 0 ? '' : '\\n\\nItems: ' + missingItems.join(', ')) +\n\t\t\t\t(missingEnchants.length == 0 ? '' : '\\n\\nEnchants: ' + missingEnchants.join(', ')));\n\t\t}\n\t}\n}\n\nclass IndividualJsonImporter<SpecType extends Spec> extends Importer {\n\tprivate readonly simUI: IndividualSimUI<SpecType>;\n\tconstructor(parent: HTMLElement, simUI: IndividualSimUI<SpecType>) {\n\t\tsuper(parent, 'JSON Import', true);\n\t\tthis.simUI = simUI;\n\n\t\tthis.descriptionElem.innerHTML = `\n\t\t\t<p>\n\t\t\t\tImport settings from a JSON text file, which can be created using the JSON Export feature of this site.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo import, paste the JSON text below and click, 'Import'.\n\t\t\t</p>\n\t\t`;\n\t}\n\n\tonImport(data: string) {\n\t\tconst proto = IndividualSimSettings.fromJsonString(data);\n\t\tif (this.simUI.isWithinRaidSim) {\n\t\t\tif (proto.player) {\n\t\t\t\tthis.simUI.player.fromProto(TypedEvent.nextEventID(), proto.player);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.simUI.fromProto(TypedEvent.nextEventID(), proto);\n\t\t}\n\t\tthis.close();\n\t}\n}\n\nclass Individual80UImporter<SpecType extends Spec> extends Importer {\n\tprivate readonly simUI: IndividualSimUI<SpecType>;\n\tconstructor(parent: HTMLElement, simUI: IndividualSimUI<SpecType>) {\n\t\tsuper(parent, '80 Upgrades Import', true);\n\t\tthis.simUI = simUI;\n\n\t\tthis.descriptionElem.innerHTML = `\n\t\t\t<p>\n\t\t\t\tImport settings from <a href=\"https://eightyupgrades.com\" target=\"_blank\">Eighty Upgrades</a>.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThis feature imports gear, race, and (optionally) talents. It does NOT import buffs, debuffs, consumes, rotation, or custom stats.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo import, paste the output from the site's export option below and click, 'Import'.\n\t\t\t</p>\n\t\t`;\n\t}\n\n\tonImport(data: string) {\n\t\tconst importJson = JSON.parse(data);\n\n\t\t// Parse all the settings.\n\t\tconst charClass = nameToClass((importJson?.character?.gameClass as string) || '');\n\t\tif (charClass == Class.ClassUnknown) {\n\t\t\tthrow new Error('Could not parse Class!');\n\t\t}\n\n\t\tconst race = nameToRace((importJson?.character?.race as string) || '');\n\t\tif (race == Race.RaceUnknown) {\n\t\t\tthrow new Error('Could not parse Race!');\n\t\t}\n\n\t\tlet talentsStr = '';\n\t\tif (importJson?.talents?.length > 0) {\n\t\t\tconst talentIds = (importJson.talents as Array<any>).map(talentJson => talentJson.spellId);\n\t\t\ttalentsStr = talentSpellIdsToTalentString(charClass, talentIds);\n\t\t}\n\n\t\tlet equipmentSpec = EquipmentSpec.create();\n\t\t(importJson.items as Array<any>).forEach(itemJson => {\n\t\t\tlet itemSpec = ItemSpec.create();\n\t\t\titemSpec.id = itemJson.id;\n\t\t\tif (itemJson.enchant?.id) {\n\t\t\t\titemSpec.enchant = itemJson.enchant.id;\n\t\t\t}\n\t\t\tif (itemJson.gems) {\n\t\t\t\titemSpec.gems = (itemJson.gems as Array<any>).filter(gemJson => gemJson?.id).map(gemJson => gemJson.id);\n\t\t\t}\n\t\t\tequipmentSpec.items.push(itemSpec);\n\t\t});\n\n\t\tconst gear = this.simUI.sim.lookupEquipmentSpec(equipmentSpec);\n\n\t\tthis.finishIndividualImport(this.simUI, charClass, race, equipmentSpec, talentsStr);\n\t}\n}\n\nclass IndividualAddonImporter<SpecType extends Spec> extends Importer {\n\tprivate readonly simUI: IndividualSimUI<SpecType>;\n\tconstructor(parent: HTMLElement, simUI: IndividualSimUI<SpecType>) {\n\t\tsuper(parent, 'Addon Import', true);\n\t\tthis.simUI = simUI;\n\n\t\tthis.descriptionElem.innerHTML = `\n\t\t\t<p>\n\t\t\t\tImport settings from the <a href=\"https://www.curseforge.com/wow/addons/wowsimsexporter\" target=\"_blank\">WoWSims Importer In-Game Addon</a>.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThis feature imports gear, race, and talents. It does NOT import buffs, debuffs, consumes, rotation, or custom stats.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo import, paste the output from the addon below and click, 'Import'.\n\t\t\t</p>\n\t\t`;\n\t}\n\n\tonImport(data: string) {\n\t\tconst importJson = JSON.parse(data);\n\n\t\t// Parse all the settings.\n\t\tconst charClass = nameToClass((importJson['class'] as string) || '');\n\t\tif (charClass == Class.ClassUnknown) {\n\t\t\tthrow new Error('Could not parse Class!');\n\t\t}\n\n\t\tconst race = nameToRace((importJson['race'] as string) || '');\n\t\tif (race == Race.RaceUnknown) {\n\t\t\tthrow new Error('Could not parse Race!');\n\t\t}\n\n\t\tconst talentsStr = (importJson['talents'] as string) || '';\n\n\t\tconst gearJson = importJson['gear'];\n\t\tgearJson.items = (gearJson.items as Array<any>).filter(item => item != null);\n\t\tconst equipmentSpec = EquipmentSpec.fromJson(gearJson);\n\n\t\tthis.finishIndividualImport(this.simUI, charClass, race, equipmentSpec, talentsStr);\n\t}\n}\n","import { ActionId } from '../proto_utils/action_id.js';\nimport { BattleElixir } from '../proto/common.js';\nimport { Explosive } from '../proto/common.js';\nimport { Flask } from '../proto/common.js';\nimport { Food } from '../proto/common.js';\nimport { GuardianElixir } from '../proto/common.js';\nimport { RaidBuffs } from '../proto/common.js';\nimport { PartyBuffs } from '../proto/common.js';\nimport { IndividualBuffs } from '../proto/common.js';\nimport { Conjured } from '../proto/common.js';\nimport { Consumes } from '../proto/common.js';\nimport { Debuffs } from '../proto/common.js';\n\nimport { PetFood } from '../proto/common.js';\nimport { Potions } from '../proto/common.js';\nimport { Spec } from '../proto/common.js';\nimport { TristateEffect } from '../proto/common.js';\nimport { Party } from '../party.js';\nimport { Player } from '../player.js';\nimport { Raid } from '../raid.js';\nimport { Sim } from '../sim.js';\nimport { Target } from '../target.js';\nimport { Encounter } from '../encounter.js';\nimport { EventID, TypedEvent } from '../typed_event.js';\n\nimport { IconPickerConfig } from './icon_picker.js';\nimport { IconEnumPicker, IconEnumPickerConfig, IconEnumValueConfig } from './icon_enum_picker.js';\nimport { MultiIconPickerConfig } from './multi_icon_picker.js';\n\nimport * as InputHelpers from './input_helpers.js';\n\n// Raid Buffs\n\nexport const AllStatsBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(48470), ActionId.fromSpellId(17051), 'giftOfTheWild'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(49634), 'drumsOfTheWild'),\n], 'Stats');\n\nexport const AllStatsPercentBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(25898), 'blessingOfKings'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(49633), 'drumsOfForgottenKings'),\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(25899), 'blessingOfSanctuary'),\n], 'Stats %');\n\nexport const ArmorBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(48942), ActionId.fromSpellId(20140), 'devotionAura'),\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(58753), ActionId.fromSpellId(16293), 'stoneskinTotem'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(43468), 'scrollOfProtection'),\n\t// stoneskin?\n], 'Armor');\n\nexport const StaminaBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(48161), ActionId.fromSpellId(14767), 'powerWordFortitude'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(37094), 'scrollOfStamina'),\n], 'Stam');\n\nexport const StrengthAndAgilityBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(58643), ActionId.fromSpellId(52456), 'strengthOfEarthTotem'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(57623), 'hornOfWinter'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(43464), 'scrollOfAgility'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(43466), 'scrollOfStrength'),\n], 'Str/Agi');\n\nexport const IntellectBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(43002), 'arcaneBrilliance'),\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(57567), ActionId.fromSpellId(54038), 'felIntelligence'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(37092), 'scrollOfIntellect'),\n], 'Int');\n\nexport const SpiritBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(48073), 'divineSpirit'),\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(57567), ActionId.fromSpellId(54038), 'felIntelligence'),\n\tmakeBooleanRaidBuffInput(ActionId.fromItemId(37098), 'scrollOfSpirit'),\n], 'Spi');\n\nexport const AttackPowerBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateIndividualBuffInput(ActionId.fromSpellId(48934), ActionId.fromSpellId(20045), 'blessingOfMight'),\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(47436), ActionId.fromSpellId(12861), 'battleShout'),\n], 'AP');\n\nexport const AttackPowerPercentBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(53138), 'abominationsMight'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(30809), 'unleashedRage'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(19506), 'trueshotAura'),\n], 'AP %');\n\nexport const DamagePercentBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(31869), 'sanctifiedRetribution'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(31583), 'arcaneEmpowerment'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(34460), 'ferociousInspiration'),\n], 'Dmg %');\n\nexport const DamageReductionPercentBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(57472), 'renewedHope'),\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(25899), 'blessingOfSanctuary'),\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(50720), 'vigilance'),\n], 'Mit %');\n\nexport const HastePercentBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(53648), 'swiftRetribution'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(48396), 'moonkinAura', TristateEffect.TristateEffectImproved),\n], 'Haste %');\n\nexport const HealthBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(47440), ActionId.fromSpellId(12861), 'commandingShout'),\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(47982), ActionId.fromSpellId(18696), 'bloodPact'),\n], 'Health');\n\nexport const MP5Buff = InputHelpers.makeMultiIconInput([\n\tmakeTristateIndividualBuffInput(ActionId.fromSpellId(48938), ActionId.fromSpellId(20245), 'blessingOfWisdom'),\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(58774), ActionId.fromSpellId(16206), 'manaSpringTotem'),\n], 'MP5');\n\nexport const MeleeCritBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(17007), ActionId.fromSpellId(34300), 'leaderOfThePack'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(29801), 'rampage'),\n], 'Melee Crit');\n\nexport const MeleeHasteBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(55610), 'icyTalons'),\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(65990), ActionId.fromSpellId(29193), 'windfuryTotem'),\n], 'Melee Haste');\n\nexport const ReplenishmentBuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(48160), 'vampiricTouch'),\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(31878), 'judgementsOfTheWise'),\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(53292), 'huntingParty'),\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(54118), 'improvedSoulLeech'),\n\tmakeBooleanIndividualBuffInput(ActionId.fromSpellId(44561), 'enduringWinter'),\n], 'Repl', 2);\n\nexport const SpellCritBuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateRaidBuffInput(ActionId.fromSpellId(24907), ActionId.fromSpellId(48396), 'moonkinAura'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(51470), 'elementalOath'),\n], 'Spell Crit');\n\nexport const SpellHasteBuff = withLabel(makeBooleanRaidBuffInput(ActionId.fromSpellId(3738), 'wrathOfAirTotem'), 'Spell Haste');\n\nexport const SpellPowerBuff = InputHelpers.makeMultiIconInput([\n\tmakeMultistateRaidBuffInput(ActionId.fromSpellId(47240), 5000, 'demonicPact', 500),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(57722), 'totemOfWrath'),\n\tmakeBooleanRaidBuffInput(ActionId.fromSpellId(58656), 'flametongueTotem'),\n], 'SP');\n\nexport const Bloodlust = withLabel(makeBooleanRaidBuffInput(ActionId.fromSpellId(2825), 'bloodlust'), 'Lust');\n\n// Misc Buffs\nexport const RetributionAura = makeBooleanRaidBuffInput(ActionId.fromSpellId(54043), 'retributionAura');\nexport const ShadowProtection = makeBooleanRaidBuffInput(ActionId.fromSpellId(48170), 'shadowProtection');\nexport const BraidedEterniumChain = makeBooleanPartyBuffInput(ActionId.fromSpellId(31025), 'braidedEterniumChain');\nexport const ChainOfTheTwilightOwl = makeBooleanPartyBuffInput(ActionId.fromSpellId(31035), 'chainOfTheTwilightOwl');\nexport const HeroicPresence = makeBooleanPartyBuffInput(ActionId.fromSpellId(6562), 'heroicPresence');\nexport const EyeOfTheNight = makeBooleanPartyBuffInput(ActionId.fromSpellId(31033), 'eyeOfTheNight');\nexport const Thorns = makeTristateRaidBuffInput(ActionId.fromSpellId(53307), ActionId.fromSpellId(16840), 'thorns');\nexport const ManaTideTotem = makeMultistatePartyBuffInput(ActionId.fromSpellId(16190), 5, 'manaTideTotems');\nexport const Innervate = makeMultistateIndividualBuffInput(ActionId.fromSpellId(29166), 11, 'innervates');\nexport const PowerInfusion = makeMultistateIndividualBuffInput(ActionId.fromSpellId(10060), 11, 'powerInfusions');\nexport const TricksOfTheTrade = makeMultistateIndividualBuffInput(ActionId.fromSpellId(57933), 20, 'tricksOfTheTrades');\nexport const UnholyFrenzy = makeMultistateIndividualBuffInput(ActionId.fromSpellId(49016), 11, 'unholyFrenzy');\n\n// Debuffs\n\nexport const MajorArmorDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(7386), 'sunderArmor'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(8647), 'exposeArmor'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(55754), 'acidSpit'),\n], 'Major Ar');\n\nexport const MinorArmorDebuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateDebuffInput(ActionId.fromSpellId(770), ActionId.fromSpellId(33602), 'faerieFire'),\n\tmakeTristateDebuffInput(ActionId.fromSpellId(50511), ActionId.fromSpellId(18180), 'curseOfWeakness'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(56631), 'sting'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(53598), 'sporeCloud'),\n], 'Minor Ar');\n\nexport const AttackPowerDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(26016), 'vindication'),\n\tmakeTristateDebuffInput(ActionId.fromSpellId(47437), ActionId.fromSpellId(12879), 'demoralizingShout'),\n\tmakeTristateDebuffInput(ActionId.fromSpellId(48560), ActionId.fromSpellId(16862), 'demoralizingRoar'),\n\tmakeTristateDebuffInput(ActionId.fromSpellId(50511), ActionId.fromSpellId(18180), 'curseOfWeakness'),\n], 'AP');\n\nexport const BleedDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(33876), 'mangle'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(46855), 'trauma'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(57393), 'stampede'),\n], 'Bleed');\n\nexport const CritDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(30706), 'totemOfWrath'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(20337), 'heartOfTheCrusader'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(58410), 'masterPoisoner'),\n], 'Crit');\n\nexport const MeleeAttackSpeedDebuff = InputHelpers.makeMultiIconInput([\n\tmakeTristateDebuffInput(ActionId.fromSpellId(47502), ActionId.fromSpellId(12666), 'thunderClap'),\n\tmakeTristateDebuffInput(ActionId.fromSpellId(55095), ActionId.fromSpellId(51456), 'frostFever'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(53696), 'judgementsOfTheJust'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(48485), 'infectedWounds'),\n], 'Atk Spd');\n\nexport const MeleeHitDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(65855), 'insectSwarm'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(3043), 'scorpidSting'),\n], 'Miss');\n\nexport const PhysicalDamageDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(29859), 'bloodFrenzy'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(58413), 'savageCombat'),\n], 'Phys Vuln');\n\nexport const SpellCritDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(17800), 'shadowMastery'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(12873), 'improvedScorch'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(28593), 'wintersChill'),\n], 'Spell Crit');\n\nexport const SpellHitDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(33198), 'misery'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(33602), 'faerieFire', TristateEffect.TristateEffectImproved),\n], 'Spell Hit');\n\nexport const SpellDamageDebuff = InputHelpers.makeMultiIconInput([\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(51161), 'ebonPlaguebringer'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(48511), 'earthAndMoon'),\n\tmakeBooleanDebuffInput(ActionId.fromSpellId(47865), 'curseOfElements'),\n], 'Spell Dmg');\n\nexport const HuntersMark = withLabel(makeQuadstateDebuffInput(ActionId.fromSpellId(53338), ActionId.fromSpellId(19423), ActionId.fromItemId(42907), 'huntersMark'), 'Mark');\nexport const JudgementOfWisdom = withLabel(makeBooleanDebuffInput(ActionId.fromSpellId(53408), 'judgementOfWisdom'), 'JoW');\nexport const JudgementOfLight = makeBooleanDebuffInput(ActionId.fromSpellId(20271), 'judgementOfLight');\nexport const ShatteringThrow = makeMultistateIndividualBuffInput(ActionId.fromSpellId(64382), 20, 'shatteringThrows');\nexport const GiftOfArthas = makeBooleanDebuffInput(ActionId.fromSpellId(11374), 'giftOfArthas');\n\n// Consumes\nexport const ThermalSapper = makeBooleanConsumeInput(ActionId.fromItemId(42641), 'thermalSapper');\nexport const ExplosiveDecoy = makeBooleanConsumeInput(ActionId.fromItemId(40536), 'explosiveDecoy');\n\nexport const SpicedMammothTreats = makeBooleanConsumeInput(ActionId.fromItemId(43005), 'petFood', PetFood.PetFoodSpicedMammothTreats);\nexport const PetScrollOfAgilityV = makeBooleanConsumeInput(ActionId.fromItemId(27498), 'petScrollOfAgility', 5);\nexport const PetScrollOfStrengthV = makeBooleanConsumeInput(ActionId.fromItemId(27503), 'petScrollOfStrength', 5);\n\nfunction withLabel<ModObject, T>(config: InputHelpers.TypedIconPickerConfig<ModObject, T>, label: string): InputHelpers.TypedIconPickerConfig<ModObject, T> {\n\tconfig.label = label;\n\treturn config;\n}\n\nfunction makeBooleanRaidBuffInput(id: ActionId, fieldName: keyof RaidBuffs, value?: number): InputHelpers.TypedIconPickerConfig<Player<any>, boolean> {\n\treturn InputHelpers.makeBooleanIconInput<any, RaidBuffs, Raid>({\n\t\tgetModObject: (player: Player<any>) => player.getRaid()!,\n\t\tgetValue: (raid: Raid) => raid.getBuffs(),\n\t\tsetValue: (eventID: EventID, raid: Raid, newVal: RaidBuffs) => raid.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (raid: Raid) => raid.buffsChangeEmitter,\n\t}, id, fieldName, value);\n}\nfunction makeBooleanPartyBuffInput(id: ActionId, fieldName: keyof PartyBuffs, value?: number): InputHelpers.TypedIconPickerConfig<Player<any>, boolean> {\n\treturn InputHelpers.makeBooleanIconInput<any, PartyBuffs, Party>({\n\t\tgetModObject: (player: Player<any>) => player.getParty()!,\n\t\tgetValue: (party: Party) => party.getBuffs(),\n\t\tsetValue: (eventID: EventID, party: Party, newVal: PartyBuffs) => party.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (party: Party) => party.buffsChangeEmitter,\n\t}, id, fieldName, value);\n}\nfunction makeBooleanIndividualBuffInput(id: ActionId, fieldName: keyof IndividualBuffs, value?: number): InputHelpers.TypedIconPickerConfig<Player<any>, boolean> {\n\treturn InputHelpers.makeBooleanIconInput<any, IndividualBuffs, Player<any>>({\n\t\tgetModObject: (player: Player<any>) => player,\n\t\tgetValue: (player: Player<any>) => player.getBuffs(),\n\t\tsetValue: (eventID: EventID, player: Player<any>, newVal: IndividualBuffs) => player.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (player: Player<any>) => player.buffsChangeEmitter,\n\t}, id, fieldName, value);\n}\nfunction makeBooleanConsumeInput(id: ActionId, fieldName: keyof Consumes, value?: number): InputHelpers.TypedIconPickerConfig<Player<any>, boolean> {\n\treturn InputHelpers.makeBooleanIconInput<any, Consumes, Player<any>>({\n\t\tgetModObject: (player: Player<any>) => player,\n\t\tgetValue: (player: Player<any>) => player.getConsumes(),\n\t\tsetValue: (eventID: EventID, player: Player<any>, newVal: Consumes) => player.setConsumes(eventID, newVal),\n\t\tchangeEmitter: (player: Player<any>) => player.consumesChangeEmitter,\n\t}, id, fieldName, value);\n}\nfunction makeBooleanDebuffInput(id: ActionId, fieldName: keyof Debuffs, value?: number): InputHelpers.TypedIconPickerConfig<Player<any>, boolean> {\n\treturn InputHelpers.makeBooleanIconInput<any, Debuffs, Raid>({\n\t\tgetModObject: (player: Player<any>) => player.getRaid()!,\n\t\tgetValue: (raid: Raid) => raid.getDebuffs(),\n\t\tsetValue: (eventID: EventID, raid: Raid, newVal: Debuffs) => raid.setDebuffs(eventID, newVal),\n\t\tchangeEmitter: (raid: Raid) => raid.debuffsChangeEmitter,\n\t}, id, fieldName, value);\n}\n\nfunction makeTristateRaidBuffInput(id: ActionId, impId: ActionId, fieldName: keyof RaidBuffs): InputHelpers.TypedIconPickerConfig<Player<any>, number> {\n\treturn InputHelpers.makeTristateIconInput<any, RaidBuffs, Raid>({\n\t\tgetModObject: (player: Player<any>) => player.getRaid()!,\n\t\tgetValue: (raid: Raid) => raid.getBuffs(),\n\t\tsetValue: (eventID: EventID, raid: Raid, newVal: RaidBuffs) => raid.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (raid: Raid) => raid.buffsChangeEmitter,\n\t}, id, impId, fieldName);\n}\nfunction makeTristateIndividualBuffInput(id: ActionId, impId: ActionId, fieldName: keyof IndividualBuffs): InputHelpers.TypedIconPickerConfig<Player<any>, number> {\n\treturn InputHelpers.makeTristateIconInput<any, IndividualBuffs, Player<any>>({\n\t\tgetModObject: (player: Player<any>) => player,\n\t\tgetValue: (player: Player<any>) => player.getBuffs(),\n\t\tsetValue: (eventID: EventID, player: Player<any>, newVal: IndividualBuffs) => player.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (player: Player<any>) => player.buffsChangeEmitter,\n\t}, id, impId, fieldName);\n}\nfunction makeTristateDebuffInput(id: ActionId, impId: ActionId, fieldName: keyof Debuffs): InputHelpers.TypedIconPickerConfig<Player<any>, number> {\n\treturn InputHelpers.makeTristateIconInput<any, Debuffs, Raid>({\n\t\tgetModObject: (player: Player<any>) => player.getRaid()!,\n\t\tgetValue: (raid: Raid) => raid.getDebuffs(),\n\t\tsetValue: (eventID: EventID, raid: Raid, newVal: Debuffs) => raid.setDebuffs(eventID, newVal),\n\t\tchangeEmitter: (raid: Raid) => raid.debuffsChangeEmitter,\n\t}, id, impId, fieldName);\n}\nfunction makeQuadstateDebuffInput(id: ActionId, impId: ActionId, impId2: ActionId, fieldName: keyof Debuffs): InputHelpers.TypedIconPickerConfig<Player<any>, number> {\n\treturn InputHelpers.makeQuadstateIconInput<any, Debuffs, Raid>({\n\t\tgetModObject: (player: Player<any>) => player.getRaid()!,\n\t\tgetValue: (raid: Raid) => raid.getDebuffs(),\n\t\tsetValue: (eventID: EventID, raid: Raid, newVal: Debuffs) => raid.setDebuffs(eventID, newVal),\n\t\tchangeEmitter: (raid: Raid) => raid.debuffsChangeEmitter,\n\t}, id, impId, impId2, fieldName);\n}\nfunction makeMultistateRaidBuffInput(id: ActionId, numStates: number, fieldName: keyof RaidBuffs, multiplier?: number): InputHelpers.TypedIconPickerConfig<Player<any>, number> {\n\treturn InputHelpers.makeMultistateIconInput<any, RaidBuffs, Raid>({\n\t\tgetModObject: (player: Player<any>) => player.getRaid()!,\n\t\tgetValue: (raid: Raid) => raid.getBuffs(),\n\t\tsetValue: (eventID: EventID, raid: Raid, newVal: RaidBuffs) => raid.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (raid: Raid) => raid.buffsChangeEmitter,\n\t}, id, numStates, fieldName, multiplier);\n}\nfunction makeMultistatePartyBuffInput(id: ActionId, numStates: number, fieldName: keyof PartyBuffs): InputHelpers.TypedIconPickerConfig<Player<any>, number> {\n\treturn InputHelpers.makeMultistateIconInput<any, PartyBuffs, Party>({\n\t\tgetModObject: (player: Player<any>) => player.getParty()!,\n\t\tgetValue: (party: Party) => party.getBuffs(),\n\t\tsetValue: (eventID: EventID, party: Party, newVal: PartyBuffs) => party.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (party: Party) => party.buffsChangeEmitter,\n\t}, id, numStates, fieldName);\n}\nfunction makeMultistateIndividualBuffInput(id: ActionId, numStates: number, fieldName: keyof IndividualBuffs): InputHelpers.TypedIconPickerConfig<Player<any>, number> {\n\treturn InputHelpers.makeMultistateIconInput<any, IndividualBuffs, Player<any>>({\n\t\tgetModObject: (player: Player<any>) => player,\n\t\tgetValue: (player: Player<any>) => player.getBuffs(),\n\t\tsetValue: (eventID: EventID, player: Player<any>, newVal: IndividualBuffs) => player.setBuffs(eventID, newVal),\n\t\tchangeEmitter: (player: Player<any>) => player.buffsChangeEmitter,\n\t}, id, numStates, fieldName);\n}\n\n\n//////////////////////////////////////////////////////////////////////\n// Custom buffs that don't fit into any of the helper functions above.\n//////////////////////////////////////////////////////////////////////\n\nfunction makePotionInputFactory(consumesFieldName: keyof Consumes): (options: Array<Potions>) => InputHelpers.TypedIconEnumPickerConfig<Player<any>, Potions> {\n\treturn makeConsumeInputFactory(consumesFieldName, [\n\t\t{ actionId: ActionId.fromItemId(33447), value: Potions.RunicHealingPotion },\n\t\t{ actionId: ActionId.fromItemId(33448), value: Potions.RunicManaPotion },\n\t\t{ actionId: ActionId.fromItemId(40093), value: Potions.IndestructiblePotion },\n\t\t{ actionId: ActionId.fromItemId(40211), value: Potions.PotionOfSpeed },\n\t\t{ actionId: ActionId.fromItemId(40212), value: Potions.PotionOfWildMagic },\n\n\t\t{ actionId: ActionId.fromItemId(22839), value: Potions.DestructionPotion },\n\t\t{ actionId: ActionId.fromItemId(22838), value: Potions.HastePotion },\n\t\t{ actionId: ActionId.fromItemId(13442), value: Potions.MightyRagePotion },\n\t\t{ actionId: ActionId.fromItemId(22832), value: Potions.SuperManaPotion },\n\t\t{ actionId: ActionId.fromItemId(31677), value: Potions.FelManaPotion },\n\t\t{ actionId: ActionId.fromItemId(22828), value: Potions.InsaneStrengthPotion },\n\t\t{ actionId: ActionId.fromItemId(22849), value: Potions.IronshieldPotion },\n\t\t{ actionId: ActionId.fromItemId(22837), value: Potions.HeroicPotion },\n\t] as Array<IconEnumValueConfig<Player<any>, Potions>>);\n}\nexport const makePotionsInput = makePotionInputFactory('defaultPotion');\nexport const makePrepopPotionsInput = makePotionInputFactory('prepopPotion');\n\nexport const makeConjuredInput = makeConsumeInputFactory('defaultConjured', [\n\t{ actionId: ActionId.fromItemId(12662), value: Conjured.ConjuredDarkRune },\n\t{ actionId: ActionId.fromItemId(22788), value: Conjured.ConjuredFlameCap },\n\t{ actionId: ActionId.fromItemId(22105), value: Conjured.ConjuredHealthstone },\n\t{ actionId: ActionId.fromItemId(7676), value: Conjured.ConjuredRogueThistleTea },\n] as Array<IconEnumValueConfig<Player<any>, Conjured>>);\n\nexport const makeFlasksInput = makeConsumeInputFactory('flask', [\n\t{ actionId: ActionId.fromItemId(46376), value: Flask.FlaskOfTheFrostWyrm },\n\t{ actionId: ActionId.fromItemId(46377), value: Flask.FlaskOfEndlessRage },\n\t{ actionId: ActionId.fromItemId(46378), value: Flask.FlaskOfPureMojo },\n\t{ actionId: ActionId.fromItemId(46379), value: Flask.FlaskOfStoneblood },\n\t{ actionId: ActionId.fromItemId(40079), value: Flask.LesserFlaskOfToughness },\n\t{ actionId: ActionId.fromItemId(44939), value: Flask.LesserFlaskOfResistance },\n\t{ actionId: ActionId.fromItemId(22861), value: Flask.FlaskOfBlindingLight },\n\t{ actionId: ActionId.fromItemId(22853), value: Flask.FlaskOfMightyRestoration },\n\t{ actionId: ActionId.fromItemId(22866), value: Flask.FlaskOfPureDeath },\n\t{ actionId: ActionId.fromItemId(22854), value: Flask.FlaskOfRelentlessAssault },\n\t{ actionId: ActionId.fromItemId(13512), value: Flask.FlaskOfSupremePower },\n\t{ actionId: ActionId.fromItemId(22851), value: Flask.FlaskOfFortification },\n\t{ actionId: ActionId.fromItemId(33208), value: Flask.FlaskOfChromaticWonder },\n] as Array<IconEnumValueConfig<Player<any>, Flask>>, (eventID: EventID, player: Player<any>, newValue: Flask) => {\n\tif (newValue) {\n\t\tconst newConsumes = player.getConsumes();\n\t\tnewConsumes.battleElixir = BattleElixir.BattleElixirUnknown;\n\t\tnewConsumes.guardianElixir = GuardianElixir.GuardianElixirUnknown;\n\t\tplayer.setConsumes(eventID, newConsumes);\n\t}\n});\n\nexport const makeBattleElixirsInput = makeConsumeInputFactory('battleElixir', [\n\t{ actionId: ActionId.fromItemId(44325), value: BattleElixir.ElixirOfAccuracy },\n\t{ actionId: ActionId.fromItemId(44330), value: BattleElixir.ElixirOfArmorPiercing },\n\t{ actionId: ActionId.fromItemId(44327), value: BattleElixir.ElixirOfDeadlyStrikes },\n\t{ actionId: ActionId.fromItemId(44329), value: BattleElixir.ElixirOfExpertise },\n\t{ actionId: ActionId.fromItemId(44331), value: BattleElixir.ElixirOfLightningSpeed },\n\t{ actionId: ActionId.fromItemId(39666), value: BattleElixir.ElixirOfMightyAgility },\n\t{ actionId: ActionId.fromItemId(40073), value: BattleElixir.ElixirOfMightyStrength },\n\t{ actionId: ActionId.fromItemId(40076), value: BattleElixir.GurusElixir },\n\t{ actionId: ActionId.fromItemId(40070), value: BattleElixir.SpellpowerElixir },\n\t{ actionId: ActionId.fromItemId(40068), value: BattleElixir.WrathElixir },\n\t{ actionId: ActionId.fromItemId(28103), value: BattleElixir.AdeptsElixir },\n\t{ actionId: ActionId.fromItemId(9224), value: BattleElixir.ElixirOfDemonslaying },\n\t{ actionId: ActionId.fromItemId(22831), value: BattleElixir.ElixirOfMajorAgility },\n\t{ actionId: ActionId.fromItemId(22833), value: BattleElixir.ElixirOfMajorFirePower },\n\t{ actionId: ActionId.fromItemId(22827), value: BattleElixir.ElixirOfMajorFrostPower },\n\t{ actionId: ActionId.fromItemId(22835), value: BattleElixir.ElixirOfMajorShadowPower },\n\t{ actionId: ActionId.fromItemId(22824), value: BattleElixir.ElixirOfMajorStrength },\n\t{ actionId: ActionId.fromItemId(28104), value: BattleElixir.ElixirOfMastery },\n\t{ actionId: ActionId.fromItemId(13452), value: BattleElixir.ElixirOfTheMongoose },\n\t{ actionId: ActionId.fromItemId(31679), value: BattleElixir.FelStrengthElixir },\n\t{ actionId: ActionId.fromItemId(27155), value: BattleElixir.GreaterArcaneElixir },\n] as Array<IconEnumValueConfig<Player<any>, BattleElixir>>, (eventID: EventID, player: Player<any>, newValue: BattleElixir) => {\n\tif (newValue) {\n\t\tconst newConsumes = player.getConsumes();\n\t\tnewConsumes.flask = Flask.FlaskUnknown;\n\t\tplayer.setConsumes(eventID, newConsumes);\n\t}\n});\n\nexport const makeGuardianElixirsInput = makeConsumeInputFactory('guardianElixir', [\n\t{ actionId: ActionId.fromItemId(44328), value: GuardianElixir.ElixirOfMightyDefense },\n\t{ actionId: ActionId.fromItemId(40078), value: GuardianElixir.ElixirOfMightyFortitude },\n\t{ actionId: ActionId.fromItemId(40109), value: GuardianElixir.ElixirOfMightyMageblood },\n\t{ actionId: ActionId.fromItemId(44332), value: GuardianElixir.ElixirOfMightyThoughts },\n\t{ actionId: ActionId.fromItemId(40097), value: GuardianElixir.ElixirOfProtection },\n\t{ actionId: ActionId.fromItemId(40072), value: GuardianElixir.ElixirOfSpirit },\n\t{ actionId: ActionId.fromItemId(9088), value: GuardianElixir.GiftOfArthas },\n\t{ actionId: ActionId.fromItemId(32067), value: GuardianElixir.ElixirOfDraenicWisdom },\n\t{ actionId: ActionId.fromItemId(32068), value: GuardianElixir.ElixirOfIronskin },\n\t{ actionId: ActionId.fromItemId(22834), value: GuardianElixir.ElixirOfMajorDefense },\n\t{ actionId: ActionId.fromItemId(32062), value: GuardianElixir.ElixirOfMajorFortitude },\n\t{ actionId: ActionId.fromItemId(22840), value: GuardianElixir.ElixirOfMajorMageblood },\n] as Array<IconEnumValueConfig<Player<any>, GuardianElixir>>, (eventID: EventID, player: Player<any>, newValue: GuardianElixir) => {\n\tif (newValue) {\n\t\tconst newConsumes = player.getConsumes();\n\t\tnewConsumes.flask = Flask.FlaskUnknown;\n\t\tplayer.setConsumes(eventID, newConsumes);\n\t}\n});\n\nexport const makeFoodInput = makeConsumeInputFactory('food', [\n\t{ actionId: ActionId.fromItemId(43015), value: Food.FoodFishFeast },\n\t{ actionId: ActionId.fromItemId(34753), value: Food.FoodGreatFeast },\n\t{ actionId: ActionId.fromItemId(42999), value: Food.FoodBlackenedDragonfin },\n\t{ actionId: ActionId.fromItemId(42995), value: Food.FoodHeartyRhino },\n\t{ actionId: ActionId.fromItemId(34754), value: Food.FoodMegaMammothMeal },\n\t{ actionId: ActionId.fromItemId(34756), value: Food.FoodSpicedWormBurger },\n\t{ actionId: ActionId.fromItemId(42994), value: Food.FoodRhinoliciousWormsteak },\n\t{ actionId: ActionId.fromItemId(34769), value: Food.FoodImperialMantaSteak },\n\t{ actionId: ActionId.fromItemId(42996), value: Food.FoodSnapperExtreme },\n\t{ actionId: ActionId.fromItemId(34758), value: Food.FoodMightyRhinoDogs },\n\t{ actionId: ActionId.fromItemId(34767), value: Food.FoodFirecrackerSalmon },\n\t{ actionId: ActionId.fromItemId(42998), value: Food.FoodCuttlesteak },\n\t{ actionId: ActionId.fromItemId(43000), value: Food.FoodDragonfinFilet },\n\n\t{ actionId: ActionId.fromItemId(27657), value: Food.FoodBlackenedBasilisk },\n\t{ actionId: ActionId.fromItemId(27664), value: Food.FoodGrilledMudfish },\n\t{ actionId: ActionId.fromItemId(27655), value: Food.FoodRavagerDog },\n\t{ actionId: ActionId.fromItemId(27658), value: Food.FoodRoastedClefthoof },\n\t{ actionId: ActionId.fromItemId(33872), value: Food.FoodSpicyHotTalbuk },\n\t{ actionId: ActionId.fromItemId(33825), value: Food.FoodSkullfishSoup },\n\t{ actionId: ActionId.fromItemId(33052), value: Food.FoodFishermansFeast },\n] as Array<IconEnumValueConfig<Player<any>, Food>>);\n\nexport const FillerExplosiveInput = makeConsumeInput('fillerExplosive', [\n\t{ actionId: ActionId.fromItemId(41119), value: Explosive.ExplosiveSaroniteBomb },\n\t{ actionId: ActionId.fromItemId(40771), value: Explosive.ExplosiveCobaltFragBomb },\n] as Array<IconEnumValueConfig<Player<any>, Explosive>>);\n\nfunction makeConsumeInputFactory<T extends number>(consumesFieldName: keyof Consumes, allOptions: Array<IconEnumValueConfig<Player<any>, T>>, onSet?: (eventID: EventID, player: Player<any>, newValue: T) => void): (options: Array<T>) => InputHelpers.TypedIconEnumPickerConfig<Player<any>, T> {\n\treturn (options: Array<T>) => {\n\t\treturn {\n\t\t\ttype: 'iconEnum',\n\t\t\tnumColumns: options.length > 5 ? 2 : 1,\n\t\t\tvalues: [\n\t\t\t\t{ color: 'grey', value: 0 } as unknown as IconEnumValueConfig<Player<any>, T>,\n\t\t\t].concat(options.map(option => allOptions.find(allOption => allOption.value == option)!)),\n\t\t\tequals: (a: T, b: T) => a == b,\n\t\t\tzeroValue: 0 as T,\n\t\t\tchangedEvent: (player: Player<any>) => player.consumesChangeEmitter,\n\t\t\tgetValue: (player: Player<any>) => player.getConsumes()[consumesFieldName] as T,\n\t\t\tsetValue: (eventID: EventID, player: Player<any>, newValue: number) => {\n\t\t\t\tconst newConsumes = player.getConsumes();\n\t\t\t\t(newConsumes[consumesFieldName] as number) = newValue;\n\t\t\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\t\t\tplayer.setConsumes(eventID, newConsumes);\n\t\t\t\t\tif (onSet) {\n\t\t\t\t\t\tonSet(eventID, player, newValue as T);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t};\n\t};\n}\n\nfunction makeConsumeInput<T extends number>(consumesFieldName: keyof Consumes, allOptions: Array<IconEnumValueConfig<Player<any>, T>>, onSet?: (eventID: EventID, player: Player<any>, newValue: T) => void): InputHelpers.TypedIconEnumPickerConfig<Player<any>, T> {\n\tconst factory = makeConsumeInputFactory(consumesFieldName, allOptions, onSet);\n\treturn factory(allOptions.map(option => option.value));\n}\n","export const OTHER_BUFFS_SECTION = 'Buffs provided by other party/raid members.';\nexport const DEBUFFS_SECTION = 'Debuffs applied by other raid members.';\nexport const COOLDOWNS_SECTION = 'Specify cooldown timings, in seconds. Cooldowns will be used as soon as possible after their specified timings. When not specified, cooldowns will be used when ready and it is sensible to do so.<br><br>Multiple timings can be provided by separating with commas. Any cooldown usages after the last provided timing will use the default logic.';\nexport const BLESSINGS_SECTION = 'Specify Paladin Blessings for each role, in order of priority. Blessings in the 1st column will be used if there is at least 1 Paladin in the raid, 2nd column if at least 2, etc.';\n\nexport const BASIC_BIS_DISCLAIMER = '<p>Preset gear lists are intended as rough approximations of BIS, and will often not be the absolute highest-DPS setup for you. Your optimal gear setup will depend on many factors; that\\'s why we have a sim!</p><p>Items may also be omitted from the presets if they are highly contested and clearly better utilized on other classes, to encourage equitable gearing for the raid as a whole.</p>';\n","import { BattleElixir } from './proto/common.js';\nimport { BonusStatsPicker } from './components/bonus_stats_picker.js';\nimport { BooleanPicker, BooleanPickerConfig } from './components/boolean_picker.js';\nimport { CharacterStats, StatMods } from './components/character_stats.js';\nimport { Class } from './proto/common.js';\nimport { Conjured } from './proto/common.js';\nimport { Consumes } from './proto/common.js';\nimport { Cooldowns } from './proto/common.js';\nimport { CooldownsPicker } from './components/cooldowns_picker.js';\nimport { Debuffs } from './proto/common.js';\nimport { DetailedResults } from './components/detailed_results.js';\n\nimport { CustomRotationPicker } from './components/custom_rotation_picker.js';\nimport { Encounter as EncounterProto } from './proto/common.js';\nimport { Encounter } from './encounter.js';\nimport { EncounterPicker, EncounterPickerConfig } from './components/encounter_picker.js';\nimport { EnumPicker, EnumPickerConfig } from './components/enum_picker.js';\nimport { EquipmentSpec } from './proto/common.js';\nimport { EventID, TypedEvent } from './typed_event.js';\nimport { Flask } from './proto/common.js';\nimport { Food } from './proto/common.js';\nimport { Gear } from './proto_utils/gear.js';\nimport { GearPicker } from './components/gear_picker.js';\nimport { Glyphs } from './proto/common.js';\nimport { GuardianElixir } from './proto/common.js';\nimport { HealingModel } from './proto/common.js';\nimport { HunterPetTalentsPicker } from './talents/hunter_pet.js';\nimport { IconEnumPicker, IconEnumPickerConfig } from './components/icon_enum_picker.js';\nimport { IconPicker, IconPickerConfig } from './components/icon_picker.js';\nimport { ItemSlot } from './proto/common.js';\nimport { IndividualBuffs } from './proto/common.js';\nimport { IndividualSimSettings } from './proto/ui.js';\nimport { Input } from './components/input.js';\nimport { LogRunner } from './components/log_runner.js';\nimport { MobType } from './proto/common.js';\nimport { MultiIconPicker } from './components/multi_icon_picker.js';\nimport { NumberPicker, NumberPickerConfig } from './components/number_picker.js';\nimport { Party } from './party.js';\nimport { PartyBuffs } from './proto/common.js';\nimport { PetFood } from './proto/common.js';\nimport { Player as PlayerProto } from './proto/api.js';\nimport { Player } from './player.js';\nimport { Potions } from './proto/common.js';\nimport { Profession } from './proto/common.js';\nimport { Race } from './proto/common.js';\nimport { Raid } from './raid.js';\nimport { RaidBuffs } from './proto/common.js';\nimport { SavedDataConfig, SavedDataManager } from './components/saved_data_manager.js';\nimport { SavedEncounter } from './proto/ui.js';\nimport { SavedGearSet } from './proto/ui.js';\nimport { SavedSettings } from './proto/ui.js';\nimport { SavedTalents } from './proto/ui.js';\nimport { SettingsMenu } from './components/settings_menu.js';\nimport { ShattrathFaction } from './proto/common.js';\nimport { Sim } from './sim.js';\nimport { SimOptions } from './proto/api.js';\nimport { SimSettings as SimSettingsProto } from './proto/ui.js';\nimport { SimUI, SimWarning } from './sim_ui.js';\nimport { Spec } from './proto/common.js';\nimport { SpecOptions } from './proto_utils/utils.js';\nimport { SpecRotation } from './proto_utils/utils.js';\nimport { Stat } from './proto/common.js';\nimport { StatWeightsRequest, StatWeightsResult } from './proto/api.js';\nimport { Stats } from './proto_utils/stats.js';\nimport { shattFactionNames } from './proto_utils/names.js';\nimport { Target } from './target.js';\nimport { Target as TargetProto } from './proto/common.js';\nimport { addRaidSimAction, RaidSimResultsManager } from './components/raid_sim_action.js';\nimport { addStatWeightsAction } from './components/stat_weights_action.js';\nimport { equalsOrBothNull, getEnumValues } from './utils.js';\nimport { getMetaGemConditionDescription } from './proto_utils/gems.js';\nimport { getTalentPoints } from './proto_utils/utils.js';\nimport { isDualWieldSpec } from './proto_utils/utils.js';\nimport { simLaunchStatuses } from './launched_sims.js';\nimport { makePetTypeInputConfig } from './talents/hunter_pet.js';\nimport { newIndividualExporters } from './components/exporters.js';\nimport { newIndividualImporters } from './components/importers.js';\nimport { newGlyphsPicker } from './talents/factory.js';\nimport { newTalentsPicker } from './talents/factory.js';\nimport { professionNames, raceNames } from './proto_utils/names.js';\nimport { isTankSpec } from './proto_utils/utils.js';\nimport { specNames } from './proto_utils/utils.js';\nimport { specToEligibleRaces } from './proto_utils/utils.js';\nimport { specToLocalStorageKey } from './proto_utils/utils.js';\n\nimport * as IconInputs from './components/icon_inputs.js';\nimport * as InputHelpers from './components/input_helpers.js';\nimport * as Mechanics from './constants/mechanics.js';\nimport * as OtherConstants from './constants/other.js';\nimport * as Tooltips from './constants/tooltips.js';\n\ndeclare var Muuri: any;\ndeclare var tippy: any;\ndeclare var pako: any;\n\nconst SAVED_GEAR_STORAGE_KEY = '__savedGear__';\nconst SAVED_ROTATION_STORAGE_KEY = '__savedRotation__';\nconst SAVED_SETTINGS_STORAGE_KEY = '__savedSettings__';\nconst SAVED_TALENTS_STORAGE_KEY = '__savedTalents__';\n\nexport type InputConfig<ModObject> = (\n\tInputHelpers.TypedBooleanPickerConfig<ModObject> |\n\tInputHelpers.TypedNumberPickerConfig<ModObject> |\n\tInputHelpers.TypedEnumPickerConfig<ModObject> |\n\tInputHelpers.TypedCustomRotationPickerConfig<any, any>);\n\nexport type IconInputConfig<ModObject, T> = (\n\tInputHelpers.TypedIconPickerConfig<ModObject, T> |\n\tInputHelpers.TypedIconEnumPickerConfig<ModObject, T>);\n\nexport interface InputSection {\n\ttooltip?: string,\n\tinputs: Array<InputConfig<Player<any>>>,\n}\n\nexport interface OtherDefaults {\n\tprofession1?: Profession,\n\tprofession2?: Profession,\n\tdistanceFromTarget?: number,\n}\n\nexport interface IndividualSimUIConfig<SpecType extends Spec> {\n\t// Additional css class to add to the root element.\n\tcssClass: string,\n\n\tknownIssues?: Array<string>;\n\twarnings?: Array<(simUI: IndividualSimUI<SpecType>) => SimWarning>,\n\n\tepStats: Array<Stat>;\n\tepReferenceStat: Stat;\n\tdisplayStats: Array<Stat>;\n\tmodifyDisplayStats?: (player: Player<SpecType>) => StatMods,\n\n\tdefaults: {\n\t\tgear: EquipmentSpec,\n\t\tepWeights: Stats,\n\t\tconsumes: Consumes,\n\t\trotation: SpecRotation<SpecType>,\n\t\ttalents: SavedTalents,\n\t\tspecOptions: SpecOptions<SpecType>,\n\n\t\traidBuffs: RaidBuffs,\n\t\tpartyBuffs: PartyBuffs,\n\t\tindividualBuffs: IndividualBuffs,\n\n\t\tdebuffs: Debuffs,\n\n\t\tother?: OtherDefaults,\n\t},\n\n\tplayerIconInputs: Array<IconInputConfig<Player<SpecType>, any>>,\n\tpetConsumeInputs?: Array<IconInputConfig<Player<SpecType>, any>>,\n\trotationInputs: InputSection;\n\trotationIconInputs?: Array<IconInputConfig<Player<any>, any>>;\n\tincludeBuffDebuffInputs: Array<any>,\n\texcludeBuffDebuffInputs: Array<any>,\n\totherInputs: InputSection;\n\n\t// Extra UI sections with the same input config as other sections.\n\tadditionalSections?: Record<string, InputSection>;\n\tadditionalIconSections?: Record<string, Array<IconInputConfig<Player<any>, any>>>;\n\n\t// For when extra sections are needed, with even more flexibility than additionalSections.\n\t// Return value is the label for the section.\n\tcustomSections?: Array<(simUI: IndividualSimUI<SpecType>, parentElem: HTMLElement) => string>;\n\n\tencounterPicker: EncounterPickerConfig,\n\n\tpresets: {\n\t\tgear: Array<PresetGear>,\n\t\ttalents: Array<SavedDataConfig<Player<any>, SavedTalents>>,\n\t\trotation?: Array<SavedDataConfig<Player<any>, string>>,\n\t},\n}\n\nexport interface GearAndStats {\n\tgear: Gear,\n\tbonusStats?: Stats,\n}\n\nexport interface PresetGear {\n\tname: string;\n\tgear: EquipmentSpec;\n\ttooltip?: string;\n\tenableWhen?: (obj: Player<any>) => boolean;\n}\n\nexport interface Settings {\n\traidBuffs: RaidBuffs,\n\tpartyBuffs: PartyBuffs,\n\tindividualBuffs: IndividualBuffs,\n\tconsumes: Consumes,\n\trace: Race,\n\tprofessions?: Array<Profession>;\n}\n\n// Extended shared UI for all individual player sims.\nexport abstract class IndividualSimUI<SpecType extends Spec> extends SimUI {\n\treadonly player: Player<SpecType>;\n\treadonly individualConfig: IndividualSimUIConfig<SpecType>;\n\n\tprivate raidSimResultsManager: RaidSimResultsManager | null;\n\n\tprivate settingsMuuri: any;\n\n\tprevEpIterations: number;\n\tprevEpSimResult: StatWeightsResult | null;\n\n\tconstructor(parentElem: HTMLElement, player: Player<SpecType>, config: IndividualSimUIConfig<SpecType>) {\n\t\tsuper(parentElem, player.sim, {\n\t\t\tspec: player.spec,\n\t\t\tknownIssues: config.knownIssues,\n\t\t\tlaunchStatus: simLaunchStatuses[player.spec],\n\t\t});\n\t\tthis.rootElem.classList.add('individual-sim-ui', config.cssClass);\n\t\tthis.player = player;\n\t\tthis.individualConfig = config;\n\t\tthis.raidSimResultsManager = null;\n\t\tthis.settingsMuuri = null;\n\t\tthis.prevEpIterations = 0;\n\t\tthis.prevEpSimResult = null;\n\n\t\tthis.addWarning({\n\t\t\tupdateOn: this.player.gearChangeEmitter,\n\t\t\tgetContent: () => {\n\t\t\t\tif (!this.player.getGear().hasInactiveMetaGem(this.player.isBlacksmithing())) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tconst metaGem = this.player.getGear().getMetaGem()!;\n\t\t\t\treturn `Meta gem disabled (${metaGem.name}): ${getMetaGemConditionDescription(metaGem)}`;\n\t\t\t},\n\t\t});\n\t\tthis.addWarning({\n\t\t\tupdateOn: TypedEvent.onAny([this.player.gearChangeEmitter, this.player.professionChangeEmitter]),\n\t\t\tgetContent: () => {\n\t\t\t\tconst failedProfReqs = this.player.getGear().getFailedProfessionRequirements(this.player.getProfessions());\n\t\t\t\tif (failedProfReqs.length == 0) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn failedProfReqs.map(fpr => `${fpr.name} requires ${professionNames[fpr.requiredProfession]}, but it is not selected.`);\n\t\t\t},\n\t\t});\n\t\tthis.addWarning({\n\t\t\tupdateOn: this.player.gearChangeEmitter,\n\t\t\tgetContent: () => {\n\t\t\t\tconst jcGems = this.player.getGear().getJCGems(this.player.isBlacksmithing());\n\t\t\t\tif (jcGems.length <= 3) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn `Only 3 Jewelcrafting Gems are allowed, but ${jcGems.length} are equipped.`;\n\t\t\t},\n\t\t});\n\t\tthis.addWarning({\n\t\t\tupdateOn: this.player.talentsChangeEmitter,\n\t\t\tgetContent: () => {\n\t\t\t\tconst talentPoints = getTalentPoints(this.player.getTalentsString());\n\n\t\t\t\tif (talentPoints == 0) {\n\t\t\t\t\t// Just return here, so we don't show a warning during page load.\n\t\t\t\t\treturn '';\n\t\t\t\t} else if (talentPoints < Mechanics.MAX_TALENT_POINTS) {\n\t\t\t\t\treturn 'Unspent talent points.';\n\t\t\t\t} else if (talentPoints > Mechanics.MAX_TALENT_POINTS) {\n\t\t\t\t\treturn 'More than maximum talent points spent.';\n\t\t\t\t} else {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t\t(config.warnings || []).forEach(warning => this.addWarning(warning(this)));\n\n\t\tif (!this.isWithinRaidSim) {\n\t\t\t// This needs to go before all the UI components so that gear loading is the\n\t\t\t// first callback invoked from waitForInit().\n\t\t\tthis.sim.waitForInit().then(() => this.loadSettings());\n\t\t}\n\n\t\tthis.addSidebarComponents();\n\t\tthis.addTopbarComponents();\n\t\tthis.addGearTab();\n\t\tthis.addSettingsTab();\n\t\tthis.addTalentsTab();\n\n\t\tif (!this.isWithinRaidSim) {\n\t\t\tthis.addDetailedResultsTab();\n\t\t\tthis.addLogTab();\n\t\t}\n\n\t\tthis.player.changeEmitter.on(() => this.recomputeSettingsLayout());\n\t}\n\n\tprivate loadSettings() {\n\t\tconst initEventID = TypedEvent.nextEventID();\n\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\tlet loadedSettings = false;\n\n\t\t\tlet hash = window.location.hash;\n\t\t\tif (hash.length > 1) {\n\t\t\t\t// Remove leading '#'\n\t\t\t\thash = hash.substring(1);\n\t\t\t\ttry {\n\t\t\t\t\tconst binary = atob(hash);\n\t\t\t\t\tconst bytes = new Uint8Array(binary.length);\n\t\t\t\t\tfor (let i = 0; i < bytes.length; i++) {\n\t\t\t\t\t\tbytes[i] = binary.charCodeAt(i);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst settingsBytes = pako.inflate(bytes);\n\t\t\t\t\tconst settings = IndividualSimSettings.fromBinary(settingsBytes);\n\t\t\t\t\tthis.fromProto(initEventID, settings);\n\t\t\t\t\tloadedSettings = true;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('Failed to parse settings from window hash: ' + e);\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.location.hash = '';\n\n\t\t\tconst savedSettings = window.localStorage.getItem(this.getSettingsStorageKey());\n\t\t\tif (!loadedSettings && savedSettings != null) {\n\t\t\t\ttry {\n\t\t\t\t\tconst settings = IndividualSimSettings.fromJsonString(savedSettings);\n\t\t\t\t\tthis.fromProto(initEventID, settings);\n\t\t\t\t\tloadedSettings = true;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('Failed to parse saved settings: ' + e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!loadedSettings) {\n\t\t\t\tthis.applyDefaults(initEventID);\n\t\t\t}\n\t\t\tthis.player.setName(initEventID, 'Player');\n\n\t\t\t// This needs to go last so it doesn't re-store things as they are initialized.\n\t\t\tthis.changeEmitter.on(eventID => {\n\t\t\t\tconst jsonStr = IndividualSimSettings.toJsonString(this.toProto());\n\t\t\t\twindow.localStorage.setItem(this.getSettingsStorageKey(), jsonStr);\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate addSidebarComponents() {\n\t\tthis.raidSimResultsManager = addRaidSimAction(this);\n\t\taddStatWeightsAction(this, this.individualConfig.epStats, this.individualConfig.epReferenceStat);\n\n\t\tconst characterStats = new CharacterStats(\n\t\t\tthis.rootElem.getElementsByClassName('sim-sidebar-footer')[0] as HTMLElement,\n\t\t\tthis.player,\n\t\t\tthis.individualConfig.displayStats,\n\t\t\tthis.individualConfig.modifyDisplayStats);\n\t}\n\n\tprivate addTopbarComponents() {\n\t\tthis.addToolbarItem(newIndividualImporters(this));\n\t\tthis.addToolbarItem(newIndividualExporters(this));\n\n\t\tconst optionsMenu = document.createElement('span');\n\t\toptionsMenu.classList.add('fas', 'fa-cog');\n\t\ttippy(optionsMenu, {\n\t\t\t'content': 'Options',\n\t\t\t'allowHTML': true,\n\t\t});\n\t\toptionsMenu.addEventListener('click', event => {\n\t\t\tnew SettingsMenu(this.rootElem, this);\n\t\t});\n\t\tthis.addToolbarItem(optionsMenu);\n\t}\n\n\tprivate addGearTab() {\n\t\tthis.addTab('GEAR', 'gear-tab', `\n\t\t\t<div class=\"gear-tab-columns\">\n\t\t\t\t<div class=\"left-gear-panel\">\n\t\t\t\t\t<div class=\"gear-picker\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"right-gear-panel\">\n\t\t\t\t\t<div class=\"bonus-stats-picker\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"saved-gear-manager\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\tconst gearPicker = new GearPicker(this.rootElem.getElementsByClassName('gear-picker')[0] as HTMLElement, this.player);\n\t\tconst bonusStatsPicker = new BonusStatsPicker(this.rootElem.getElementsByClassName('bonus-stats-picker')[0] as HTMLElement, this.player, this.individualConfig.epStats);\n\n\t\tconst savedGearManager = new SavedDataManager<Player<any>, SavedGearSet>(this.rootElem.getElementsByClassName('saved-gear-manager')[0] as HTMLElement, this.player, {\n\t\t\tlabel: 'Gear',\n\t\t\tstorageKey: this.getSavedGearStorageKey(),\n\t\t\tgetData: (player: Player<any>) => {\n\t\t\t\treturn SavedGearSet.create({\n\t\t\t\t\tgear: player.getGear().asSpec(),\n\t\t\t\t\tbonusStats: player.getBonusStats().asArray(),\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetData: (eventID: EventID, player: Player<any>, newSavedGear: SavedGearSet) => {\n\t\t\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\t\t\tplayer.setGear(eventID, this.sim.lookupEquipmentSpec(newSavedGear.gear || EquipmentSpec.create()));\n\t\t\t\t\tplayer.setBonusStats(eventID, new Stats(newSavedGear.bonusStats || []));\n\t\t\t\t});\n\t\t\t},\n\t\t\tchangeEmitters: [this.player.changeEmitter],\n\t\t\tequals: (a: SavedGearSet, b: SavedGearSet) => SavedGearSet.equals(a, b),\n\t\t\ttoJson: (a: SavedGearSet) => SavedGearSet.toJson(a),\n\t\t\tfromJson: (obj: any) => SavedGearSet.fromJson(obj),\n\t\t});\n\n\t\tthis.sim.waitForInit().then(() => {\n\t\t\tsavedGearManager.loadUserData();\n\t\t\tthis.individualConfig.presets.gear.forEach(presetGear => {\n\t\t\t\tsavedGearManager.addSavedData({\n\t\t\t\t\tname: presetGear.name,\n\t\t\t\t\ttooltip: presetGear.tooltip,\n\t\t\t\t\tisPreset: true,\n\t\t\t\t\tdata: SavedGearSet.create({\n\t\t\t\t\t\t// Convert to gear and back so order is always the same.\n\t\t\t\t\t\tgear: this.sim.lookupEquipmentSpec(presetGear.gear).asSpec(),\n\t\t\t\t\t\tbonusStats: new Stats().asArray(),\n\t\t\t\t\t}),\n\t\t\t\t\tenableWhen: presetGear.enableWhen,\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\n\tprivate addSettingsTab() {\n\t\tthis.addTab('SETTINGS', 'settings-tab', `\n\t\t\t<div class=\"settings-inputs\">\n\t\t\t\t<div class=\"settings-section-container\">\n\t\t\t\t\t<fieldset class=\"settings-section encounter-section within-raid-sim-hide\">\n\t\t\t\t\t\t<legend>Encounter</legend>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset class=\"settings-section race-section\">\n\t\t\t\t\t\t<legend>Player</legend>\n\t\t\t\t\t\t<div class=\"settings-section-iconrow player-iconrow\"></div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset class=\"settings-section rotation-section\">\n\t\t\t\t\t\t<legend>Rotation</legend>\n\t\t\t\t\t\t<div class=\"settings-section-iconrow rotation-iconrow\"></div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"settings-section-container custom-sections-container\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"settings-section-container labeled-icon-section within-raid-sim-hide\">\n\t\t\t\t\t<fieldset class=\"settings-section buffs-section\">\n\t\t\t\t\t\t<legend>Raid Buffs</legend>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset class=\"settings-section debuffs-section\">\n\t\t\t\t\t\t<legend>Debuffs</legend>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"settings-section-container\">\n\t\t\t\t\t<fieldset class=\"settings-section new-consumes-section\">\n\t\t\t\t\t\t<legend>Consumes</legend>\n\t\t\t\t\t\t<div class=\"consumes-row\">\n\t\t\t\t\t\t\t<span>Potions</span>\n\t\t\t\t\t\t\t<div class=\"consumes-row-inputs\">\n\t\t\t\t\t\t\t\t<div class=\"consumes-prepot\"></div>\n\t\t\t\t\t\t\t\t<div class=\"consumes-potions\"></div>\n\t\t\t\t\t\t\t\t<div class=\"consumes-conjured\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"consumes-row\">\n\t\t\t\t\t\t\t<span>Elixirs</span>\n\t\t\t\t\t\t\t<div class=\"consumes-row-inputs\">\n\t\t\t\t\t\t\t\t<div class=\"consumes-flasks\"></div>\n\t\t\t\t\t\t\t\t<span>OR</span>\n\t\t\t\t\t\t\t\t<div class=\"consumes-battle-elixirs\"></div>\n\t\t\t\t\t\t\t\t<div class=\"consumes-guardian-elixirs\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"consumes-row\">\n\t\t\t\t\t\t\t<span>Food</span>\n\t\t\t\t\t\t\t<div class=\"consumes-row-inputs\">\n\t\t\t\t\t\t\t\t<div class=\"consumes-food\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"consumes-row\">\n\t\t\t\t\t\t\t<span>Eng</span>\n\t\t\t\t\t\t\t<div class=\"consumes-row-inputs consumes-trade\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"consumes-row consumes-row-pet\">\n\t\t\t\t\t\t\t<span>Pet</span>\n\t\t\t\t\t\t\t<div class=\"consumes-row-inputs consumes-pet\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"consumes-row\">\n\t\t\t\t\t\t\t<div class=\"consumes-row-inputs consumes-other\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"settings-section-container cooldowns-section-container\">\n\t\t\t\t\t<fieldset class=\"settings-section cooldowns-section\">\n\t\t\t\t\t\t<legend>Cooldowns</legend>\n\t\t\t\t\t\t<div class=\"cooldowns-section-content\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset class=\"settings-section other-settings-section\">\n\t\t\t\t\t\t<legend>Other</legend>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"settings-bottom-bar\">\n\t\t\t\t<div class=\"saved-encounter-manager within-raid-sim-hide\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"saved-settings-manager within-raid-sim-hide\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\tconst settingsTab = this.rootElem.getElementsByClassName('settings-inputs')[0] as HTMLElement;\n\n\t\tconst configureIconSection = (sectionElem: HTMLElement, iconPickers: Array<any>, tooltip?: string, adjustColumns?: boolean) => {\n\t\t\tif (tooltip) {\n\t\t\t\ttippy(sectionElem, {\n\t\t\t\t\t'content': tooltip,\n\t\t\t\t\t'allowHTML': true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (iconPickers.length == 0) {\n\t\t\t\tsectionElem.style.display = 'none';\n\t\t\t} else if (adjustColumns) {\n\t\t\t\tif (iconPickers.length < 4) {\n\t\t\t\t\tsectionElem.style.gridTemplateColumns = `repeat(${iconPickers.length}, 1fr)`;\n\t\t\t\t} else if (iconPickers.length > 4 && iconPickers.length < 8) {\n\t\t\t\t\tsectionElem.style.gridTemplateColumns = `repeat(${Math.ceil(iconPickers.length / 2)}, 1fr)`;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst makeIconInput = (parent: HTMLElement, inputConfig: IconInputConfig<Player<SpecType>, any>) => {\n\t\t\tif (inputConfig.type == 'icon') {\n\t\t\t\treturn new IconPicker<Player<SpecType>, any>(parent, this.player, inputConfig);\n\t\t\t} else if (inputConfig.type == 'iconEnum') {\n\t\t\t\treturn new IconEnumPicker<Player<SpecType>, any>(parent, this.player, inputConfig);\n\t\t\t}\n\t\t};\n\n\t\tconst playerIconsSection = this.rootElem.getElementsByClassName('player-iconrow')[0] as HTMLElement;\n\t\tconfigureIconSection(\n\t\t\tplayerIconsSection,\n\t\t\tthis.individualConfig.playerIconInputs.map(iconInput => makeIconInput(playerIconsSection, iconInput)),\n\t\t\t'', true);\n\n\t\tconst buffOptions = this.splitRelevantOptions([\n\t\t\t{ item: IconInputs.AllStatsBuff, stats: [] },\n\t\t\t{ item: IconInputs.AllStatsPercentBuff, stats: [] },\n\t\t\t{ item: IconInputs.HealthBuff, stats: [Stat.StatHealth] },\n\t\t\t{ item: IconInputs.ArmorBuff, stats: [Stat.StatArmor] },\n\t\t\t{ item: IconInputs.StaminaBuff, stats: [Stat.StatStamina] },\n\t\t\t{ item: IconInputs.StrengthAndAgilityBuff, stats: [Stat.StatStrength, Stat.StatAgility] },\n\t\t\t{ item: IconInputs.IntellectBuff, stats: [Stat.StatIntellect] },\n\t\t\t{ item: IconInputs.SpiritBuff, stats: [Stat.StatSpirit] },\n\t\t\t{ item: IconInputs.AttackPowerBuff, stats: [Stat.StatAttackPower] },\n\t\t\t{ item: IconInputs.AttackPowerPercentBuff, stats: [Stat.StatAttackPower] },\n\t\t\t{ item: IconInputs.MeleeCritBuff, stats: [Stat.StatMeleeCrit] },\n\t\t\t{ item: IconInputs.MeleeHasteBuff, stats: [Stat.StatMeleeHaste] },\n\t\t\t{ item: IconInputs.SpellPowerBuff, stats: [Stat.StatSpellPower] },\n\t\t\t{ item: IconInputs.SpellCritBuff, stats: [Stat.StatSpellCrit] },\n\t\t\t{ item: IconInputs.HastePercentBuff, stats: [Stat.StatMeleeHaste, Stat.StatSpellHaste] },\n\t\t\t{ item: IconInputs.DamagePercentBuff, stats: [Stat.StatAttackPower, Stat.StatSpellPower] },\n\t\t\t{ item: IconInputs.DamageReductionPercentBuff, stats: [Stat.StatArmor] },\n\t\t\t{ item: IconInputs.MP5Buff, stats: [Stat.StatMP5] },\n\t\t\t{ item: IconInputs.ReplenishmentBuff, stats: [Stat.StatMP5] },\n\t\t]);\n\t\tconst buffsSection = this.rootElem.getElementsByClassName('buffs-section')[0] as HTMLElement;\n\t\tconfigureIconSection(\n\t\t\tbuffsSection,\n\t\t\tbuffOptions.map(multiIconInput => new MultiIconPicker(buffsSection, this.player, multiIconInput, this)),\n\t\t\tTooltips.OTHER_BUFFS_SECTION);\n\n\t\tconst otherBuffOptions = this.splitRelevantOptions([\n\t\t\t{ item: IconInputs.Bloodlust, stats: [Stat.StatMeleeHaste, Stat.StatSpellHaste] },\n\t\t\t{ item: IconInputs.SpellHasteBuff, stats: [Stat.StatSpellHaste] },\n\t\t] as Array<StatOption<IconInputConfig<Player<any>, any>>>);\n\t\totherBuffOptions.forEach(iconInput => makeIconInput(buffsSection, iconInput));\n\n\t\tconst miscBuffOptions = this.splitRelevantOptions([\n\t\t\t{ item: IconInputs.HeroicPresence, stats: [Stat.StatMeleeHit, Stat.StatSpellHit] },\n\t\t\t{ item: IconInputs.BraidedEterniumChain, stats: [Stat.StatMeleeCrit] },\n\t\t\t{ item: IconInputs.ChainOfTheTwilightOwl, stats: [Stat.StatSpellCrit] },\n\t\t\t{ item: IconInputs.EyeOfTheNight, stats: [Stat.StatSpellPower] },\n\t\t\t{ item: IconInputs.Thorns, stats: [Stat.StatArmor] },\n\t\t\t{ item: IconInputs.RetributionAura, stats: [Stat.StatArmor] },\n\t\t\t{ item: IconInputs.ShadowProtection, stats: [Stat.StatStamina] },\n\t\t\t{ item: IconInputs.ManaTideTotem, stats: [Stat.StatMP5] },\n\t\t\t{ item: IconInputs.Innervate, stats: [Stat.StatMP5] },\n\t\t\t{ item: IconInputs.PowerInfusion, stats: [Stat.StatMP5, Stat.StatSpellPower] },\n\t\t\t{ item: IconInputs.TricksOfTheTrade, stats: [Stat.StatAttackPower, Stat.StatSpellPower] },\n\t\t\t{ item: IconInputs.UnholyFrenzy, stats: [Stat.StatAttackPower] },\n\t\t] as Array<StatOption<IconPickerConfig<Player<any>, any>>>);\n\t\tif (miscBuffOptions.length > 0) {\n\t\t\tnew MultiIconPicker(buffsSection, this.player, {\n\t\t\t\tinputs: miscBuffOptions,\n\t\t\t\tnumColumns: 3,\n\t\t\t\temptyColor: 'grey',\n\t\t\t\tlabel: 'Misc',\n\t\t\t}, this);\n\t\t}\n\n\t\tconst debuffOptions = this.splitRelevantOptions([\n\t\t\t{ item: IconInputs.MajorArmorDebuff, stats: [Stat.StatArmorPenetration] },\n\t\t\t{ item: IconInputs.MinorArmorDebuff, stats: [Stat.StatArmorPenetration] },\n\t\t\t{ item: IconInputs.PhysicalDamageDebuff, stats: [Stat.StatAttackPower] },\n\t\t\t{ item: IconInputs.BleedDebuff, stats: [Stat.StatAttackPower] },\n\t\t\t{ item: IconInputs.SpellDamageDebuff, stats: [Stat.StatSpellPower] },\n\t\t\t{ item: IconInputs.SpellHitDebuff, stats: [Stat.StatSpellHit] },\n\t\t\t{ item: IconInputs.SpellCritDebuff, stats: [Stat.StatSpellCrit] },\n\t\t\t{ item: IconInputs.CritDebuff, stats: [Stat.StatMeleeCrit, Stat.StatSpellCrit] },\n\t\t\t{ item: IconInputs.AttackPowerDebuff, stats: [Stat.StatArmor] },\n\t\t\t{ item: IconInputs.MeleeAttackSpeedDebuff, stats: [Stat.StatArmor] },\n\t\t\t{ item: IconInputs.MeleeHitDebuff, stats: [Stat.StatDodge] },\n\t\t]);\n\t\tconst debuffsSection = this.rootElem.getElementsByClassName('debuffs-section')[0] as HTMLElement;\n\t\tconfigureIconSection(\n\t\t\tdebuffsSection,\n\t\t\tdebuffOptions.map(multiIconInput => new MultiIconPicker(debuffsSection, this.player, multiIconInput, this)),\n\t\t\tTooltips.DEBUFFS_SECTION);\n\n\t\tconst otherDebuffOptions = this.splitRelevantOptions([\n\t\t\t{ item: IconInputs.JudgementOfWisdom, stats: [Stat.StatMP5, Stat.StatIntellect] },\n\t\t\t{ item: IconInputs.HuntersMark, stats: [Stat.StatRangedAttackPower] },\n\t\t] as Array<StatOption<InputHelpers.TypedIconPickerConfig<Player<any>, any>>>);\n\t\totherDebuffOptions.forEach(iconInput => makeIconInput(debuffsSection, iconInput));\n\n\t\tconst miscDebuffOptions = this.splitRelevantOptions([\n\t\t\t{ item: IconInputs.JudgementOfLight, stats: [Stat.StatStamina] },\n\t\t\t{ item: IconInputs.ShatteringThrow, stats: [Stat.StatArmorPenetration] },\n\t\t\t{ item: IconInputs.GiftOfArthas, stats: [Stat.StatAttackPower] },\n\t\t] as Array<StatOption<IconPickerConfig<Player<any>, any>>>);\n\t\tif (miscDebuffOptions.length > 0) {\n\t\t\tnew MultiIconPicker(debuffsSection, this.player, {\n\t\t\t\tinputs: miscDebuffOptions,\n\t\t\t\tnumColumns: 3,\n\t\t\t\temptyColor: 'grey',\n\t\t\t\tlabel: 'Misc',\n\t\t\t}, this);\n\t\t}\n\n\t\tconst prepopPotionOptions = this.splitRelevantOptions([\n\t\t\t// This list is smaller because some potions don't make sense to use as prepot.\n\t\t\t// E.g. healing/mana potions.\n\t\t\t{ item: Potions.IndestructiblePotion, stats: [Stat.StatArmor] },\n\t\t\t{ item: Potions.PotionOfSpeed, stats: [Stat.StatMeleeHaste, Stat.StatSpellHaste] },\n\t\t\t{ item: Potions.PotionOfWildMagic, stats: [Stat.StatMeleeCrit, Stat.StatSpellCrit, Stat.StatSpellPower] },\n\t\t]);\n\t\tif (prepopPotionOptions.length) {\n\t\t\tconst elem = this.rootElem.getElementsByClassName('consumes-prepot')[0] as HTMLElement;\n\t\t\tnew IconEnumPicker(elem, this.player, IconInputs.makePrepopPotionsInput(prepopPotionOptions));\n\t\t\ttippy(elem, {\n\t\t\t\t'content': 'Prepop Potion (1s before combat)',\n\t\t\t\t'allowHTML': true,\n\t\t\t});\n\t\t}\n\n\t\tconst potionOptions = this.splitRelevantOptions([\n\t\t\t{ item: Potions.RunicHealingPotion, stats: [Stat.StatStamina] },\n\t\t\t{ item: Potions.RunicManaPotion, stats: [Stat.StatIntellect] },\n\t\t\t{ item: Potions.IndestructiblePotion, stats: [Stat.StatArmor] },\n\t\t\t{ item: Potions.PotionOfSpeed, stats: [Stat.StatMeleeHaste, Stat.StatSpellHaste] },\n\t\t\t{ item: Potions.PotionOfWildMagic, stats: [Stat.StatMeleeCrit, Stat.StatSpellCrit, Stat.StatSpellPower] },\n\t\t]);\n\t\tif (potionOptions.length) {\n\t\t\tconst elem = this.rootElem.getElementsByClassName('consumes-potions')[0] as HTMLElement;\n\t\t\tnew IconEnumPicker(elem, this.player, IconInputs.makePotionsInput(potionOptions));\n\t\t\ttippy(elem, {\n\t\t\t\t'content': 'Combat Potion',\n\t\t\t\t'allowHTML': true,\n\t\t\t});\n\t\t}\n\n\t\tconst conjuredOptions = this.splitRelevantOptions([\n\t\t\tthis.player.getClass() == Class.ClassRogue ? { item: Conjured.ConjuredRogueThistleTea, stats: [] } : null,\n\t\t\t{ item: Conjured.ConjuredHealthstone, stats: [Stat.StatStamina] },\n\t\t\t{ item: Conjured.ConjuredDarkRune, stats: [Stat.StatIntellect] },\n\t\t\t{ item: Conjured.ConjuredFlameCap, stats: [Stat.StatStrength, Stat.StatAgility, Stat.StatFireSpellPower] },\n\t\t]);\n\t\tif (conjuredOptions.length) {\n\t\t\tconst elem = this.rootElem.getElementsByClassName('consumes-conjured')[0] as HTMLElement;\n\t\t\tnew IconEnumPicker(elem, this.player, IconInputs.makeConjuredInput(conjuredOptions));\n\t\t}\n\n\t\tconst flaskOptions = this.splitRelevantOptions([\n\t\t\t{ item: Flask.FlaskOfTheFrostWyrm, stats: [Stat.StatSpellPower] },\n\t\t\t{ item: Flask.FlaskOfEndlessRage, stats: [Stat.StatAttackPower, Stat.StatRangedAttackPower] },\n\t\t\t{ item: Flask.FlaskOfPureMojo, stats: [Stat.StatMP5] },\n\t\t\t{ item: Flask.FlaskOfStoneblood, stats: [Stat.StatStamina] },\n\t\t\t{ item: Flask.LesserFlaskOfToughness, stats: [Stat.StatResilience] },\n\t\t\t{ item: Flask.LesserFlaskOfResistance, stats: [Stat.StatArcaneResistance, Stat.StatFireResistance, Stat.StatFrostResistance, Stat.StatNatureResistance, Stat.StatShadowResistance] },\n\t\t]);\n\t\tif (flaskOptions.length) {\n\t\t\tconst elem = this.rootElem.getElementsByClassName('consumes-flasks')[0] as HTMLElement;\n\t\t\tnew IconEnumPicker(elem, this.player, IconInputs.makeFlasksInput(flaskOptions));\n\t\t}\n\n\t\tconst battleElixirOptions = this.splitRelevantOptions([\n\t\t\t{ item: BattleElixir.ElixirOfAccuracy, stats: [Stat.StatMeleeHit, Stat.StatSpellHit] },\n\t\t\t{ item: BattleElixir.ElixirOfArmorPiercing, stats: [Stat.StatArmorPenetration] },\n\t\t\t{ item: BattleElixir.ElixirOfDeadlyStrikes, stats: [Stat.StatMeleeCrit, Stat.StatSpellCrit] },\n\t\t\t{ item: BattleElixir.ElixirOfExpertise, stats: [Stat.StatExpertise] },\n\t\t\t{ item: BattleElixir.ElixirOfLightningSpeed, stats: [Stat.StatMeleeHaste, Stat.StatSpellHaste] },\n\t\t\t{ item: BattleElixir.ElixirOfMightyAgility, stats: [Stat.StatAgility] },\n\t\t\t{ item: BattleElixir.ElixirOfMightyStrength, stats: [Stat.StatStrength] },\n\t\t\t{ item: BattleElixir.GurusElixir, stats: [Stat.StatStamina, Stat.StatAgility, Stat.StatStrength, Stat.StatSpirit, Stat.StatIntellect] },\n\t\t\t{ item: BattleElixir.SpellpowerElixir, stats: [Stat.StatSpellPower] },\n\t\t\t{ item: BattleElixir.WrathElixir, stats: [Stat.StatAttackPower, Stat.StatRangedAttackPower] },\n\t\t]);\n\t\tif (battleElixirOptions.length) {\n\t\t\tconst elem = this.rootElem.getElementsByClassName('consumes-battle-elixirs')[0] as HTMLElement;\n\t\t\tnew IconEnumPicker(elem, this.player, IconInputs.makeBattleElixirsInput(battleElixirOptions));\n\t\t}\n\n\t\tconst guardianElixirOptions = this.splitRelevantOptions([\n\t\t\t{ item: GuardianElixir.ElixirOfMightyDefense, stats: [Stat.StatDefense] },\n\t\t\t{ item: GuardianElixir.ElixirOfMightyFortitude, stats: [Stat.StatStamina] },\n\t\t\t{ item: GuardianElixir.ElixirOfMightyMageblood, stats: [Stat.StatMP5] },\n\t\t\t{ item: GuardianElixir.ElixirOfMightyThoughts, stats: [Stat.StatIntellect] },\n\t\t\t{ item: GuardianElixir.ElixirOfProtection, stats: [Stat.StatArmor] },\n\t\t\t{ item: GuardianElixir.ElixirOfSpirit, stats: [Stat.StatSpirit] },\n\t\t\t{ item: GuardianElixir.GiftOfArthas, stats: [Stat.StatStamina] },\n\t\t]);\n\t\tif (guardianElixirOptions.length) {\n\t\t\tconst elem = this.rootElem.getElementsByClassName('consumes-guardian-elixirs')[0] as HTMLElement;\n\t\t\tnew IconEnumPicker(elem, this.player, IconInputs.makeGuardianElixirsInput(guardianElixirOptions));\n\t\t}\n\n\t\tconst foodOptions = this.splitRelevantOptions([\n\t\t\t{ item: Food.FoodFishFeast, stats: [Stat.StatStamina, Stat.StatAttackPower, Stat.StatSpellPower] },\n\t\t\t{ item: Food.FoodGreatFeast, stats: [Stat.StatStamina, Stat.StatAttackPower, Stat.StatSpellPower] },\n\t\t\t{ item: Food.FoodBlackenedDragonfin, stats: [Stat.StatAgility] },\n\t\t\t{ item: Food.FoodDragonfinFilet, stats: [Stat.StatStrength] },\n\t\t\t{ item: Food.FoodCuttlesteak, stats: [Stat.StatSpirit] },\n\t\t\t{ item: Food.FoodMegaMammothMeal, stats: [Stat.StatAttackPower] },\n\t\t\t{ item: Food.FoodHeartyRhino, stats: [Stat.StatArmorPenetration] },\n\t\t\t{ item: Food.FoodRhinoliciousWormsteak, stats: [Stat.StatExpertise] },\n\t\t\t{ item: Food.FoodFirecrackerSalmon, stats: [Stat.StatSpellPower] },\n\t\t\t{ item: Food.FoodSnapperExtreme, stats: [Stat.StatMeleeHit, Stat.StatSpellHit] },\n\t\t\t{ item: Food.FoodSpicedWormBurger, stats: [Stat.StatMeleeCrit, Stat.StatSpellCrit] },\n\t\t\t{ item: Food.FoodImperialMantaSteak, stats: [Stat.StatMeleeHaste, Stat.StatSpellHaste] },\n\t\t\t{ item: Food.FoodMightyRhinoDogs, stats: [Stat.StatMP5] },\n\t\t]);\n\t\tif (foodOptions.length) {\n\t\t\tconst elem = this.rootElem.getElementsByClassName('consumes-food')[0] as HTMLElement;\n\t\t\tnew IconEnumPicker(elem, this.player, IconInputs.makeFoodInput(foodOptions));\n\t\t}\n\n\t\tconst tradeConsumesElem = this.rootElem.getElementsByClassName('consumes-trade')[0] as HTMLElement;\n\t\t//tradeConsumesElem.parentElement!.style.display = 'none';\n\t\tmakeIconInput(tradeConsumesElem, IconInputs.ThermalSapper);\n\t\tmakeIconInput(tradeConsumesElem, IconInputs.ExplosiveDecoy);\n\t\tmakeIconInput(tradeConsumesElem, IconInputs.FillerExplosiveInput);\n\n\t\tconst updateProfession = () => {\n\t\t\tif (this.player.hasProfession(Profession.Engineering)) {\n\t\t\t\ttradeConsumesElem.parentElement!.style.removeProperty('display');\n\t\t\t} else {\n\t\t\t\ttradeConsumesElem.parentElement!.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tthis.player.professionChangeEmitter.on(updateProfession);\n\t\tupdateProfession();\n\n\t\tif (this.individualConfig.petConsumeInputs?.length) {\n\t\t\tconst petConsumesElem = this.rootElem.getElementsByClassName('consumes-pet')[0] as HTMLElement;\n\t\t\tthis.individualConfig.petConsumeInputs.map(iconInput => makeIconInput(petConsumesElem, iconInput));\n\t\t} else {\n\t\t\tconst petRowElem = this.rootElem.getElementsByClassName('consumes-row-pet')[0] as HTMLElement;\n\t\t\tpetRowElem.style.display = 'none';\n\t\t}\n\n\t\tconst configureInputSection = (sectionElem: HTMLElement, sectionConfig: InputSection) => {\n\t\t\tif (sectionConfig.tooltip) {\n\t\t\t\ttippy(sectionElem, {\n\t\t\t\t\t'content': sectionConfig.tooltip,\n\t\t\t\t\t'allowHTML': true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsectionConfig.inputs.forEach(inputConfig => {\n\t\t\t\tif (inputConfig.type == 'number') {\n\t\t\t\t\tnew NumberPicker(sectionElem, this.player, inputConfig);\n\t\t\t\t} else if (inputConfig.type == 'boolean') {\n\t\t\t\t\tnew BooleanPicker(sectionElem, this.player, inputConfig);\n\t\t\t\t} else if (inputConfig.type == 'enum') {\n\t\t\t\t\tnew EnumPicker(sectionElem, this.player, inputConfig);\n\t\t\t\t} else if (inputConfig.type == 'customRotation') {\n\t\t\t\t\tnew CustomRotationPicker(sectionElem, this.player, inputConfig);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tif (this.individualConfig.rotationIconInputs?.length) {\n\t\t\tconst rotationIconSection = this.rootElem.getElementsByClassName('rotation-iconrow')[0] as HTMLElement;\n\t\t\tconfigureIconSection(\n\t\t\t\trotationIconSection,\n\t\t\t\tthis.individualConfig.rotationIconInputs.map(iconInput => makeIconInput(rotationIconSection, iconInput)),\n\t\t\t\t'', true);\n\t\t}\n\n\n\t\tconfigureInputSection(this.rootElem.getElementsByClassName('rotation-section')[0] as HTMLElement, this.individualConfig.rotationInputs);\n\n\t\tif (this.individualConfig.otherInputs?.inputs.length) {\n\t\t\tconfigureInputSection(this.rootElem.getElementsByClassName('other-settings-section')[0] as HTMLElement, this.individualConfig.otherInputs);\n\t\t}\n\n\t\tconst races = specToEligibleRaces[this.player.spec];\n\t\tconst racePicker = new EnumPicker(this.rootElem.getElementsByClassName('race-section')[0] as HTMLElement, this.player, {\n\t\t\tlabel: 'Race',\n\t\t\tvalues: races.map(race => {\n\t\t\t\treturn {\n\t\t\t\t\tname: raceNames[race],\n\t\t\t\t\tvalue: race,\n\t\t\t\t};\n\t\t\t}),\n\t\t\tchangedEvent: sim => sim.raceChangeEmitter,\n\t\t\tgetValue: sim => sim.getRace(),\n\t\t\tsetValue: (eventID, sim, newValue) => sim.setRace(eventID, newValue),\n\t\t});\n\t\tconst professions = getEnumValues(Profession) as Array<Profession>;\n\t\tconst profession1Picker = new EnumPicker(this.rootElem.getElementsByClassName('race-section')[0] as HTMLElement, this.player, {\n\t\t\tlabel: 'Profession 1',\n\t\t\tvalues: professions.map(p => {\n\t\t\t\treturn {\n\t\t\t\t\tname: professionNames[p],\n\t\t\t\t\tvalue: p,\n\t\t\t\t};\n\t\t\t}),\n\t\t\tchangedEvent: sim => sim.professionChangeEmitter,\n\t\t\tgetValue: sim => sim.getProfession1(),\n\t\t\tsetValue: (eventID, sim, newValue) => sim.setProfession1(eventID, newValue),\n\t\t});\n\t\tconst profession2Picker = new EnumPicker(this.rootElem.getElementsByClassName('race-section')[0] as HTMLElement, this.player, {\n\t\t\tlabel: 'Profession 2',\n\t\t\tvalues: professions.map(p => {\n\t\t\t\treturn {\n\t\t\t\t\tname: professionNames[p],\n\t\t\t\t\tvalue: p,\n\t\t\t\t};\n\t\t\t}),\n\t\t\tchangedEvent: sim => sim.professionChangeEmitter,\n\t\t\tgetValue: sim => sim.getProfession2(),\n\t\t\tsetValue: (eventID, sim, newValue) => sim.setProfession2(eventID, newValue),\n\t\t});\n\t\tconst shattFactionPicker = new EnumPicker(this.rootElem.getElementsByClassName('race-section')[0] as HTMLElement, this.player, {\n\t\t\tlabel: 'Shatt Faction',\n\t\t\tvalues: [ShattrathFaction.ShattrathFactionAldor, ShattrathFaction.ShattrathFactionScryer].map(faction => {\n\t\t\t\treturn {\n\t\t\t\t\tname: shattFactionNames[faction],\n\t\t\t\t\tvalue: faction,\n\t\t\t\t};\n\t\t\t}),\n\t\t\tchangedEvent: sim => sim.gearChangeEmitter,\n\t\t\tgetValue: sim => sim.getShattFaction(),\n\t\t\tsetValue: (eventID, sim, newValue) => sim.setShattFaction(eventID, newValue),\n\t\t\tshowWhen: (player: Player<any>) => this.player.getEquippedItem(ItemSlot.ItemSlotNeck)?.item.id == 34678 || this.player.getEquippedItem(ItemSlot.ItemSlotNeck)?.item.id == 34679,\n\t\t});\n\n\t\tconst encounterSectionElem = settingsTab.getElementsByClassName('encounter-section')[0] as HTMLElement;\n\t\tnew EncounterPicker(encounterSectionElem, this.sim.encounter, this.individualConfig.encounterPicker, this);\n\t\tconst savedEncounterManager = new SavedDataManager<Encounter, SavedEncounter>(this.rootElem.getElementsByClassName('saved-encounter-manager')[0] as HTMLElement, this.sim.encounter, {\n\t\t\tlabel: 'Encounter',\n\t\t\tstorageKey: this.getSavedEncounterStorageKey(),\n\t\t\tgetData: (encounter: Encounter) => SavedEncounter.create({ encounter: encounter.toProto() }),\n\t\t\tsetData: (eventID: EventID, encounter: Encounter, newEncounter: SavedEncounter) => encounter.fromProto(eventID, newEncounter.encounter!),\n\t\t\tchangeEmitters: [this.sim.encounter.changeEmitter],\n\t\t\tequals: (a: SavedEncounter, b: SavedEncounter) => SavedEncounter.equals(a, b),\n\t\t\ttoJson: (a: SavedEncounter) => SavedEncounter.toJson(a),\n\t\t\tfromJson: (obj: any) => SavedEncounter.fromJson(obj),\n\t\t});\n\n\t\tconst cooldownSectionElem = settingsTab.getElementsByClassName('cooldowns-section')[0] as HTMLElement;\n\t\tconst cooldownContentElem = settingsTab.getElementsByClassName('cooldowns-section-content')[0] as HTMLElement;\n\t\tnew CooldownsPicker(cooldownContentElem, this.player);\n\t\ttippy(cooldownSectionElem, {\n\t\t\tcontent: Tooltips.COOLDOWNS_SECTION,\n\t\t\tallowHTML: true,\n\t\t\tplacement: 'left',\n\t\t});\n\n\t\t// Init Muuri layout only when settings tab is clicked, because it needs the elements\n\t\t// to be shown so it can calculate sizes.\n\t\t(this.rootElem.getElementsByClassName('settings-tab-tab')[0] as HTMLElement)!.addEventListener('click', event => {\n\t\t\tif (this.settingsMuuri == null) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.settingsMuuri = new Muuri('.settings-inputs');\n\t\t\t\t}, 200); // Magic amount of time before Muuri init seems to work\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.recomputeSettingsLayout();\n\t\t\t}, 200);\n\t\t});\n\n\t\tconst savedSettingsManager = new SavedDataManager<IndividualSimUI<any>, SavedSettings>(this.rootElem.getElementsByClassName('saved-settings-manager')[0] as HTMLElement, this, {\n\t\t\tlabel: 'Settings',\n\t\t\tstorageKey: this.getSavedSettingsStorageKey(),\n\t\t\tgetData: (simUI: IndividualSimUI<any>) => {\n\t\t\t\treturn SavedSettings.create({\n\t\t\t\t\traidBuffs: simUI.sim.raid.getBuffs(),\n\t\t\t\t\tpartyBuffs: simUI.player.getParty()?.getBuffs() || PartyBuffs.create(),\n\t\t\t\t\tplayerBuffs: simUI.player.getBuffs(),\n\t\t\t\t\tdebuffs: simUI.sim.raid.getDebuffs(),\n\t\t\t\t\tconsumes: simUI.player.getConsumes(),\n\t\t\t\t\trace: simUI.player.getRace(),\n\t\t\t\t\tcooldowns: simUI.player.getCooldowns(),\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetData: (eventID: EventID, simUI: IndividualSimUI<any>, newSettings: SavedSettings) => {\n\t\t\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\t\t\tsimUI.sim.raid.setBuffs(eventID, newSettings.raidBuffs || RaidBuffs.create());\n\t\t\t\t\tsimUI.sim.raid.setDebuffs(eventID, newSettings.debuffs || Debuffs.create());\n\t\t\t\t\tconst party = simUI.player.getParty();\n\t\t\t\t\tif (party) {\n\t\t\t\t\t\tparty.setBuffs(eventID, newSettings.partyBuffs || PartyBuffs.create());\n\t\t\t\t\t}\n\t\t\t\t\tsimUI.player.setBuffs(eventID, newSettings.playerBuffs || IndividualBuffs.create());\n\t\t\t\t\tsimUI.player.setConsumes(eventID, newSettings.consumes || Consumes.create());\n\t\t\t\t\tsimUI.player.setRace(eventID, newSettings.race);\n\t\t\t\t\tsimUI.player.setCooldowns(eventID, newSettings.cooldowns || Cooldowns.create());\n\t\t\t\t});\n\t\t\t},\n\t\t\tchangeEmitters: [\n\t\t\t\tthis.sim.raid.buffsChangeEmitter,\n\t\t\t\tthis.sim.raid.debuffsChangeEmitter,\n\t\t\t\tthis.player.getParty()!.buffsChangeEmitter,\n\t\t\t\tthis.player.buffsChangeEmitter,\n\t\t\t\tthis.player.consumesChangeEmitter,\n\t\t\t\tthis.player.raceChangeEmitter,\n\t\t\t\tthis.player.cooldownsChangeEmitter,\n\t\t\t],\n\t\t\tequals: (a: SavedSettings, b: SavedSettings) => SavedSettings.equals(a, b),\n\t\t\ttoJson: (a: SavedSettings) => SavedSettings.toJson(a),\n\t\t\tfromJson: (obj: any) => SavedSettings.fromJson(obj),\n\t\t});\n\n\t\tconst customSectionsContainer = this.rootElem.getElementsByClassName('custom-sections-container')[0] as HTMLElement;\n\t\tlet anyCustomSections = false;\n\t\tfor (const [sectionName, sectionConfig] of Object.entries(this.individualConfig.additionalSections || {})) {\n\t\t\tconst sectionCssPrefix = sectionName.replace(/\\s+/g, '');\n\t\t\tconst sectionElem = document.createElement('fieldset');\n\t\t\tsectionElem.classList.add('settings-section', sectionCssPrefix + '-section');\n\t\t\tsectionElem.innerHTML = `<legend>${sectionName}</legend>`;\n\t\t\tcustomSectionsContainer.appendChild(sectionElem);\n\t\t\tconfigureInputSection(sectionElem, sectionConfig);\n\t\t\tanyCustomSections = true;\n\t\t};\n\n\t\tfor (const [sectionName, sectionConfig] of Object.entries(this.individualConfig.additionalIconSections || {})) {\n\t\t\tconst sectionCssPrefix = sectionName.replace(/\\s+/g, '');\n\t\t\tconst sectionElem = document.createElement('fieldset');\n\t\t\tsectionElem.classList.add('settings-section', sectionCssPrefix + '-section');\n\t\t\tsectionElem.innerHTML = `<legend>${sectionName}</legend>`;\n\t\t\tcustomSectionsContainer.appendChild(sectionElem);\n\t\t\tconfigureIconSection(sectionElem, sectionConfig.map(iconInput => makeIconInput(sectionElem, iconInput)));\n\t\t\tanyCustomSections = true;\n\t\t};\n\n\t\t(this.individualConfig.customSections || []).forEach(customSection => {\n\t\t\tconst sectionElem = document.createElement('fieldset');\n\t\t\tcustomSectionsContainer.appendChild(sectionElem);\n\t\t\tconst sectionName = customSection(this, sectionElem);\n\t\t\tconst sectionCssPrefix = sectionName.replace(/\\s+/g, '');\n\t\t\tsectionElem.classList.add('settings-section', sectionCssPrefix + '-section');\n\t\t\tconst labelElem = document.createElement('legend');\n\t\t\tlabelElem.textContent = sectionName;\n\t\t\tsectionElem.prepend(labelElem);\n\t\t\tanyCustomSections = true;\n\t\t});\n\n\t\tif (!anyCustomSections) {\n\t\t\tcustomSectionsContainer.remove();\n\t\t}\n\n\t\tthis.sim.waitForInit().then(() => {\n\t\t\tsavedEncounterManager.loadUserData();\n\t\t\tsavedSettingsManager.loadUserData();\n\t\t});\n\n\t\tArray.from(this.rootElem.getElementsByClassName('settings-section-container')).forEach((container, i) => {\n\t\t\t(container as HTMLElement).style.zIndex = String(1000 - i);\n\t\t});\n\t}\n\n\tprivate addTalentsTab() {\n\t\tthis.addTab('TALENTS', 'talents-tab', `\n\t\t\t<div class=\"player-pet-toggle\">\n\t\t\t</div>\n\t\t\t<div class=\"talents-content\">\n\t\t\t\t<div class=\"talents-tab-content\">\n\t\t\t\t\t<div class=\"talents-picker\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"glyphs-picker\">\n\t\t\t\t\t<span>Glyphs</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"saved-talents-manager\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"talents-content\">\n\t\t\t\t<div class=\"talents-tab-content\">\n\t\t\t\t\t<div class=\"pet-talents-picker\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\tconst talentsPicker = newTalentsPicker(this.rootElem.getElementsByClassName('talents-picker')[0] as HTMLElement, this.player);\n\t\tconst glyphsPicker = newGlyphsPicker(this.rootElem.getElementsByClassName('glyphs-picker')[0] as HTMLElement, this.player);\n\n\t\tconst savedTalentsManager = new SavedDataManager<Player<any>, SavedTalents>(this.rootElem.getElementsByClassName('saved-talents-manager')[0] as HTMLElement, this.player, {\n\t\t\tlabel: 'Talents',\n\t\t\tstorageKey: this.getSavedTalentsStorageKey(),\n\t\t\tgetData: (player: Player<any>) => SavedTalents.create({\n\t\t\t\ttalentsString: player.getTalentsString(),\n\t\t\t\tglyphs: player.getGlyphs(),\n\t\t\t}),\n\t\t\tsetData: (eventID: EventID, player: Player<any>, newTalents: SavedTalents) => {\n\t\t\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\t\t\tplayer.setTalentsString(eventID, newTalents.talentsString);\n\t\t\t\t\tplayer.setGlyphs(eventID, newTalents.glyphs || Glyphs.create());\n\t\t\t\t});\n\t\t\t},\n\t\t\tchangeEmitters: [this.player.talentsChangeEmitter, this.player.glyphsChangeEmitter],\n\t\t\tequals: (a: SavedTalents, b: SavedTalents) => SavedTalents.equals(a, b),\n\t\t\ttoJson: (a: SavedTalents) => SavedTalents.toJson(a),\n\t\t\tfromJson: (obj: any) => SavedTalents.fromJson(obj),\n\t\t});\n\n\t\tthis.sim.waitForInit().then(() => {\n\t\t\tsavedTalentsManager.loadUserData();\n\t\t\tthis.individualConfig.presets.talents.forEach(config => {\n\t\t\t\tconfig.isPreset = true;\n\t\t\t\tsavedTalentsManager.addSavedData({\n\t\t\t\t\tname: config.name,\n\t\t\t\t\tisPreset: true,\n\t\t\t\t\tdata: config.data,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tif (this.player.getClass() == Class.ClassHunter) {\n\t\t\t\tconst petTalentsPicker = new HunterPetTalentsPicker(this.rootElem.getElementsByClassName('pet-talents-picker')[0] as HTMLElement, this.player as Player<Spec.SpecHunter>);\n\n\t\t\t\tlet curShown = 0;\n\t\t\t\tconst toggledElems = Array.from(this.rootElem.getElementsByClassName('talents-content')) as Array<HTMLElement>;\n\t\t\t\tconst updateToggle = () => {\n\t\t\t\t\ttoggledElems[1 - curShown].style.display = 'none';\n\t\t\t\t\ttoggledElems[curShown].style.removeProperty('display');\n\n\t\t\t\t\tif (curShown == 0) {\n\t\t\t\t\t\tpetTypeToggle.rootElem.style.display = 'none';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpetTypeToggle.rootElem.style.removeProperty('display');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst toggleContainer = this.rootElem.getElementsByClassName('player-pet-toggle')[0] as HTMLElement;\n\t\t\t\tconst playerPetToggle = new EnumPicker(toggleContainer, this, {\n\t\t\t\t\tvalues: [\n\t\t\t\t\t\t{ name: 'Player', value: 0 },\n\t\t\t\t\t\t{ name: 'Pet', value: 1 },\n\t\t\t\t\t],\n\t\t\t\t\tchangedEvent: sim => new TypedEvent(),\n\t\t\t\t\tgetValue: sim => curShown,\n\t\t\t\t\tsetValue: (eventID, sim, newValue) => {\n\t\t\t\t\t\tcurShown = newValue;\n\t\t\t\t\t\tupdateToggle();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tconst petTypeToggle = new IconEnumPicker(toggleContainer, this.player as Player<Spec.SpecHunter>, makePetTypeInputConfig(false));\n\t\t\t\tupdateToggle();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate addDetailedResultsTab() {\n\t\tthis.addTab('DETAILED RESULTS', 'detailed-results-tab', `\n\t\t\t<div class=\"detailed-results\">\n\t\t\t</div>\n\t\t`);\n\n\t\tconst detailedResults = new DetailedResults(this.rootElem.getElementsByClassName('detailed-results')[0] as HTMLElement, this, this.raidSimResultsManager!);\n\t}\n\n\tprivate addLogTab() {\n\t\tthis.addTab('LOG', 'log-tab', `\n\t\t\t<div class=\"log-runner\">\n\t\t\t</div>\n\t\t`);\n\n\t\tconst logRunner = new LogRunner(this.rootElem.getElementsByClassName('log-runner')[0] as HTMLElement, this);\n\t}\n\n\tapplyDefaults(eventID: EventID) {\n\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\tconst tankSpec = isTankSpec(this.player.spec);\n\n\t\t\tthis.player.applySharedDefaults(eventID);\n\t\t\tthis.player.setRace(eventID, specToEligibleRaces[this.player.spec][0]);\n\t\t\tthis.player.setGear(eventID, this.sim.lookupEquipmentSpec(this.individualConfig.defaults.gear));\n\t\t\tthis.player.setConsumes(eventID, this.individualConfig.defaults.consumes);\n\t\t\tthis.player.setRotation(eventID, this.individualConfig.defaults.rotation);\n\t\t\tthis.player.setTalentsString(eventID, this.individualConfig.defaults.talents.talentsString);\n\t\t\tthis.player.setGlyphs(eventID, this.individualConfig.defaults.talents.glyphs || Glyphs.create());\n\t\t\tthis.player.setSpecOptions(eventID, this.individualConfig.defaults.specOptions);\n\t\t\tthis.player.setBuffs(eventID, this.individualConfig.defaults.individualBuffs);\n\t\t\tthis.player.getParty()!.setBuffs(eventID, this.individualConfig.defaults.partyBuffs);\n\t\t\tthis.player.getRaid()!.setBuffs(eventID, this.individualConfig.defaults.raidBuffs);\n\t\t\tthis.player.setEpWeights(eventID, this.individualConfig.defaults.epWeights);\n\t\t\tthis.player.setProfession1(eventID, this.individualConfig.defaults.other?.profession1 || Profession.Engineering);\n\t\t\tthis.player.setProfession2(eventID, this.individualConfig.defaults.other?.profession2 || Profession.Jewelcrafting);\n\t\t\tthis.player.setDistanceFromTarget(eventID, this.individualConfig.defaults.other?.distanceFromTarget || 0);\n\n\t\t\tif (!this.isWithinRaidSim) {\n\t\t\t\tthis.sim.encounter.applyDefaults(eventID);\n\t\t\t\tthis.sim.raid.setDebuffs(eventID, this.individualConfig.defaults.debuffs);\n\t\t\t\tthis.sim.applyDefaults(eventID, tankSpec);\n\n\t\t\t\tif (tankSpec) {\n\t\t\t\t\tthis.sim.raid.setTanks(eventID, [this.player.makeRaidTarget()]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.sim.raid.setTanks(eventID, []);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetSavedGearStorageKey(): string {\n\t\treturn this.getStorageKey(SAVED_GEAR_STORAGE_KEY);\n\t}\n\n\tgetSavedRotationStorageKey(): string {\n\t\treturn this.getStorageKey(SAVED_ROTATION_STORAGE_KEY);\n\t}\n\n\tgetSavedSettingsStorageKey(): string {\n\t\treturn this.getStorageKey(SAVED_SETTINGS_STORAGE_KEY);\n\t}\n\n\tgetSavedTalentsStorageKey(): string {\n\t\treturn this.getStorageKey(SAVED_TALENTS_STORAGE_KEY);\n\t}\n\n\tprivate recomputeSettingsLayout() {\n\t\tif (this.settingsMuuri) {\n\t\t\t//this.settingsMuuri.refreshItems();\n\t\t}\n\t\twindow.dispatchEvent(new Event('resize'));\n\t}\n\n\t// Returns the actual key to use for local storage, based on the given key part and the site context.\n\tgetStorageKey(keyPart: string): string {\n\t\t// Local storage is shared by all sites under the same domain, so we need to use\n\t\t// different keys for each spec site.\n\t\treturn specToLocalStorageKey[this.player.spec] + keyPart;\n\t}\n\n\ttoProto(): IndividualSimSettings {\n\t\treturn IndividualSimSettings.create({\n\t\t\tsettings: this.sim.toProto(),\n\t\t\tplayer: this.player.toProto(true),\n\t\t\traidBuffs: this.sim.raid.getBuffs(),\n\t\t\tdebuffs: this.sim.raid.getDebuffs(),\n\t\t\ttanks: this.sim.raid.getTanks(),\n\t\t\tpartyBuffs: this.player.getParty()?.getBuffs() || PartyBuffs.create(),\n\t\t\tencounter: this.sim.encounter.toProto(),\n\t\t\tepWeights: this.player.getEpWeights().asArray(),\n\t\t});\n\t}\n\n\ttoLink(): string {\n\t\tconst proto = this.toProto();\n\t\t// When sharing links, people generally don't intend to share settings/ep weights.\n\t\tproto.settings = undefined;\n\t\tproto.epWeights = [];\n\n\t\tconst protoBytes = IndividualSimSettings.toBinary(proto);\n\t\tconst deflated = pako.deflate(protoBytes, { to: 'string' });\n\t\tconst encoded = btoa(String.fromCharCode(...deflated));\n\n\t\tconst linkUrl = new URL(window.location.href);\n\t\tlinkUrl.hash = encoded;\n\t\treturn linkUrl.toString();\n\t}\n\n\tfromProto(eventID: EventID, settings: IndividualSimSettings) {\n\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\tif (!settings.player) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (settings.settings) {\n\t\t\t\tthis.sim.fromProto(eventID, settings.settings);\n\t\t\t}\n\t\t\tthis.player.fromProto(eventID, settings.player);\n\t\t\tif (settings.epWeights?.length > 0) {\n\t\t\t\tthis.player.setEpWeights(eventID, new Stats(settings.epWeights));\n\t\t\t} else {\n\t\t\t\tthis.player.setEpWeights(eventID, this.individualConfig.defaults.epWeights);\n\t\t\t}\n\t\t\tthis.sim.raid.setBuffs(eventID, settings.raidBuffs || RaidBuffs.create());\n\t\t\tthis.sim.raid.setDebuffs(eventID, settings.debuffs || Debuffs.create());\n\t\t\tthis.sim.raid.setTanks(eventID, settings.tanks || []);\n\t\t\tconst party = this.player.getParty();\n\t\t\tif (party) {\n\t\t\t\tparty.setBuffs(eventID, settings.partyBuffs || PartyBuffs.create());\n\t\t\t}\n\n\t\t\tthis.sim.encounter.fromProto(eventID, settings.encounter || EncounterProto.create());\n\t\t});\n\t}\n\n\tsplitRelevantOptions<T>(options: Array<StatOption<T> | null>): Array<T> {\n\t\treturn options\n\t\t\t.filter(option => option != null)\n\t\t\t.filter(option =>\n\t\t\t\tthis.individualConfig.includeBuffDebuffInputs.includes(option!.item) ||\n\t\t\t\toption!.stats.length == 0 ||\n\t\t\t\toption!.stats.some(stat => this.individualConfig.epStats.includes(stat)))\n\t\t\t.filter(option =>\n\t\t\t\t!this.individualConfig.excludeBuffDebuffInputs.includes(option!.item))\n\t\t\t.map(option => option!.item);\n\t}\n}\n\nexport interface StatOption<T> {\n\tstats: Array<Stat>,\n\titem: T,\n}\n"],"names":["Gear","constructor","gear","getEnumValues","ItemSlot","forEach","slot","this","equals","other","asArray","every","thisItem","equalsOrBothNull","getEquippedItem","a","b","withEquippedItem","newSlot","newItem","canDualWield2H","newInternalGear","asMap","gems","filter","gem","unique","map","Number","removeGemsWithId","id","item","validWeaponCombo","ItemSlotMainHand","ItemSlotOffHand","getTrinkets","ItemSlotTrinket1","ItemSlotTrinket2","hasTrinket","itemId","t","includes","Object","values","asSpec","EquipmentSpec","create","items","ei","ItemSpec","getAllGems","isBlacksmithing","curGems","flat","getNonMetaGems","color","GemColor","GemColorMeta","statsFromGems","stats","Stats","i","length","add","socketBonusStats","getGemsOfColor","getJCGems","requiredProfession","Profession","Jewelcrafting","getMetaGem","gemColorCounts","red","gemMatchesSocket","GemColorRed","yellow","GemColorYellow","blue","GemColorBlue","hasActiveMetaGem","metaGem","isMetaGemActive","hasInactiveMetaGem","withoutMetaGem","headItem","ItemSlotHead","withoutBlacksmithSockets","curGear","wristItem","ItemSlotWrist","withGem","numPossibleSockets","handsItem","ItemSlotHands","hasBluntMHWeapon","weapon","isBluntWeaponType","weaponType","hasSharpMHWeapon","isSharpWeaponType","hasBluntOHWeapon","hasSharpOHWeapon","getFailedProfessionRequirements","professions","EXPERTISE_PER_QUARTER_PERCENT_REDUCTION","MELEE_CRIT_RATING_PER_CRIT_CHANCE","SPELL_CRIT_RATING_PER_CRIT_CHANCE","SPELL_HIT_RATING_PER_HIT_CHANCE","Target","sim","name","level","CHARACTER_LEVEL","mobType","MobType","MobTypeDemon","tankIndex","swingSpeed","minBaseDamage","dualWield","dualWieldPenalty","suppressDodge","parryHaste","spellSchool","SpellSchool","SpellSchoolPhysical","idChangeEmitter","TypedEvent","nameChangeEmitter","levelChangeEmitter","mobTypeChangeEmitter","propChangeEmitter","statsChangeEmitter","changeEmitter","emitter","on","eventID","emit","encounter","getId","setId","newId","getName","setName","newName","getLevel","setLevel","newLevel","getMobType","setMobType","newMobType","getTankIndex","setTankIndex","newTankIndex","getSwingSpeed","setSwingSpeed","newSwingSpeed","getMinBaseDamage","setMinBaseDamage","newMinBaseDamage","getDualWield","setDualWield","newDualWield","getDualWieldPenalty","setDualWieldPenalty","newDualWieldPenalty","getSuppressDodge","setSuppressDodge","newSuppressDodge","getParryHaste","setParryHaste","newParryHaste","getSpellSchool","setSpellSchool","newSpellSchool","getStats","setStats","newStats","matchesPreset","preset","TargetProto","toProto","target","applyPreset","fromProto","proto","freezeAllAndDo","clone","newTarget","static","fromMap","Stat","StatArmor","StatBlockValue","StatAttackPower","defaultProto","Encounter","duration","durationVariation","executeProportion20","executeProportion25","executeProportion35","useHealth","targetsChangeEmitter","durationChangeEmitter","executeProportionChangeEmitter","targets","fromDefaults","nextEventID","primaryTarget","getDurationVariation","setDurationVariation","newDuration","getDuration","setDuration","getExecuteProportion20","setExecuteProportion20","newExecuteProportion20","getExecuteProportion25","setExecuteProportion25","newExecuteProportion25","getExecuteProportion35","setExecuteProportion35","newExecuteProportion35","getUseHealth","setUseHealth","newUseHealth","getNumTargets","getTargets","slice","setTargets","newTargets","push","nt","EncounterProto","targetProto","applyDefaults","TalentsPicker","Input","parent","modObject","config","super","pointsPerRow","maxPoints","numRows","Math","max","trees","treeConfig","talents","talentConfig","location","rowIdx","TalentTreePicker","rootElem","tree","talent","setPoints","init","getInputElem","getInputValue","getTalentsString","join","replace","setInputValue","newValue","parts","split","idx","setTalentsString","updateTrees","isFull","classList","remove","update","numPoints","sum","setMaxPoints","newMaxPoints","Component","picker","innerHTML","title","getElementsByClassName","main","style","backgroundImage","backgroundUrl","gridTemplateRows","iconSize","min","height","width","TalentPicker","prereqLocation","getTalent","prereqOfLocation","addEventListener","event","inputChanged","textContent","find","getRow","getCol","colIdx","Error","String","getPoints","str","charAt","document","createElement","gridRow","gridColumn","dataset","wowhead","pointsDisplay","appendChild","preventDefault","longTouchTimer","window","setTimeout","clearTimeout","newPoints","isRightClick","pts","points","isNaN","canSetPoints","oldPoints","additionalPoints","removedPoints","pointTotalsByRow","Array","keys","talentsInRow","cumulativeTotalsByRow","_","checkValidity","spellId","getSpellIdForPoints","ActionId","fromSpellId","fill","then","actionId","setWowheadHref","iconUrl","rank","spellIds","fieldName","newTalentsConfig","prevTalent","curSpellId","pointIdx","druidTalentsConfig","druidGlyphsConfig","majorGlyphs","DruidMajorGlyph","GlyphOfBarkskin","description","GlyphOfBerserk","GlyphOfClaw","GlyphOfEntanglingRoots","GlyphOfFocus","GlyphOfFrenziedRegeneration","GlyphOfGrowling","GlyphOfHealingTouch","GlyphOfHurricane","GlyphOfInnervate","GlyphOfInsectSwarm","GlyphOfLifebloom","GlyphOfMangle","GlyphOfMaul","GlyphOfMonsoon","GlyphOfMoonfire","GlyphOfNourish","GlyphOfRake","GlyphOfRapidRejuvenation","GlyphOfRebirth","GlyphOfRegrowth","GlyphOfRejuvenation","GlyphOfRip","GlyphOfSavageRoar","GlyphOfShred","GlyphOfStarfall","GlyphOfStarfire","GlyphOfSurvivalInstincts","GlyphOfSwiftmend","GlyphOfWildGrowth","GlyphOfWrath","minorGlyphs","DruidMinorGlyph","GlyphOfAquaticForm","GlyphOfChallengingRoar","GlyphOfDash","GlyphOfTheWild","GlyphOfThorns","GlyphOfTyphoon","GlyphOfUnburdenedRebirth","hunterTalentsConfig","hunterGlyphsConfig","HunterMajorGlyph","GlyphOfAimedShot","GlyphOfArcaneShot","GlyphOfAspectOfTheViper","GlyphOfBestialWrath","GlyphOfChimeraShot","GlyphOfDeterrence","GlyphOfDisengage","GlyphOfExplosiveShot","GlyphOfExplosiveTrap","GlyphOfFreezingTrap","GlyphOfFrostTrap","GlyphOfHuntersMark","GlyphOfImmolationTrap","GlyphOfKillShot","GlyphOfMending","GlyphOfMultiShot","GlyphOfRapidFire","GlyphOfRaptorStrike","GlyphOfScatterShot","GlyphOfSerpentSting","GlyphOfSnakeTrap","GlyphOfSteadyShot","GlyphOfTheBeast","GlyphOfTheHawk","GlyphOfTrueshotAura","GlyphOfVolley","GlyphOfWyvernSting","HunterMinorGlyph","GlyphOfFeignDeath","GlyphOfMendPet","GlyphOfPossessedStrength","GlyphOfRevivePet","GlyphOfScareBeast","GlyphOfThePack","mageTalentsConfig","mageGlyphsConfig","MageMajorGlyph","GlyphOfArcaneBarrage","GlyphOfArcaneBlast","GlyphOfArcaneExplosion","GlyphOfArcaneMissiles","GlyphOfArcanePower","GlyphOfBlink","GlyphOfDeepFreeze","GlyphOfEternalWater","GlyphOfEvocation","GlyphOfFireBlast","GlyphOfFireball","GlyphOfFrostNova","GlyphOfFrostbolt","GlyphOfFrostfire","GlyphOfIceArmor","GlyphOfIceBarrier","GlyphOfIceBlock","GlyphOfIceLance","GlyphOfIcyVeins","GlyphOfInvisibility","GlyphOfLivingBomb","GlyphOfMageArmor","GlyphOfManaGem","GlyphOfMirrorImage","GlyphOfMoltenArmor","GlyphOfPolymorph","GlyphOfRemoveCurse","GlyphOfScorch","GlyphOfWaterElemental","MageMinorGlyph","GlyphOfArcaneIntellect","GlyphOfBlastWave","GlyphOfFireWard","GlyphOfFrostArmor","GlyphOfFrostWard","GlyphOfSlowFall","GlyphOfThePenguin","paladinTalentsConfig","paladinGlyphsConfig","PaladinMajorGlyph","GlyphOfAvengerSShield","GlyphOfAvengingWrath","GlyphOfBeaconOfLight","GlyphOfCleansing","GlyphOfConsecration","GlyphOfCrusaderStrike","GlyphOfDivinePlea","GlyphOfDivineStorm","GlyphOfDivinity","GlyphOfExorcism","GlyphOfFlashOfLight","GlyphOfHammerOfJustice","GlyphOfHammerOfTheRighteous","GlyphOfHammerOfWrath","GlyphOfHolyLight","GlyphOfHolyShock","GlyphOfHolyWrath","GlyphOfJudgement","GlyphOfRighteousDefense","GlyphOfSalvation","GlyphOfSealOfCommand","GlyphOfSealOfLight","GlyphOfSealOfRighteousness","GlyphOfSealOfVengeance","GlyphOfSealOfWisdom","GlyphOfShieldOfRighteousness","GlyphOfSpiritualAttunement","GlyphOfTurnEvil","PaladinMinorGlyph","GlyphOfBlessingOfKings","GlyphOfBlessingOfMight","GlyphOfBlessingOfWisdom","GlyphOfLayOnHands","GlyphOfSenseUndead","GlyphOfTheWise","priestTalentsConfig","priestGlyphsConfig","PriestMajorGlyph","GlyphOfCircleOfHealing","GlyphOfDispelMagic","GlyphOfDispersion","GlyphOfFade","GlyphOfFearWard","GlyphOfFlashHeal","GlyphOfGuardianSpirit","GlyphOfHolyNova","GlyphOfHymnOfHope","GlyphOfInnerFire","GlyphOfLightwell","GlyphOfMassDispel","GlyphOfMindControl","GlyphOfMindFlay","GlyphOfMindSear","GlyphOfPainSuppression","GlyphOfPenance","GlyphOfPowerWordShield","GlyphOfPrayerOfHealing","GlyphOfPsychicScream","GlyphOfRenew","GlyphOfScourgeImprisonment","GlyphOfShadow","GlyphOfShadowWordDeath","GlyphOfShadowWordPain","GlyphOfSmite","GlyphOfSpiritOfRedemption","PriestMinorGlyph","GlyphOfFading","GlyphOfFortitude","GlyphOfLevitate","GlyphOfShackleUndead","GlyphOfShadowProtection","GlyphOfShadowfiend","rogueTalentsConfig","rogueGlyphsConfig","RogueMajorGlyph","GlyphOfAdrenalineRush","GlyphOfAmbush","GlyphOfBackstab","GlyphOfBladeFlurry","GlyphOfCloakOfShadows","GlyphOfCripplingPoison","GlyphOfDeadlyThrow","GlyphOfEvasion","GlyphOfEviscerate","GlyphOfExposeArmor","GlyphOfFanOfKnives","GlyphOfFeint","GlyphOfGarrote","GlyphOfGhostlyStrike","GlyphOfGouge","GlyphOfHemorrhage","GlyphOfHungerForBlood","GlyphOfKillingSpree","GlyphOfMutilate","GlyphOfPreparation","GlyphOfRupture","GlyphOfSap","GlyphOfShadowDance","GlyphOfSinisterStrike","GlyphOfSliceAndDice","GlyphOfSprint","GlyphOfTricksOfTheTrade","GlyphOfVigor","RogueMinorGlyph","GlyphOfBlurredSpeed","GlyphOfDistract","GlyphOfPickLock","GlyphOfPickPocket","GlyphOfSafeFall","GlyphOfVanish","shamanTalentsConfig","shamanGlyphsConfig","ShamanMajorGlyph","GlyphOfChainHeal","GlyphOfChainLightning","GlyphOfEarthShield","GlyphOfEarthlivingWeapon","GlyphOfElementalMastery","GlyphOfFeralSpirit","GlyphOfFireElementalTotem","GlyphOfFireNova","GlyphOfFlameShock","GlyphOfFlametongueWeapon","GlyphOfFrostShock","GlyphOfHealingStreamTotem","GlyphOfHealingWave","GlyphOfHex","GlyphOfLava","GlyphOfLavaLash","GlyphOfLesserHealingWave","GlyphOfLightningBolt","GlyphOfLightningShield","GlyphOfManaTide","GlyphOfRiptide","GlyphOfShocking","GlyphOfStoneclawTotem","GlyphOfStormstrike","GlyphOfThunder","GlyphOfTotemOfWrath","GlyphOfWaterMastery","GlyphOfWindfuryWeapon","ShamanMinorGlyph","GlyphOfAstralRecall","GlyphOfGhostWolf","GlyphOfRenewedLife","GlyphOfThunderstorm","GlyphOfWaterBreathing","GlyphOfWaterShield","GlyphOfWaterWalking","warlockTalentsConfig","warlockGlyphsConfig","WarlockMajorGlyph","GlyphOfChaosBolt","GlyphOfConflagrate","GlyphOfCorruption","GlyphOfCurseOfAgony","GlyphOfDeathCoil","GlyphOfDemonicCircle","GlyphOfFear","GlyphOfFelguard","GlyphOfFelhunter","GlyphOfHaunt","GlyphOfHealthFunnel","GlyphOfHealthstone","GlyphOfHowlOfTerror","GlyphOfImmolate","GlyphOfImp","GlyphOfIncinerate","GlyphOfLifeTap","GlyphOfMetamorphosis","GlyphOfQuickDecay","GlyphOfSearingPain","GlyphOfShadowBolt","GlyphOfShadowburn","GlyphOfShadowflame","GlyphOfSiphonLife","GlyphOfSoulLink","GlyphOfSoulstone","GlyphOfSuccubus","GlyphOfUnstableAffliction","GlyphOfVoidwalker","WarlockMinorGlyph","GlyphOfCurseOfExhausion","GlyphOfDrainSoul","GlyphOfEnslaveDemon","GlyphOfKilrogg","GlyphOfSouls","GlyphOfUnendingBreath","warriorTalentsConfig","warriorGlyphsConfig","WarriorMajorGlyph","GlyphOfBarbaricInsults","GlyphOfBladestorm","GlyphOfBlocking","GlyphOfBloodthirst","GlyphOfCleaving","GlyphOfDevastate","GlyphOfEnragedRegeneration","GlyphOfExecution","GlyphOfHamstring","GlyphOfHeroicStrike","GlyphOfIntervene","GlyphOfLastStand","GlyphOfMortalStrike","GlyphOfOverpower","GlyphOfRapidCharge","GlyphOfRending","GlyphOfResonatingPower","GlyphOfRevenge","GlyphOfShieldWall","GlyphOfShockwave","GlyphOfSpellReflection","GlyphOfSunderArmor","GlyphOfSweepingStrikes","GlyphOfTaunt","GlyphOfVictoryRush","GlyphOfVigilance","GlyphOfWhirlwind","WarriorMinorGlyph","GlyphOfBattle","GlyphOfBloodrage","GlyphOfCharge","GlyphOfCommand","GlyphOfEnduringVictory","GlyphOfMockingBlow","GlyphOfThunderClap","deathknightTalentsConfig","deathknightGlyphsConfig","DeathknightMajorGlyph","GlyphOfAntiMagicShell","GlyphOfBloodStrike","GlyphOfBoneShield","GlyphOfChainsOfIce","GlyphOfDancingRuneWeapon","GlyphOfDarkCommand","GlyphOfDarkDeath","GlyphOfDeathAndDecay","GlyphOfDeathGrip","GlyphOfDeathStrike","GlyphOfDisease","GlyphOfFrostStrike","GlyphOfHeartStrike","GlyphOfHowlingBlast","GlyphOfHungeringCold","GlyphOfIceboundFortitude","GlyphOfIcyTouch","GlyphOfObliterate","GlyphOfPlagueStrike","GlyphOfRuneStrike","GlyphOfRuneTap","GlyphOfScourgeStrike","GlyphOfStrangulate","GlyphOfTheGhoul","GlyphOfUnbreakableArmor","GlyphOfUnholyBlight","GlyphOfVampiricBlood","DeathknightMinorGlyph","GlyphOfBloodTap","GlyphOfCorpseExplosion","GlyphOfDeathSEmbrace","GlyphOfHornOfWinter","GlyphOfPestilence","GlyphOfRaiseDead","itemQualityCssClasses","ItemQuality","ItemQualityJunk","ItemQualityCommon","ItemQualityUncommon","ItemQualityRare","ItemQualityEpic","ItemQualityLegendary","setItemQualityCssClass","elem","quality","cssClass","CloseButton","onClick","Popup","computedStyles","getComputedStyle","setProperty","getPropertyValue","trim","closest","$","bPopup","onClose","addCloseButton","close","emptyGlyphData","GlyphsPicker","player","glyphsConfig","majorGlyphPickers","minorGlyphPickers","idStr","majorGlyphsData","getGlyphData","glyph","minorGlyphsData","sort","stringComparator","glyphField","GlyphPicker","glyphConfig","glyphOptions","isMajor","changedEvent","glyphsChangeEmitter","getValue","getGlyphs","setValue","glyphs","player2","setGlyphs","selectedGlyph","iconElem","GlyphSelectorModal","glyphData","href","makeItemUrl","glyphPicker","listElem","listItemElems","concat","glyphIdx","listItemElem","children","nameElem","onclick","updateSelected","selectedGlyphId","listItemIdx","parseInt","listItemData","applyFilters","validItemElems","searchInput","value","searchQuery","toLowerCase","include","v","numShown","ev","key","ele","contains","click","classTalentsConfig","Class","ClassUnknown","ClassDeathknight","ClassDruid","ClassShaman","ClassHunter","ClassMage","ClassRogue","ClassPaladin","ClassPriest","ClassWarlock","ClassWarrior","classGlyphsConfig","talentStringToProto","talentString","talentsConfig","treeString","treeIdx","protoToTalentString","Player","spec","buffs","IndividualBuffs","consumes","Consumes","bonusStats","profession1","profession2","shattFaction","talentsString","Glyphs","cooldowns","Cooldowns","inFrontOfTarget","distanceFromTarget","healingModel","HealingModel","itemEPCache","Map","gemEPCache","enchantEPCache","epWeights","currentStats","PlayerStats","buffsChangeEmitter","consumesChangeEmitter","bonusStatsChangeEmitter","gearChangeEmitter","professionChangeEmitter","raceChangeEmitter","rotationChangeEmitter","talentsChangeEmitter","specOptionsChangeEmitter","cooldownsChangeEmitter","inFrontOfTargetChangeEmitter","distanceFromTargetChangeEmitter","healingModelChangeEmitter","epWeightsChangeEmitter","currentStatsEmitter","party","raid","race","specToEligibleRaces","specTypeFunctions","rotation","rotationCreate","specOptions","optionsCreate","onAny","getSpecIcon","getTalentTreeIcon","getClass","specToClass","getClassColor","classColors","getParty","getRaid","getPartyIndex","getPlayers","indexOf","getRaidIndex","getIndex","MAX_PARTY_SIZE","setParty","newParty","getOtherPartyMembers","getItems","canEquipItem","getEnchants","enchant","canEquipEnchant","getGems","socketColor","getEpWeights","setEpWeights","newEpWeights","async","epStats","epReferenceStat","onProgress","statWeights","getCurrentStats","setCurrentStats","getLabel","getRace","setRace","newRace","getProfession1","setProfession1","newProfession","getProfession2","setProfession2","getProfessions","p","ProfessionUnknown","hasProfession","prof","Blacksmithing","getShattFaction","setShattFaction","newFaction","getFaction","raceToFaction","getBuffs","setBuffs","newBuffs","getConsumes","setConsumes","newConsumes","getCooldowns","setCooldowns","newCooldowns","getTalents","titansGrip","equipItem","setGear","getGear","newGear","getBonusStats","setBonusStats","newBonusStats","getRotation","rotationCopy","setRotation","newRotation","rotationEquals","talentsCreate","newTalentsString","getTalentTree","newGlyphs","getMajorGlyphs","major1","major2","major3","getMinorGlyphs","minor1","minor2","minor3","getAllGlyphs","getSpecOptions","optionsCopy","setSpecOptions","newSpecOptions","optionsEquals","getInFrontOfTarget","setInFrontOfTarget","newInFrontOfTarget","getDistanceFromTarget","setDistanceFromTarget","newDistanceFromTarget","getHealingModel","setHealingModel","newHealingModel","computeStatsEP","computeEP","computeGemEP","has","get","epFromStats","epFromEffect","getMetaGemEffectEP","finalStats","bonusEP","ep","set","computeEnchantEP","computeItemEP","itemStats","WeaponType","WeaponTypeUnknown","weaponDps","getWeaponDPS","addStat","Spec","SpecFeralDruid","RangedWeaponType","RangedWeaponTypeUnknown","RangedWeaponTypeThrown","rangedWeaponType","StatRangedAttackPower","getEligibleItemSlots","enchants","bestGemEPNotMatchingSockets","gemSockets","isUnrestrictedGem","getPhase","bestGemEPMatchingSockets","socketBonus","setWowheadData","equippedItem","effectId","hasExtraSocket","setAttribute","makeRaidTarget","emptyRaidTarget","newRaidTarget","forExport","withSpecProto","PlayerProto","class","equipment","lookupEquipmentSpec","rotationFromPlayer","optionsFromPlayer","newPlayer","applySharedDefaults","ShattrathFaction","ShattrathFactionAldor","isTankSpec","hpPercentForDefensives","playerToSpec","Party","PartyBuffs","compChangeEmitter","players","playerChangeListener","size","isEmpty","clear","setPlayer","getParties","getPlayer","playerIndex","oldPlayer","off","newPlayerOldParty","PartyProto","playerProto","currentPlayer","MAX_NUM_PARTIES","Raid","RaidBuffs","debuffs","Debuffs","tanks","debuffsChangeEmitter","tanksChangeEmitter","parties","index","floor","getPlayerFromRaidTarget","raidTarget","targetIndex","NO_TARGET","getClassCount","playerClass","totemOfWrath","newDebuff","setDebuffs","getDebuffs","newDebuffs","getTanks","RaidTarget","tank","setTanks","newTanks","RaidProto","SIM_WORKER_URL","REPO_NAME","WorkerPool","numWorkers","workers","SimWorker","getLeastBusyWorker","reduce","curMinWorker","nextWorker","numTasksRunning","requestName","request","doApiCall","result","makeApiCall","GearListRequest","toBinary","GearListResult","fromBinary","ComputeStatsRequest","ComputeStatsResult","console","log","StatWeightsRequest","toJsonString","worker","makeTaskId","addPromiseFunc","newProgressHandler","err","resultData","ProgressMetrics","StatWeightsResult","finalWeightResult","RaidSimRequest","resultJson","RaidSimResult","toJson","finalRaidResult","JSON","stringify","progressData","progress","taskIdsToPromiseFuncs","Worker","resolveReady","onReady","Promise","_resolve","_reject","onmessage","data","msg","postMessage","warn","promiseFuncs","outputData","callback","onError","characters","random","taskPromise","resolve","reject","inputData","_Sim","iterations","phase","OtherConstants.CURRENT_PHASE","faction","Faction","Alliance","fixedRngSeed","show1hWeapons","show2hWeapons","showMatchingGems","showThreatMetrics","showExperimental","presetEncounters","presetTargets","iterationsChangeEmitter","phaseChangeEmitter","factionChangeEmitter","fixedRngSeedChangeEmitter","lastUsedRngSeedChangeEmitter","show1hWeaponsChangeEmitter","show2hWeaponsChangeEmitter","showMatchingGemsChangeEmitter","showThreatMetricsChangeEmitter","showExperimentalChangeEmitter","crashEmitter","simResultEmitter","lastUsedRngSeed","modifyRaidProto","workerPool","_initPromise","getGearList","encounters","path","e","settingsChangeEmitter","updateCharacterStats","waitForInit","setModifyRaidProto","newModFn","getModifiedRaidProto","raidProto","gearChanged","isBlacksmith","makeRaidSimRequest","debug","simOptions","SimOptions","getIterations","randomSeed","BigInt","nextRngSeed","debugFirstIteration","raidSimAsync","errorResult","SimError","simResult","SimResult","makeNew","req","computeStats","raidStats","partyStats","partyIndex","playerStats","raidBuffs","partyBuffs","statsToWeigh","statWeightsAsync","getEligibleEnchantSlots","getEnchantFlexible","gemEligibleForSocket","getMatchingGems","getPresetEncounter","getPresetTarget","getAllPresetEncounters","getAllPresetTargets","setPhase","newPhase","setFaction","getFixedRngSeed","setFixedRngSeed","newFixedRngSeed","rngSeed","MAX_RNG_SEED","getLastUsedRngSeed","getShow1hWeapons","setShow1hWeapons","newShow1hWeapons","getShow2hWeapons","setShow2hWeapons","newShow2hWeapons","getShowMatchingGems","setShowMatchingGems","newShowMatchingGems","getShowThreatMetrics","setShowThreatMetrics","newShowThreatMetrics","getShowExperimental","setShowExperimental","newShowExperimental","setIterations","newIterations","lookupItemSpec","itemSpec","type","gemId","EquippedItem","equipSpec","gearMap","assignedSlot","Item","SimSettingsProto","isTankSim","Sim","pow","errorStr","NumberPicker","float","positive","inputElem","inputMode","onchange","abs","toString","parseFloat","BonusStatsPicker","label","tippy","content","allowHTML","statPickers","statOrder","stat","statNames","getStat","withStat","statPicker","BooleanPicker","Boolean","checked","spellPowerTypeStats","StatArcaneSpellPower","StatFireSpellPower","StatFrostSpellPower","StatHolySpellPower","StatNatureSpellPower","StatShadowSpellPower","CharacterStats","modifyDisplayStats","table","valueElems","tooltipElems","row","toUpperCase","valueElem","tooltipElem","updateStats","statMods","baseStats","gearStats","talentsStats","buffsStats","consumesStats","debuffStats","getDebuffStats","gearDelta","subtract","talentsDelta","buffsDelta","consumesDelta","statDisplayString","rawValue","StatSpellPower","displayStr","round","StatMeleeHit","toFixed","StatSpellHit","StatMeleeCrit","StatSpellCrit","StatMeleeHaste","StatSpellHaste","StatExpertise","StatDefense","Mechanics.CHARACTER_LEVEL","StatBlock","StatDodge","StatParry","misery","faerieFire","TristateEffect","TristateEffectImproved","heartOfTheCrusader","masterPoisoner","improvedScorch","wintersChill","shadowMastery","IconEnumPicker","modObj","currentValue","zeroValue","buttonElem","dropdownElem","display","gridTemplateColumns","numColumns","valueConfig","optionContainer","option","setImage","tooltip","showWhen","dispatchEvent","Event","setActionImage","fillAndSet","backgroundColor","backupIconUrl","backupId","NumberListPicker","placeholder","val","arrayEquals","CooldownsPicker","parentElem","cooldownPickers","cooldown","deleteButton","splice","makeActionPicker","filledId","makeTimingsPicker","cooldownIndex","availableCooldowns","extraCssClasses","ActionIdProto","cooldownAction","Cooldown","timings","enableWhen","curCooldown","DetailedResults","simUI","simResultsManager","tabWindow","latestRun","updateSettings","url","URL","protocol","host","searchParams","append","isIndividualSim","iframeElem","closed","open","setSimRunData","focus","currentChangeEmitter","runData","getRunData","simRunData","DetailedResultsUpdate","oneofKind","settings","contentWindow","ListPicker","itemPickerPairs","itemLabel","titleTooltip","itemsDiv","newList","pair","removePairs","ipp","curItems","addNewPicker","from","getPickerIndex","findIndex","itemContainer","inlineMenuBar","itemHTML","upButton","error","swap","downButton","copyButton","copiedItem","copyItem","itemElem","itemPicker","newItemPicker","CustomRotationPicker","modPlayer","spells","CustomRotation","CustomSpell","oldItem","listPicker","CustomSpellPicker","modSpell","oldShowWhen","spell","setSpell","cr","EnumPicker","selectElem","EncounterPicker","modEncounter","addEncounterFieldPickers","showExecuteProportion","labelTooltip","pe","advancedButton","AdvancedEncounterPicker","encounterTypeContainer","encounter2","header","targetsElem","TargetPicker","modTarget","section1","section2","section3","mobTypeEnumValues","ALL_TARGET_STATS","statData","SpellSchoolArcane","SpellSchoolFire","SpellSchoolFrost","SpellSchoolHoly","SpellSchoolNature","SpellSchoolShadow","obj","StatHealth","StatArcaneResistance","StatFireResistance","StatFrostResistance","StatNatureResistance","StatShadowResistance","MobTypeUnknown","MobTypeBeast","MobTypeDragonkin","MobTypeElemental","MobTypeGiant","MobTypeHumanoid","MobTypeMechanical","MobTypeUndead","descriptionsPromise","getEnchantDescription","fetch","response","json","descriptionsMap","StartingConjured","Conjured","ConjuredUnknown","ConjuredDarkRune","ConjuredFlameCap","ConjuredRogueThistleTea","startingConjured","InFrontOfTarget","DistanceFromTarget","TankAssignment","IncomingHps","hps","HealingCadence","cadenceSeconds","HpPercentForDefensives","GearPicker","leftSide","rightSide","leftItemPickers","ItemSlotNeck","ItemSlotShoulder","ItemSlotBack","ItemSlotChest","ItemPicker","rightItemPickers","ItemSlotWaist","ItemSlotLegs","ItemSlotFeet","ItemSlotFinger1","ItemSlotFinger2","ItemSlotRanged","itemPickers","_items","_enchants","_equippedItem","enchantElem","socketsContainerElem","onClickStart","SelectorModal","onClickEnd","openTab","removeAttribute","emptySlotIcons","slotNames","heroic","heroic_span","marginLeft","innerText","asActionId","setBackgroundAndHref","isSpellId","allSocketColors","gemIdx","gemIconElem","setGemSocketCssClass","src","getEmptyGemSocketIconUrl","fromItemId","ItemType","ItemTypeWrist","ItemTypeHands","updateProfession","removeProperty","eligibleItems","eligibleEnchants","tabsElem","contentElem","setData","addTab","fromItem","baseEP","ignoreEPFilter","onEquip","withItem","GemColorUnknown","withEnchant","addGemTabs","socketBonusEP","curSocketColors","socketIdx","gemEP","tabAnchor","updateGemIcon","itemData","equippedToItemFn","onRemove","setTabContent","dataA","dataB","ilvl","diff","tabElem","tabContentId","tabContent","sim2","makeShow2hWeaponsSelector","makeShowMatchingGemsSelector","startsWith","makePhaseSelector","itemIdx","itemEP","is","removeTabs","newEquippedItem","newItemId","newEP","listItem","epDeltaElem","listItemEP","formatDeltaTextElem","currentEquippedItem","handType","HandType","HandTypeTwoHand","enchantAppliesToItem","labelSubstring","tabElems","prototype","call","tab","contentElems","getElementById","getAttribute","substring","parentElement","SavedDataManager","userData","presets","frozen","presetsOnly","savedDataDiv","saveInput","alert","addSavedData","getData","saveUserData","newData","makeSavedData","dataArr","isPreset","oldIdx","insertBefore","replaceChild","dataElem","stopPropagation","confirm","checkActive","changeEmitters","savedData","localStorage","setItem","storageKey","loadUserData","dataStr","getItem","jsonData","parse","fromJson","freeze","makeMultiIconInput","inputs","emptyColor","makeWrappedBooleanInput","getModObject","makeSpecOptionsBooleanInput","newVal","newMessage","makeRotationBooleanInput","makeWrappedNumberInput","makeSpecOptionsNumberInput","internalConfig","percent","makeRotationNumberInput","makeWrappedEnumInput","makeSpecOptionsEnumInput","makeRotationEnumInput","makeWrappedIconInput","states","makeBooleanIconInput","getFieldValue","setFieldValue","makeSpecOptionsBooleanIconInput","makeNumberIconInput","multiplier","sign","makeTristateIconInput","impId","input","improvedId","makeMultistateIconInput","numStates","makeWrappedEnumIconInput","makeSpecOptionsEnumIconInput","makeRotationEnumIconInput","makeCustomRotationInput","makePetTypeInputConfig","includeLabel","InputHelpers.makeSpecOptionsEnumIconInput","PetType","PetNone","fromPetName","Bat","Bear","BirdOfPrey","Boar","CarrionBird","Cat","Chimaera","CoreHound","Crab","Crocolisk","Devilsaur","Dragonhawk","Gorilla","Hyena","Moth","NetherRay","Raptor","Ravager","Rhino","Scorpid","Serpent","Silithid","Spider","SpiritBeast","SporeBat","Tallstrider","Turtle","WarpStalker","Wasp","WindSerpent","Wolf","Worm","petCategories","categoryOrder","categoryClasses","HunterPetTalentsPicker","curCategory","getCategoryFromPlayer","curTalents","getPetTalentsFromPlayer","savedSets","defaultTalents","talentsContainer","pickers","category","petTalentsConfig","pickerContainer","options","petTalents","HunterPetTalents","savedTalentsManager","defaultBMTalents","petCategory","categoryIdx","updateIsBM","beastMastery","petType","getPetTalentsConfig","cunningDefault","cobraReflexes","dive","boarsSpeed","mobility","spikedCollar","cornered","feedingFrenzy","wolverineBite","bullheaded","wildHunt","ferocityDefault","cullingTheHerd","spidersBite","rabid","callOfTheWild","charge","greatStamina","bloodOfTheRhino","guardDog","thunderstomp","graceOfTheMantis","taunt","roarOfSacrifice","cunningBMDefault","ferocityBMDefault","bloodthirsty","sharkAttack","IconPicker","rootAnchor","useImprovedIcons","improvedId2","levelContainer","improvedAnchor","improvedAnchor2","counterElem","getActionId","LogRunner","controlBar","simButton","logsDiv","runSimOnce","logs","isCastCompleted","lineElem","MultiIconPicker","dropdownRootElem","labelElem","pickerConfig","updateButtonImage","getMaxValue","SettingsMenu","restoreDefaultsButton","ResultsViewer","pendingElem","hideAll","setPending","setContent","LaunchStatus","LaunchStatus2","simLaunchStatuses","SpecBalanceDruid","SpecElementalShaman","SpecEnhancementShaman","SpecFeralTankDruid","SpecHunter","SpecMage","SpecRogue","SpecRetributionPaladin","SpecProtectionPaladin","SpecShadowPriest","SpecWarlock","SpecWarrior","SpecProtectionWarrior","SpecSmitePriest","SpecDeathknight","SpecTankDeathknight","Title","currentSpec","dropdownPanel","orderedLaunchedSpecs","naturalSpecOrder","specStr","ceil","currentOption","makeOptionData","otherOptions","makeOptionElem","makeOption","isButton","raidSimIcon","raidSimSiteUrl","text","titleIcons","getSpecSiteUrl","specNames","icon","labelDiv","simLabel","SimUI","simHTML","isWithinRaidSim","handleCrash","updateShowThreatMetrics","updateShowExperimental","warnings","warningsElem","warningsTippy","updateWarnings","statusStr","launchStatus","Unlaunched","Alpha","Beta","knownIssues","knownIssuesContainer","issue","interactive","resultsViewerElem","resultsViewer","titleElem","simActionsContainer","reportBug","addToolbarItem","downloadBinary","resp","versionInfo","outdated","catch","addAction","actFn","iterationsPicker","button","simTabsContainer","simTabContentsContainer","topBar","contentId","isFirstTab","newTab","newContent","activeWarnings","warning","getContent","addWarning","updateOn","getSettingsStorageKey","getStorageKey","getSavedEncounterStorageKey","runRaidSim","runRaidSimWithLogs","hash","hashCode","link","toLink","issues","total_count","html_url","base","maxBodyLength","issueBody","encodeURIComponent","lastIndexOf","fetchErr","len","charCodeAt","EpWeightsMenu","statsType","tableContainer","tableBody","querySelector","tableHeader","updateType","computeStatWeights","setSimProgress","prevEpIterations","prevEpSimResult","preprocessResults","updateTable","colActionButtons","makeUpdateWeights","weightsFunc","previousSibling","getPrevSimResult","dps","weights","epValues","tps","dtps","individualConfig","defaults","showAllStatsContainer","menu","applyAlternatingColors","optimizeGemsButton","optimizeGems","completedSims","totalSims","completedIterations","totalIterations","epValuesStdev","wdiff","weightsStdev","StatMana","StatEnergy","StatRage","makeTableRow","stDevToConf90","currentEpCell","childNodes","w","allGems","isJewelcrafting","optimizedGear","optimizeGemsForWeights","unrestrictedGems","Gems.isUnrestrictedGem","bestGemForColor","bestGemForColorEP","bestGemForSocket","bestGemForSocketEP","bestGem","bestGemEP","findBestGems","socketBonusEPs","entries","itemSlot","socketColors","allSockets","itemSlotStr","numSockets","threeSocketCombos","permutations","calculateGearGemsEP","jcGems","bestJcGemForColor","bestJcGemForColorEP","bestJcGemForSocket","bestJcGemForSocketEP","bestJcGem","bestJcGemEP","bestGear","bestGearEP","socketCombo","gemColor","curGearEP","condition","Gems.getMetaGemCondition","isCompareColorCondition","colorCombos","getColorCombosToSatisfyCondition","colorCombo","isOneOfEach","Gems.PRIMARY_COLORS","GemColorPrismatic","Gems.SECONDARY_COLORS","secondaryColor","remainingColor","Gems.socketToMatchingColors","matchingColor","isTwoAndOne","oneColor","minRed","minYellow","minBlue","twoColor","Gems.gemColorMatchesSocket","partialCombo","isThreeOfAColor","threeColor","matchingColors","combinationsWithDups","gemList","Gems.GEM_COLORS","GEM_COLORS","Gems.gemMatchesSocket","Exporter","allowDownload","textElem","navigator","clipboard","writeText","downloadButton","downloadString","IndividualLinkExporter","IndividualJsonExporter","IndividualSimSettings","_Individual80UEPExporter","allStats","linkNames","Individual80UEPExporter","StatStrength","StatAgility","StatStamina","StatIntellect","StatSpirit","StatHealingPower","StatMP5","StatSpellPenetration","StatArmorPenetration","StatResilience","_IndividualPawnEPExporter","classNames","IndividualPawnEPExporter","Importer","includeFile","uploadInputId","replaceAll","htmlVal","descriptionElem","files","importButton","onImport","finishIndividualImport","charClass","equipmentSpec","talentsStr","dbEnchant","expectedEnchantIds","foundEnchantIds","missingEnchants","expectedId","expectedItemIds","foundItemIds","missingItems","IndividualJsonImporter","fromJsonString","Individual80UImporter","importJson","nameToClass","character","gameClass","nameToRace","Race","RaceUnknown","talentIds","spellIdIndex","talentSpellIdsToTalentString","talentJson","itemJson","gemJson","AllStatsBuff","InputHelpers.makeMultiIconInput","makeTristateRaidBuffInput","makeBooleanRaidBuffInput","AllStatsPercentBuff","makeBooleanIndividualBuffInput","ArmorBuff","StaminaBuff","StrengthAndAgilityBuff","IntellectBuff","SpiritBuff","AttackPowerBuff","makeTristateIndividualBuffInput","AttackPowerPercentBuff","DamagePercentBuff","DamageReductionPercentBuff","HastePercentBuff","HealthBuff","MP5Buff","MeleeCritBuff","MeleeHasteBuff","ReplenishmentBuff","SpellCritBuff","SpellHasteBuff","withLabel","SpellPowerBuff","InputHelpers.makeMultistateIconInput","Bloodlust","RetributionAura","ShadowProtection","BraidedEterniumChain","makeBooleanPartyBuffInput","ChainOfTheTwilightOwl","HeroicPresence","EyeOfTheNight","Thorns","ManaTideTotem","makeMultistatePartyBuffInput","Innervate","makeMultistateIndividualBuffInput","PowerInfusion","TricksOfTheTrade","UnholyFrenzy","MajorArmorDebuff","makeBooleanDebuffInput","MinorArmorDebuff","makeTristateDebuffInput","AttackPowerDebuff","BleedDebuff","CritDebuff","MeleeAttackSpeedDebuff","MeleeHitDebuff","PhysicalDamageDebuff","SpellCritDebuff","SpellHitDebuff","SpellDamageDebuff","HuntersMark","impId2","InputHelpers.makeQuadstateIconInput","makeQuadstateDebuffInput","JudgementOfWisdom","JudgementOfLight","ShatteringThrow","GiftOfArthas","ThermalSapper","makeBooleanConsumeInput","ExplosiveDecoy","SpicedMammothTreats","PetFood","PetFoodSpicedMammothTreats","InputHelpers.makeBooleanIconInput","InputHelpers.makeTristateIconInput","makePotionInputFactory","consumesFieldName","makeConsumeInputFactory","Potions","RunicHealingPotion","RunicManaPotion","IndestructiblePotion","PotionOfSpeed","PotionOfWildMagic","DestructionPotion","HastePotion","MightyRagePotion","SuperManaPotion","FelManaPotion","InsaneStrengthPotion","IronshieldPotion","HeroicPotion","makePotionsInput","makePrepopPotionsInput","makeConjuredInput","ConjuredHealthstone","makeFlasksInput","Flask","FlaskOfTheFrostWyrm","FlaskOfEndlessRage","FlaskOfPureMojo","FlaskOfStoneblood","LesserFlaskOfToughness","LesserFlaskOfResistance","FlaskOfBlindingLight","FlaskOfMightyRestoration","FlaskOfPureDeath","FlaskOfRelentlessAssault","FlaskOfSupremePower","FlaskOfFortification","FlaskOfChromaticWonder","battleElixir","BattleElixir","BattleElixirUnknown","guardianElixir","GuardianElixir","GuardianElixirUnknown","makeBattleElixirsInput","ElixirOfAccuracy","ElixirOfArmorPiercing","ElixirOfDeadlyStrikes","ElixirOfExpertise","ElixirOfLightningSpeed","ElixirOfMightyAgility","ElixirOfMightyStrength","GurusElixir","SpellpowerElixir","WrathElixir","AdeptsElixir","ElixirOfDemonslaying","ElixirOfMajorAgility","ElixirOfMajorFirePower","ElixirOfMajorFrostPower","ElixirOfMajorShadowPower","ElixirOfMajorStrength","ElixirOfMastery","ElixirOfTheMongoose","FelStrengthElixir","GreaterArcaneElixir","flask","FlaskUnknown","makeGuardianElixirsInput","ElixirOfMightyDefense","ElixirOfMightyFortitude","ElixirOfMightyMageblood","ElixirOfMightyThoughts","ElixirOfProtection","ElixirOfSpirit","ElixirOfDraenicWisdom","ElixirOfIronskin","ElixirOfMajorDefense","ElixirOfMajorFortitude","ElixirOfMajorMageblood","makeFoodInput","Food","FoodFishFeast","FoodGreatFeast","FoodBlackenedDragonfin","FoodHeartyRhino","FoodMegaMammothMeal","FoodSpicedWormBurger","FoodRhinoliciousWormsteak","FoodImperialMantaSteak","FoodSnapperExtreme","FoodMightyRhinoDogs","FoodFirecrackerSalmon","FoodCuttlesteak","FoodDragonfinFilet","FoodBlackenedBasilisk","FoodGrilledMudfish","FoodRavagerDog","FoodRoastedClefthoof","FoodSpicyHotTalbuk","FoodSkullfishSoup","FoodFishermansFeast","FillerExplosiveInput","allOptions","Explosive","ExplosiveSaroniteBomb","ExplosiveCobaltFragBomb","onSet","factory","allOption","BLESSINGS_SECTION","BASIC_BIS_DISCLAIMER","IndividualSimUI","raidSimResultsManager","settingsMuuri","getMetaGemConditionDescription","failedProfReqs","fpr","professionNames","talentPoints","getTalentPoints","loadSettings","addSidebarComponents","addTopbarComponents","addGearTab","addSettingsTab","addTalentsTab","addDetailedResultsTab","addLogTab","recomputeSettingsLayout","initEventID","loadedSettings","binary","atob","bytes","Uint8Array","settingsBytes","pako","inflate","savedSettings","jsonStr","addRaidSimAction","displayStats","importSettings","linkElem","menuElem","addMenuItem","showInRaidSim","newIndividualImporters","exportSettings","newIndividualExporters","optionsMenu","savedGearManager","getSavedGearStorageKey","SavedGearSet","newSavedGear","presetGear","settingsTab","configureIconSection","sectionElem","iconPickers","adjustColumns","makeIconInput","inputConfig","playerIconsSection","playerIconInputs","iconInput","buffOptions","splitRelevantOptions","IconInputs.AllStatsBuff","IconInputs.AllStatsPercentBuff","IconInputs.HealthBuff","IconInputs.ArmorBuff","IconInputs.StaminaBuff","IconInputs.StrengthAndAgilityBuff","IconInputs.IntellectBuff","IconInputs.SpiritBuff","IconInputs.AttackPowerBuff","IconInputs.AttackPowerPercentBuff","IconInputs.MeleeCritBuff","IconInputs.MeleeHasteBuff","IconInputs.SpellPowerBuff","IconInputs.SpellCritBuff","IconInputs.HastePercentBuff","IconInputs.DamagePercentBuff","IconInputs.DamageReductionPercentBuff","IconInputs.MP5Buff","IconInputs.ReplenishmentBuff","buffsSection","multiIconInput","IconInputs.Bloodlust","IconInputs.SpellHasteBuff","miscBuffOptions","IconInputs.HeroicPresence","IconInputs.BraidedEterniumChain","IconInputs.ChainOfTheTwilightOwl","IconInputs.EyeOfTheNight","IconInputs.Thorns","IconInputs.RetributionAura","IconInputs.ShadowProtection","IconInputs.ManaTideTotem","IconInputs.Innervate","IconInputs.PowerInfusion","IconInputs.TricksOfTheTrade","IconInputs.UnholyFrenzy","debuffOptions","IconInputs.MajorArmorDebuff","IconInputs.MinorArmorDebuff","IconInputs.PhysicalDamageDebuff","IconInputs.BleedDebuff","IconInputs.SpellDamageDebuff","IconInputs.SpellHitDebuff","IconInputs.SpellCritDebuff","IconInputs.CritDebuff","IconInputs.AttackPowerDebuff","IconInputs.MeleeAttackSpeedDebuff","IconInputs.MeleeHitDebuff","debuffsSection","IconInputs.JudgementOfWisdom","IconInputs.HuntersMark","miscDebuffOptions","IconInputs.JudgementOfLight","IconInputs.ShatteringThrow","IconInputs.GiftOfArthas","prepopPotionOptions","IconInputs.makePrepopPotionsInput","potionOptions","IconInputs.makePotionsInput","conjuredOptions","IconInputs.makeConjuredInput","flaskOptions","IconInputs.makeFlasksInput","battleElixirOptions","IconInputs.makeBattleElixirsInput","guardianElixirOptions","IconInputs.makeGuardianElixirsInput","foodOptions","IconInputs.makeFoodInput","tradeConsumesElem","IconInputs.ThermalSapper","IconInputs.ExplosiveDecoy","IconInputs.FillerExplosiveInput","Engineering","petConsumeInputs","petConsumesElem","configureInputSection","sectionConfig","rotationIconInputs","rotationIconSection","rotationInputs","otherInputs","races","raceNames","ShattrathFactionScryer","shattFactionNames","encounterSectionElem","encounterPicker","savedEncounterManager","SavedEncounter","newEncounter","cooldownSectionElem","cooldownContentElem","placement","Muuri","savedSettingsManager","getSavedSettingsStorageKey","SavedSettings","playerBuffs","newSettings","customSectionsContainer","anyCustomSections","sectionName","additionalSections","sectionCssPrefix","additionalIconSections","customSections","customSection","prepend","container","zIndex","newGlyphsPicker","getSavedTalentsStorageKey","SavedTalents","newTalents","curShown","toggledElems","updateToggle","petTypeToggle","toggleContainer","tankSpec","individualBuffs","getSavedRotationStorageKey","keyPart","specToLocalStorageKey","protoBytes","deflated","deflate","to","encoded","btoa","fromCharCode","linkUrl","includeBuffDebuffInputs","some","excludeBuffDebuffInputs"],"mappings":"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"}